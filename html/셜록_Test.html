<!DOCTYPE html>
<!-- 원본: sherlock.jsx | 변환: 2026-02-22 -->
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>안개 속의 암호</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { min-height: 100vh; }
  #root { min-height: 100vh; display: flex; flex-direction: column; }
  body { background: #0a0805; overflow-x: hidden; overflow-y: auto; }
  ::-webkit-scrollbar { width: 5px; height: 5px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #3d2e1a; border-radius: 3px; }

  @keyframes fog {
    0%, 100% { opacity: 0.6; }
    50%       { opacity: 1; }
  }
  @keyframes flicker {
    0%, 100% { transform: scaleY(1) translateX(0);   opacity: 1; }
    25%       { transform: scaleY(1.1) translateX(1px); opacity: 0.9; }
    50%       { transform: scaleY(0.9) translateX(-1px); opacity: 1; }
    75%       { transform: scaleY(1.05) translateX(0.5px); opacity: 0.85; }
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.4/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useMemo, useRef, useCallback } = React;

const T = {
  bg:          "#0a0805",
  card:        "#110e09",
  surface:     "#1a1510",
  accent:      "#c8922a",
  accentDim:   "#8a6018",
  text:        "#e8dcc8",
  textDim:     "#a89880",
  textMuted:   "#6b5a45",
  border:      "#2a2018",
  borderLight: "#3d2e1a",
};

const chapters = [
  {
    id: 1,
    title: "I. 베이커 가의 저녁",
    content: `런던의 11월은 언제나 같은 냄새를 풍겼다. 석탄 연기와 텁텁한 안개, 그리고 템스 강에서 올라오는 이름 모를 습기. 나는 외투를 여미며 베이커 가 221B의 계단을 올랐다.

홈즈는 바이올린을 무릎에 올려둔 채 난롯가 의자에 앉아 있었다. 연주를 하는 것도 아니고, 그저 손가락으로 현을 가볍게 튕길 뿐이었다. 그것은 그가 깊이 생각할 때 나오는 버릇이었다.

"왓슨, 자네 오른쪽 장화 밑창에 진흙이 묻어 있군. 화이트채플 쪽에 다녀왔나?"

나는 멈추었다. 그는 나를 보지도 않았다.

"어떻게……"

"진흙의 색깔일세. 런던 동쪽 특유의 붉은 기가 도는 점토층이야. 더 설명이 필요한가?"

나는 웃음을 참으며 안락의자에 앉았다. 난로가 탁탁 소리를 내며 타올랐다.`,
  },
  {
    id: 2,
    title: "II. 암호화된 편지",
    content: `그때 문을 두드리는 소리가 들렸다. 허드슨 부인의 발소리보다 무겁고, 주저함이 담긴 노크였다.

홈즈는 눈 하나 깜짝 않고 말했다. "들어오시오."

문을 연 것은 사십대 초반의 남자였다. 말쑥한 차림이었지만 넥타이가 삐뚤어져 있었고, 왼쪽 손목에는 시계가 없었다. 시계를 차는 사람이 갑작스레 서둘러 나왔다는 뜻이었다.

"홈즈 씨, 제 이름은 에드워드 래섬입니다. 그로브너 스퀘어의 래섬 상회를 운영하고 있지요." 그는 봉투 하나를 내밀었다. "오늘 아침, 이것이 사무실 책상 위에 놓여 있었습니다. 직원 중 아무도 가져다 놓은 사람이 없다고 합니다."

홈즈는 봉투를 받아 불빛에 비춰보았다. 봉투 안에는 종이 한 장. 거기에는 숫자들만 빼곡히 적혀 있었다.

**18-5-20-21-18-14 / 23-8-1-20 / 25-15-21 / 19-20-15-12-5**

"흥미롭군." 홈즈의 눈이 가늘어졌다.`,
  },
  {
    id: 3,
    title: "III. 홈즈의 추리",
    content: `홈즈는 종이를 난로 불빛 가까이 가져갔다. 잠시 후 그는 자리에서 일어나 창가로 걸어갔다. 안개가 자욱한 베이커 가를 내려다보며 그는 중얼거렸다.

"알파벳 치환 암호. A=1, B=2의 단순 배열. 하지만 메시지가 단순하지 않아."

나는 다가가 숫자를 소리 내어 풀었다. 18은 R, 5는 E, 20은 T……

*RETURN WHAT YOU STOLE.*

"훔친 것을 돌려달라." 내가 낮게 읽었다.

래섬 씨의 얼굴이 창백해졌다. 홈즈는 그것을 놓치지 않았다.

"래섬 씨, 당신이 나에게 말하지 않은 무언가가 있군요." 홈즈의 목소리는 차분했지만 그 안에는 날이 서 있었다. "이 편지보다 먼저 일어난 일, 그것부터 이야기해주시겠습니까. 처음부터. 빠짐없이."

난로가 다시 한 번 탁 소리를 냈다. 런던의 안개는 창문을 두드렸고, 사건은 이제 막 시작되고 있었다.`,
  },
];

function Fog() {
  return (
    <div style={{
      position: "fixed", inset: 0, pointerEvents: "none", zIndex: 0,
      background: `radial-gradient(ellipse at 20% 80%, ${T.accentDim}08 0%, transparent 60%),
                   radial-gradient(ellipse at 80% 20%, ${T.accentDim}06 0%, transparent 60%)`,
      animation: "fog 8s ease-in-out infinite",
    }} />
  );
}

function Candle() {
  return (
    <div style={{ display: "flex", flexDirection: "column", alignItems: "center", gap: 2 }}>
      <div style={{
        width: 2, height: 14, background: T.accent,
        borderRadius: 2, animation: "flicker 1.8s ease-in-out infinite",
        boxShadow: `0 0 8px ${T.accent}cc, 0 0 20px ${T.accent}44`,
      }} />
      <div style={{
        width: 6, height: 28,
        background: "linear-gradient(to bottom, #e8dcc8, #c8b89a)",
        borderRadius: "2px 2px 4px 4px",
      }} />
    </div>
  );
}

function ChapterNav({ chapters, current, onSelect }) {
  return (
    <div style={{ display: "flex", gap: 8, flexWrap: "wrap", justifyContent: "center", marginBottom: 32 }}>
      {chapters.map(ch => (
        <button
          key={ch.id}
          onClick={() => onSelect(ch.id)}
          style={{
            padding: "8px 16px",
            background: current === ch.id ? T.accent : "transparent",
            color: current === ch.id ? "#1a0e00" : T.textDim,
            border: `1px solid ${current === ch.id ? T.accent : T.borderLight}`,
            borderRadius: 4,
            cursor: "pointer",
            fontSize: 13,
            fontFamily: 'Georgia, "Noto Serif KR", serif',
            transition: "all 0.2s",
          }}
        >
          {ch.title.split(".")[0].trim()}장
        </button>
      ))}
    </div>
  );
}

function ChapterView({ chapter }) {
  const paragraphs = chapter.content.trim().split("\n\n");
  return (
    <div key={chapter.id} style={{ animation: "fadeIn 0.5s ease" }}>
      <h2 style={{
        fontFamily: 'Georgia, "Noto Serif KR", serif',
        fontSize: 20, color: T.accent, marginBottom: 24,
        borderBottom: `1px solid ${T.border}`, paddingBottom: 12,
      }}>
        {chapter.title}
      </h2>
      {paragraphs.map((para, i) => {
        if (para.startsWith("**") && para.includes("**", 2)) {
          const text = para.replace(/\*\*/g, "");
          return (
            <p key={i} style={{
              fontFamily: '"Courier New", Courier, monospace',
              fontSize: 15, color: T.accent, letterSpacing: 3,
              textAlign: "center", margin: "20px 0", padding: "12px 20px",
              background: `${T.accent}10`, border: `1px solid ${T.accentDim}`, borderRadius: 4,
            }}>{text}</p>
          );
        }
        if (para.startsWith("*") && !para.startsWith("**")) {
          const text = para.replace(/\*/g, "");
          return (
            <p key={i} style={{
              fontFamily: 'Georgia, "Noto Serif KR", serif',
              fontSize: 16, color: T.textDim, fontStyle: "italic",
              margin: "16px 0", lineHeight: 1.9,
            }}>{text}</p>
          );
        }
        return (
          <p key={i} style={{
            fontFamily: 'Georgia, "Noto Serif KR", serif',
            fontSize: 16, color: T.text, lineHeight: 2, marginBottom: 20,
          }}>{para}</p>
        );
      })}
    </div>
  );
}

function App() {
  const [currentId, setCurrentId] = useState(1);
  const chapter = chapters.find(c => c.id === currentId);

  return (
    <div style={{ minHeight: "100vh", background: T.bg, position: "relative" }}>
      <Fog />

      {/* 헤더 */}
      <div style={{
        position: "relative", zIndex: 1,
        borderBottom: `1px solid ${T.border}`,
        padding: "24px 0 20px",
        display: "flex", flexDirection: "column", alignItems: "center", gap: 12,
      }}>
        <div style={{ display: "flex", alignItems: "center", gap: 16 }}>
          <Candle />
          <div style={{ textAlign: "center" }}>
            <div style={{
              fontSize: 11, letterSpacing: 4, color: T.textMuted,
              fontFamily: "Georgia, serif", marginBottom: 4,
            }}>SHERLOCK HOLMES</div>
            <h1 style={{
              fontSize: 26, color: T.text,
              fontFamily: 'Georgia, "Noto Serif KR", serif',
              fontWeight: "normal",
            }}>안개 속의 암호</h1>
          </div>
          <Candle />
        </div>
        <div style={{ fontSize: 12, color: T.textMuted, fontFamily: "Georgia, serif", fontStyle: "italic" }}>
          London, November 1895
        </div>
      </div>

      {/* 본문 */}
      <div style={{
        position: "relative", zIndex: 1,
        maxWidth: 680, margin: "0 auto", padding: "40px 24px 80px",
      }}>
        <ChapterNav chapters={chapters} current={currentId} onSelect={setCurrentId} />
        <div style={{
          background: T.card, border: `1px solid ${T.border}`,
          borderRadius: 8, padding: "36px 40px",
          boxShadow: `0 4px 40px #00000080, inset 0 1px 0 ${T.borderLight}`,
        }}>
          <ChapterView chapter={chapter} />
        </div>

        {/* 이전/다음 */}
        <div style={{ display: "flex", justifyContent: "space-between", marginTop: 24 }}>
          {currentId > 1 ? (
            <button onClick={() => setCurrentId(currentId - 1)} style={{
              background: "transparent", border: `1px solid ${T.borderLight}`,
              color: T.textDim, padding: "8px 20px", borderRadius: 4,
              cursor: "pointer", fontFamily: "Georgia, serif", fontSize: 13,
            }}>← 이전 장</button>
          ) : <span />}
          {currentId < chapters.length ? (
            <button onClick={() => setCurrentId(currentId + 1)} style={{
              background: "transparent", border: `1px solid ${T.borderLight}`,
              color: T.textDim, padding: "8px 20px", borderRadius: 4,
              cursor: "pointer", fontFamily: "Georgia, serif", fontSize: 13,
            }}>다음 장 →</button>
          ) : (
            <div style={{
              color: T.textMuted, fontSize: 13,
              fontFamily: "Georgia, serif", fontStyle: "italic", alignSelf: "center",
            }}>— 계속 —</div>
          )}
        </div>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));
</script>
</body>
</html>
