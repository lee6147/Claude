<!DOCTYPE html>
<!-- ì›ë³¸: ConfluenceGuide.jsx | ë³€í™˜: 2026-02-24 -->
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Confluence ì •ë³µ ê°€ì´ë“œ</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { min-height: 100vh; }
  #root { min-height: 100vh; display: flex; flex-direction: column; }
  body { background: #f0f4f8; overflow-x: hidden; overflow-y: auto; font-family: -apple-system, "Segoe UI", "Noto Sans KR", sans-serif; }
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: #DEEBFF; }
  ::-webkit-scrollbar-thumb { background: #0052CC; border-radius: 3px; }

  @keyframes fadeInUp { from { opacity:0; transform:translateY(28px); } to { opacity:1; transform:translateY(0); } }
  @keyframes fadeInLeft { from { opacity:0; transform:translateX(-24px); } to { opacity:1; transform:translateX(0); } }
  @keyframes pulse-glow { 0%,100% { box-shadow:0 0 0 0 rgba(0,82,204,0); } 50% { box-shadow:0 0 20px 6px rgba(0,82,204,0.2); } }
  @keyframes float { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-8px); } }
  @keyframes shimmer { 0% { background-position:-200% center; } 100% { background-position:200% center; } }
  @keyframes spin-slow { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }
  @keyframes bounce { 0%,100% { transform:scale(1); } 50% { transform:scale(1.15); } }
  @keyframes slide-in-card { from { opacity:0; transform:translateX(-30px); } to { opacity:1; transform:translateX(0); } }
  @keyframes particle { 0% { transform:translate(0,0) scale(1); opacity:0.8; } 100% { transform:translate(var(--tx,20px),var(--ty,-40px)) scale(0); opacity:0; } }
  @keyframes star-twinkle { 0%,100% { opacity:0.2; transform:scale(0.8); } 50% { opacity:1; transform:scale(1.2); } }
  @keyframes check-pop { 0% { transform:scale(0); } 70% { transform:scale(1.3); } 100% { transform:scale(1); } }
  @keyframes progress-fill { from { width:0%; } to { width:var(--tw,100%); } }
  @keyframes card-flip-in { from { transform:rotateY(-90deg); opacity:0; } to { transform:rotateY(0); opacity:1; } }
  @keyframes notification-drop { 0% { transform:translateY(-20px); opacity:0; } 60% { transform:translateY(4px); } 100% { transform:translateY(0); opacity:1; } }
  @keyframes shield-pulse { 0%,100% { box-shadow:0 0 0 0 rgba(101,84,192,0.3); } 50% { box-shadow:0 0 16px 4px rgba(101,84,192,0.5); } }
  @keyframes node-connect { from { stroke-dashoffset:100; } to { stroke-dashoffset:0; } }
  @keyframes typing { from { width:0; } to { width:100%; } }
  @keyframes orbit { from { transform:rotate(0deg) translateX(30px) rotate(0deg); } to { transform:rotate(360deg) translateX(30px) rotate(-360deg); } }

  .section-reveal { opacity:0; transform:translateY(30px); transition:opacity 0.7s ease, transform 0.7s ease; }
  .section-reveal.visible { opacity:1; transform:translateY(0); }
  .hover-lift { transition:transform 0.2s ease, box-shadow 0.2s ease; }
  .hover-lift:hover { transform:translateY(-3px); box-shadow:0 12px 32px rgba(0,82,204,0.12); }
  .kbd-key { display:inline-block; background:#fff; border:1px solid #dfe1e6; border-bottom:3px solid #c1c7d0; border-radius:6px; padding:3px 9px; font-family:Consolas,"Courier New",monospace; font-size:12px; color:#0052CC; }
  @media(max-width:900px) { .toc-sidebar-wrap { display:none !important; } }
</style>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.4/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useRef, useCallback, useMemo } = React;

function seededRandom(seed) { const x = Math.sin(seed*9301+49297)*233280; return x - Math.floor(x); }

const C = {
  bg:"#f0f4f8", surface:"#ffffff", card:"#ffffff", border:"#dfe1e6",
  accent:"#0052CC", accentDim:"#4C9AFF", teal:"#00B8D9", green:"#00875A",
  red:"#DE350B", orange:"#FF8B00", yellow:"#FF991F", purple:"#6554C0",
  textPrimary:"#172B4D", textSecondary:"#5E6C84", textMuted:"#97A0AF",
};

function SectionDivider() { return <div style={{height:2,background:"linear-gradient(90deg,transparent,#0052CC44,#00B8D944,transparent)",margin:"48px 0"}} />; }

function Tag({color="blue",children}) {
  const colors={blue:{bg:"#DEEBFF",c:"#0052CC"},green:{bg:"#E3FCEF",c:"#00875A"},red:{bg:"#FFEBE6",c:"#DE350B"},purple:{bg:"#EAE6FF",c:"#6554C0"},orange:{bg:"#FFF0B3",c:"#FF8B00"},teal:{bg:"#E6FCFF",c:"#006680"}};
  const s=colors[color]||colors.blue;
  return <span style={{display:"inline-block",background:s.bg,color:s.c,borderRadius:4,padding:"2px 8px",fontSize:11,fontWeight:700}}>{children}</span>;
}

function TipBox({icon="ğŸ’¡",children,color=C.accent}) {
  return <div style={{background:"#DEEBFF",border:"1px solid #B3D4FF",borderLeft:`4px solid ${color}`,borderRadius:10,padding:"14px 18px",marginTop:16,display:"flex",gap:12}}>
    <span style={{fontSize:18}}>{icon}</span>
    <div style={{color:C.textSecondary,fontSize:13,lineHeight:1.7,flex:1}}>{children}</div>
  </div>;
}

function StepBadge({num}) {
  return <div style={{width:28,height:28,borderRadius:"50%",background:"linear-gradient(135deg,#0052CC,#00B8D9)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:"#fff",flexShrink:0,boxShadow:"0 2px 6px rgba(0,82,204,0.3)"}}>{num}</div>;
}

function ConfluenceIcon({size=40}) {
  return <svg width={size} height={size} viewBox="0 0 100 100" fill="none">
    <path d="M15 68c4-6 10-13 22-13s15 4 20 10c1 1.2 0.6 2.8-0.6 3.8s-2.8 0.6-3.8-0.6c-4-4.8-9-8-15.6-8-9 0-13.6 5.4-17 10.6-0.8 1.2-2.4 1.6-3.6 0.8s-1.6-2.4-0.8-3.6z" fill="url(#cg1)"/>
    <path d="M85 32c-4 6-10 13-22 13s-15-4-20-10c-1-1.2-0.6-2.8 0.6-3.8s2.8-0.6 3.8 0.6c4 4.8 9 8 15.6 8 9 0 13.6-5.4 17-10.6 0.8-1.2 2.4-1.6 3.6-0.8s1.6 2.4 0.8 3.6z" fill="url(#cg2)"/>
    <defs><linearGradient id="cg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#0052CC"/><stop offset="100%" stopColor="#2684FF"/></linearGradient>
    <linearGradient id="cg2" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#2684FF"/><stop offset="100%" stopColor="#0052CC"/></linearGradient></defs>
  </svg>;
}

function SectionHeader({num,emoji,title,subtitle}) {
  return <div style={{marginBottom:28,display:"flex",alignItems:"center",gap:14}}>
    <div style={{width:44,height:44,borderRadius:12,background:"linear-gradient(135deg,#0052CC,#00B8D9)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,color:"#fff",fontWeight:800,flexShrink:0,boxShadow:"0 4px 12px rgba(0,82,204,0.3)"}}>{typeof emoji==="string"?emoji:num}</div>
    <div><div style={{fontSize:11,color:C.accent,fontWeight:700,letterSpacing:2,fontFamily:'Consolas,monospace'}}>SECTION {String(num).padStart(2,"0")}</div>
    <h2 style={{fontSize:24,fontWeight:800,color:C.textPrimary,lineHeight:1.2}}>{title}</h2>
    {subtitle&&<p style={{color:C.textSecondary,fontSize:14,marginTop:2}}>{subtitle}</p>}</div>
  </div>;
}

function StageHeader({level,icon,title,subtitle}) {
  const cfg={beginner:{bg:"linear-gradient(135deg,#00B8D9,#0065FF)",label:"STAGE 1 Â· ì´ˆê¸‰"},intermediate:{bg:"linear-gradient(135deg,#0052CC,#172B4D)",label:"STAGE 2 Â· ì¤‘ê¸‰"},advanced:{bg:"linear-gradient(135deg,#6554C0,#172B4D)",label:"STAGE 3 Â· ê³ ê¸‰"}}[level]||{};
  const stars=Array.from({length:18},(_,i)=>({id:i,x:seededRandom(i*7+1)*100,y:seededRandom(i*13+2)*100,s:1.5+seededRandom(i*3)*3,d:1.5+seededRandom(i*5)*3,dl:seededRandom(i*11)*3}));
  return <div style={{position:"relative",overflow:"hidden",borderRadius:16,padding:"32px 36px",margin:"40px 0 28px",background:cfg.bg,boxShadow:"0 8px 32px rgba(0,82,204,0.25)"}}>
    <div style={{position:"absolute",inset:0,pointerEvents:"none"}}>{stars.map(s=><div key={s.id} style={{position:"absolute",left:`${s.x}%`,top:`${s.y}%`,width:s.s,height:s.s,borderRadius:"50%",background:"#fff",animation:`star-twinkle ${s.d}s ${s.dl}s ease-in-out infinite`}} />)}</div>
    <div style={{position:"relative",display:"flex",alignItems:"center",gap:20}}>
      <div style={{width:56,height:56,borderRadius:14,background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28}}>{icon}</div>
      <div><div style={{display:"inline-block",background:"rgba(255,255,255,0.2)",borderRadius:12,padding:"3px 12px",fontSize:11,fontWeight:800,letterSpacing:1,color:"#fff",marginBottom:6}}>{cfg.label}</div>
      <div style={{fontSize:24,fontWeight:900,color:"#fff"}}>{title}</div>
      {subtitle&&<div style={{fontSize:14,color:"rgba(255,255,255,0.8)",marginTop:4}}>{subtitle}</div>}</div>
    </div>
  </div>;
}

const TOC_ITEMS=[
  {id:"s1",num:"01",label:"ëŒ€ì‹œë³´ë“œ",g:"b"},{id:"s2",num:"02",label:"ìŠ¤í˜ì´ìŠ¤",g:"b"},{id:"s3",num:"03",label:"í˜ì´ì§€/ë¸”ë¡œê·¸",g:"b"},{id:"s4",num:"04",label:"ì—ë””í„°",g:"b"},{id:"s5",num:"05",label:"ë¼ë²¨",g:"b"},{id:"s6",num:"06",label:"ê²€ìƒ‰",g:"b"},
  {id:"s7",num:"07",label:"ë§¤í¬ë¡œ",g:"m"},{id:"s8",num:"08",label:"í…œí”Œë¦¿",g:"m"},{id:"s9",num:"09",label:"ë™ì‹œí¸ì§‘",g:"m"},{id:"s10",num:"10",label:"ëŒ“ê¸€",g:"m"},{id:"s11",num:"11",label:"ë²„ì „ê´€ë¦¬",g:"m"},{id:"s12",num:"12",label:"ìŠ¤í˜ì´ìŠ¤ê´€ë¦¬",g:"m"},
  {id:"s13",num:"13",label:"ê¶Œí•œ",g:"a"},{id:"s14",num:"14",label:"Page Properties",g:"a"},{id:"s15",num:"15",label:"Jira ì—°ë™",g:"a"},{id:"s16",num:"16",label:"ì•Œë¦¼",g:"a"},{id:"s17",num:"17",label:"Analytics",g:"a"},{id:"s18",num:"18",label:"ìë™í™”&ì•±",g:"a"},{id:"s19",num:"19",label:"PDF",g:"a"},
  {id:"s20",num:"âŒ¨",label:"ë‹¨ì¶•í‚¤",g:"x"},{id:"s21",num:"ğŸ“–",label:"ìš©ì–´ì‚¬ì „",g:"x"},
];
const groupMeta={b:{label:"ì´ˆê¸‰",dot:C.teal},m:{label:"ì¤‘ê¸‰",dot:C.accent},a:{label:"ê³ ê¸‰",dot:C.purple},x:{label:"ë¶€ë¡",dot:C.textMuted}};

function TOCSidebar({active,visited}) {
  const groups=["b","m","a","x"];
  return <div className="toc-sidebar-wrap" style={{width:210,flexShrink:0,position:"sticky",top:20,height:"fit-content",background:"#fff",border:`1px solid ${C.border}`,borderRadius:14,padding:14,boxShadow:"0 2px 12px rgba(0,0,0,0.06)"}}>
    {groups.map(g=>{const gm=groupMeta[g]; return <div key={g}>
      <div style={{display:"flex",alignItems:"center",gap:6,padding:"8px 6px 4px",fontSize:10,fontWeight:700,letterSpacing:2,color:C.textMuted}}>
        <span style={{width:7,height:7,borderRadius:"50%",background:gm.dot}} />{gm.label}
      </div>
      {TOC_ITEMS.filter(i=>i.g===g).map(item=>{const isA=active===item.id; return <a key={item.id} href={`#${item.id}`} style={{display:"flex",alignItems:"center",gap:7,padding:"5px 8px",borderRadius:6,textDecoration:"none",marginBottom:1,background:isA?"#DEEBFF":"transparent",borderLeft:isA?`3px solid ${C.accent}`:"3px solid transparent",transition:"all 0.15s"}}>
        <span style={{fontSize:10,fontFamily:"Consolas,monospace",color:isA?C.accent:C.textMuted,width:18,flexShrink:0,fontWeight:700}}>{item.num}</span>
        <span style={{fontSize:12,color:isA?C.textPrimary:C.textSecondary,fontWeight:isA?600:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{item.label}</span>
        {visited.has(item.id)&&<span style={{marginLeft:"auto",color:C.green,fontSize:10}}>âœ“</span>}
      </a>;})}
    </div>;})}
    <div style={{borderTop:`1px solid ${C.border}`,marginTop:10,paddingTop:10}}>
      <div style={{display:"flex",justifyContent:"space-between",fontSize:10,color:C.textMuted,fontWeight:600}}><span>ì§„ë„</span><span>{visited.size}/21</span></div>
      <div style={{background:"#F4F5F7",borderRadius:4,height:5,marginTop:5,overflow:"hidden"}}><div style={{height:"100%",borderRadius:4,background:`linear-gradient(90deg,${C.accent},${C.teal})`,transition:"width 0.5s",width:`${(visited.size/21)*100}%`}} /></div>
    </div>
  </div>;
}

function HeroSection() {
  const ps=Array.from({length:25},(_,i)=>({id:i,x:seededRandom(i*7+1)*100,y:seededRandom(i*13+2)*100,s:2+seededRandom(i*3+3)*3,d:2+seededRandom(i*5+4)*4,dl:seededRandom(i*11+5)*3}));
  return <div style={{position:"relative",overflow:"hidden",padding:"72px 0 56px",background:"linear-gradient(180deg,#DEEBFF 0%,#f0f4f8 100%)"}}>
    <div style={{position:"absolute",inset:0,opacity:0.06,backgroundImage:"linear-gradient(#B3D4FF 1px,transparent 1px),linear-gradient(90deg,#B3D4FF 1px,transparent 1px)",backgroundSize:"50px 50px"}} />
    {ps.map(p=><div key={p.id} style={{position:"absolute",left:`${p.x}%`,top:`${p.y}%`,width:p.s,height:p.s,borderRadius:"50%",background:"#4C9AFF",animation:`star-twinkle ${p.d}s ${p.dl}s ease-in-out infinite`}} />)}
    <div style={{position:"relative",textAlign:"center",maxWidth:800,margin:"0 auto",padding:"0 24px"}}>
      <div style={{marginBottom:20,animation:"fadeInUp 0.8s ease both"}}>
        <div style={{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:20,background:"linear-gradient(135deg,#0052CC,#00B8D9)",boxShadow:"0 8px 32px rgba(0,82,204,0.3)",animation:"float 3.5s ease-in-out infinite"}}><ConfluenceIcon size={50} /></div>
      </div>
      <div style={{display:"inline-flex",alignItems:"center",gap:8,background:"#fff",border:"1px solid #B3D4FF",borderRadius:20,padding:"6px 16px",marginBottom:20,animation:"fadeInUp 0.8s ease both",boxShadow:"0 2px 8px rgba(0,82,204,0.08)"}}>
        <div style={{width:8,height:8,borderRadius:"50%",background:C.teal,animation:"pulse-glow 2s ease-in-out infinite"}} />
        <span style={{color:C.accent,fontSize:12,fontWeight:600,fontFamily:'Consolas,monospace',letterSpacing:1}}>CONFLUENCE 10.2 Â· ì™„ì „ ì´ˆê¸‰ì ~ ê³ ê¸‰</span>
      </div>
      <h1 style={{fontSize:"clamp(36px,6vw,68px)",fontWeight:800,lineHeight:1.1,background:"linear-gradient(135deg,#172B4D 0%,#0052CC 50%,#00B8D9 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"fadeInUp 0.8s 0.15s ease both",marginBottom:18}}>{'Confluence\nì •ë³µ ê°€ì´ë“œ'}</h1>
      <p style={{color:C.textSecondary,fontSize:17,lineHeight:1.7,maxWidth:520,margin:"0 auto 32px",animation:"fadeInUp 0.8s 0.3s ease both",whiteSpace:"pre-line"}}>{'ìš°ì£¼ ê¸°ì§€ ê±´ì„¤ë¶€í„° ì‚¬ë ¹ê´€ê¹Œì§€\në‹¨ê³„ë³„ë¡œ ì™„ë²½í•˜ê²Œ ë§ˆìŠ¤í„°í•˜ì„¸ìš”'}</p>
      <div style={{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap",animation:"fadeInUp 0.8s 0.45s ease both"}}>
        {["ğŸ“š 19ê°œ ì„¹ì…˜","ğŸ® ì¸í„°ë™í‹°ë¸Œ","ğŸ† 3ë‹¨ê³„ í•™ìŠµ","ğŸ’¡ ì‹¤ì „ íŒ"].map((l,i)=><div key={i} style={{background:"#fff",border:`1px solid ${C.border}`,borderRadius:8,padding:"8px 16px",color:C.textSecondary,fontSize:13,boxShadow:"0 1px 4px rgba(0,0,0,0.06)"}}>{l}</div>)}
      </div>
    </div>
  </div>;
}

/* ======= SECTION 1: Dashboard ======= */
function Section1() {
  const [hoveredArea, setHoveredArea] = useState(null);
  const [activeFeedTab, setActiveFeedTab] = useState("all");
  const [starredSpaces, setStarredSpaces] = useState(["QAíŒ€","ê°œë°œíŒ€"]);
  const [hoveredRecent, setHoveredRecent] = useState(null);
  const [createOpen, setCreateOpen] = useState(false);
  const [bellOpen, setBellOpen] = useState(false);
  const [searchFocused, setSearchFocused] = useState(false);
  const [searchText, setSearchText] = useState("");
  const createRef = useRef(null);
  const bellRef = useRef(null);
  const searchRef = useRef(null);

  useEffect(() => {
    const handler = (e) => {
      if (createRef.current && !createRef.current.contains(e.target)) setCreateOpen(false);
      if (bellRef.current && !bellRef.current.contains(e.target)) setBellOpen(false);
      if (searchRef.current && !searchRef.current.contains(e.target)) setSearchFocused(false);
    };
    document.addEventListener("mousedown", handler);
    return () => document.removeEventListener("mousedown", handler);
  }, []);

  const toggleStar = (s) => setStarredSpaces(prev => prev.includes(s) ? prev.filter(x=>x!==s) : [...prev,s]);

  const areas = [
    {id:"recent",label:"ìµœê·¼ ì‘ì—…",icon:"ğŸ“",desc:"ë‚´ê°€ ìµœê·¼ ë§Œë“¤ê±°ë‚˜ ìˆ˜ì •í•œ ë¬¸ì„œ ëª©ë¡",color:C.accent},
    {id:"spaces",label:"ë‚˜ì˜ ìŠ¤í˜ì´ìŠ¤",icon:"â­",desc:"ì¦ê²¨ì°¾ê¸°í•œ ì£¼ìš” ìŠ¤í˜ì´ìŠ¤ ëª¨ìŒ",color:C.teal},
    {id:"feed",label:"í”¼ë“œ",icon:"ğŸ“°",desc:"íŒ€ì˜ ìµœì‹  ë³€ê²½ì‚¬í•­ì„ í™•ì¸",color:C.green},
    {id:"nav",label:"ë„¤ë¹„ê²Œì´ì…˜ ë°”",icon:"ğŸ§­",desc:"í™ˆ, ìŠ¤í˜ì´ìŠ¤, ì‚¬ëŒ, ì•±, +ë§Œë“¤ê¸°",color:C.purple},
  ];
  const spaces = ["QAíŒ€","ê°œë°œíŒ€","ì¸ì‚¬íŒ€","ë§ˆì¼€íŒ…"];
  const feedContent = {all:["ê¹€ì² ìˆ˜ê°€ 'API ê°€ì´ë“œ' ìˆ˜ì •","ì´ì˜í¬ê°€ 'íšŒì˜ë¡' ìƒì„±","ë°•ë¯¼ìˆ˜ê°€ ëŒ“ê¸€ ì¶”ê°€"],popular:["API ì„¤ê³„ ê°€ì´ë“œ (ì¡°íšŒ 342)","ì˜¨ë³´ë”© ë§¤ë‰´ì–¼ (ì¡°íšŒ 287)"],discover:["ì¶”ì²œ: í…ŒìŠ¤íŠ¸ ì „ëµ ë¬¸ì„œ","ì¶”ì²œ: CI/CD íŒŒì´í”„ë¼ì¸"]};

  const recentWork = [
    {name:"ê¹€ì² ìˆ˜",title:"API ì„¤ê³„ ê°€ì´ë“œ ìˆ˜ì •",time:"5ë¶„ ì „",icon:"ğŸ“",excerpt:"REST API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„ ì›ì¹™ì„ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.\nì¸ì¦ ë°©ì‹ì„ OAuth 2.0ìœ¼ë¡œ ë³€ê²½ ë°˜ì˜."},
    {name:"ì´ì˜í¬",title:"íšŒì˜ë¡ ì‘ì„±",time:"15ë¶„ ì „",icon:"ğŸ“„",excerpt:"2ì›” ìŠ¤í”„ë¦°íŠ¸ íšŒê³  íšŒì˜ë¡ì…ë‹ˆë‹¤.\nì•¡ì…˜ ì•„ì´í…œ 5ê°œ ì •ë¦¬ ì™„ë£Œ."},
    {name:"ë°•ë¯¼ìˆ˜",title:"í…ŒìŠ¤íŠ¸ ê³„íšì„œ ëŒ“ê¸€",time:"1ì‹œê°„ ì „",icon:"ğŸ’¬",excerpt:"í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•œ í”¼ë“œë°±ì…ë‹ˆë‹¤.\nì—£ì§€ ì¼€ì´ìŠ¤ 3ê±´ ì¶”ê°€ ì œì•ˆ."},
    {name:"ìµœìˆ˜ì§„",title:"ì˜¨ë³´ë”© ê°€ì´ë“œ ì—…ë°ì´íŠ¸",time:"2ì‹œê°„ ì „",icon:"ğŸ“",excerpt:"ì‹ ê·œ ì…ì‚¬ì ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ ê°œì„ ì•ˆ ë°˜ì˜.\nSlack ì±„ë„ ê°€ì… ì ˆì°¨ ì¶”ê°€."},
    {name:"ì •ë‹¤ì—°",title:"Q1 íšŒê³  ë¸”ë¡œê·¸ ê²Œì‹œ",time:"3ì‹œê°„ ì „",icon:"ğŸ“°",excerpt:"1ë¶„ê¸° íŒ€ ì„±ê³¼ ë° ê°œì„ ì  íšŒê³  ë¸”ë¡œê·¸.\nOKR ë‹¬ì„±ë¥  85% ë¶„ì„ í¬í•¨."}
  ];

  const notifications = [
    {icon:"ğŸ’¬",text:"ë°•ë¯¼ìˆ˜ë‹˜ì´ 'API ê°€ì´ë“œ'ì— ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤.",time:"2ë¶„ ì „"},
    {icon:"ğŸ“",text:"ì´ì˜í¬ë‹˜ì´ 'íšŒì˜ë¡' í˜ì´ì§€ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.",time:"10ë¶„ ì „"},
    {icon:"ğŸ‘‹",text:"ìµœìˆ˜ì§„ë‹˜ì´ íšŒì›ë‹˜ì„ ë©˜ì…˜í–ˆìŠµë‹ˆë‹¤.",time:"30ë¶„ ì „"}
  ];

  const createOptions = [
    {icon:"ğŸ“„",label:"ë¹ˆ í˜ì´ì§€"},
    {icon:"ğŸ“°",label:"ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸"},
    {icon:"ğŸ“‹",label:"íšŒì˜ë¡"},
    {icon:"ğŸ—‚ï¸",label:"ìƒˆ ìŠ¤í˜ì´ìŠ¤"}
  ];

  const searchSuggestions = [
    {icon:"ğŸ”",text:"API ì„¤ê³„ ê°€ì´ë“œ"},
    {icon:"ğŸ“ˆ",text:"ìŠ¤í”„ë¦°íŠ¸ íšŒê³  íšŒì˜ë¡"},
    {icon:"ğŸ“š",text:"ì˜¨ë³´ë”© ë§¤ë‰´ì–¼"}
  ];

  const avatarColors = [C.accent, C.teal, C.green, C.purple, C.orange];

  return <div id="s1">
    <SectionHeader num={1} emoji="ğŸ " title="ëŒ€ì‹œë³´ë“œ (Dashboard)" subtitle="ë‚´ ìš°ì£¼ ê¸°ì§€ì˜ ë©”ì¸ í™”ë©´" />
    <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:20,marginBottom:16}}>
      {/* Nav Bar */}
      <div style={{background:C.accent,borderRadius:8,padding:"8px 16px",marginBottom:16,display:"flex",gap:16,alignItems:"center",position:"relative"}}>
        {["ğŸ  í™ˆ","ğŸ“ ìŠ¤í˜ì´ìŠ¤","ğŸ‘¥ ì‚¬ëŒ","ğŸ§© ì•±"].map((b,i)=><span key={i} style={{color:"#fff",fontSize:12,fontWeight:600,cursor:"pointer",opacity:0.85}}>{b}</span>)}

        {/* ê¸€ë¡œë²Œ ê²€ìƒ‰ */}
        <div ref={searchRef} style={{position:"relative",marginLeft:12,flex:"0 1 180px"}}>
          <input
            type="text"
            placeholder="ğŸ” ê²€ìƒ‰..."
            value={searchText}
            onChange={(e) => setSearchText(e.target.value)}
            onFocus={() => setSearchFocused(true)}
            style={{width:"100%",padding:"4px 10px",borderRadius:6,border:"none",fontSize:11,background:"rgba(255,255,255,0.2)",color:"#fff",outline:"none",caretColor:"#fff"}}
          />
          {searchFocused && <div style={{position:"absolute",top:"calc(100% + 6px)",left:0,width:220,background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",zIndex:20,overflow:"hidden"}}>
            <div style={{padding:"8px 12px",fontSize:10,fontWeight:700,color:C.textMuted,borderBottom:`1px solid ${C.border}`,letterSpacing:1}}>ì¶”ì²œ ê²€ìƒ‰ì–´</div>
            {searchSuggestions.map((s,i) => <div key={i} onClick={() => {setSearchText(s.text); setSearchFocused(false);}} style={{padding:"8px 12px",fontSize:12,color:C.textSecondary,cursor:"pointer",display:"flex",alignItems:"center",gap:8,borderBottom:i<searchSuggestions.length-1?`1px solid ${C.border}`:"none",transition:"background 0.15s"}} onMouseEnter={(e)=>e.currentTarget.style.background=C.bg} onMouseLeave={(e)=>e.currentTarget.style.background="transparent"}>
              <span>{s.icon}</span><span>{s.text}</span>
            </div>)}
          </div>}
        </div>

        {/* ì•Œë¦¼ ë²¨ */}
        <div ref={bellRef} style={{position:"relative",marginLeft:"auto",cursor:"pointer"}} onClick={() => setBellOpen(!bellOpen)}>
          <span style={{fontSize:16,position:"relative"}}>ğŸ””</span>
          <span style={{position:"absolute",top:-6,right:-8,background:C.red,color:"#fff",fontSize:9,fontWeight:700,borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1}}>3</span>
          {bellOpen && <div style={{position:"absolute",top:"calc(100% + 8px)",right:0,width:260,background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",zIndex:20,overflow:"hidden"}}>
            <div style={{padding:"10px 14px",fontSize:11,fontWeight:700,color:C.textPrimary,borderBottom:`1px solid ${C.border}`,display:"flex",justifyContent:"space-between",alignItems:"center"}}>
              <span>ì•Œë¦¼</span><span style={{fontSize:10,color:C.accent,cursor:"pointer",fontWeight:600}}>ëª¨ë‘ ì½ìŒ</span>
            </div>
            {notifications.map((n,i) => <div key={i} style={{padding:"10px 14px",borderBottom:i<notifications.length-1?`1px solid ${C.border}`:"none",display:"flex",gap:10,alignItems:"flex-start",animation:`notification-drop 0.3s ${i*0.08}s ease both`}}>
              <span style={{fontSize:14,flexShrink:0}}>{n.icon}</span>
              <div><div style={{fontSize:11,color:C.textPrimary,lineHeight:1.5}}>{n.text}</div><div style={{fontSize:10,color:C.textMuted,marginTop:2}}>{n.time}</div></div>
            </div>)}
          </div>}
        </div>

        {/* ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼ */}
        <div ref={createRef} style={{position:"relative"}}>
          <button onClick={() => setCreateOpen(!createOpen)} style={{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:6,color:"#fff",padding:"4px 14px",fontSize:12,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:4,transition:"background 0.2s"}} onMouseEnter={(e)=>e.currentTarget.style.background="rgba(255,255,255,0.3)"} onMouseLeave={(e)=>e.currentTarget.style.background="rgba(255,255,255,0.2)"}>
            + ë§Œë“¤ê¸° <span style={{fontSize:10,transition:"transform 0.2s",display:"inline-block",transform:createOpen?"rotate(180deg)":"rotate(0)"}}>â–¾</span>
          </button>
          {createOpen && <div style={{position:"absolute",top:"calc(100% + 6px)",right:0,width:180,background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",zIndex:20,overflow:"hidden"}}>
            {createOptions.map((opt,i) => <div key={i} onClick={() => setCreateOpen(false)} style={{padding:"10px 14px",fontSize:12,color:C.textPrimary,cursor:"pointer",display:"flex",alignItems:"center",gap:10,borderBottom:i<createOptions.length-1?`1px solid ${C.border}`:"none",transition:"background 0.15s"}} onMouseEnter={(e)=>e.currentTarget.style.background=C.bg} onMouseLeave={(e)=>e.currentTarget.style.background="transparent"}>
              <span style={{fontSize:15}}>{opt.icon}</span><span style={{fontWeight:600}}>{opt.label}</span>
            </div>)}
          </div>}
        </div>
      </div>

      {/* ìµœê·¼ ì‘ì—… ë¦¬ìŠ¤íŠ¸ */}
      <div style={{marginBottom:16}}>
        <div style={{fontSize:13,fontWeight:700,color:C.textPrimary,marginBottom:10,display:"flex",alignItems:"center",gap:6}}>
          <span style={{fontSize:15}}>ğŸ•</span> ìµœê·¼ ì‘ì—…
          <span style={{fontSize:10,color:C.textMuted,fontWeight:500,marginLeft:4}}>ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸</span>
        </div>
        <div style={{display:"flex",flexDirection:"column",gap:4}}>
          {recentWork.map((item, idx) => <div key={idx} style={{position:"relative"}} onMouseEnter={() => setHoveredRecent(idx)} onMouseLeave={() => setHoveredRecent(null)}>
            <div style={{display:"flex",alignItems:"center",gap:10,padding:"8px 12px",borderRadius:8,background:hoveredRecent===idx?`${C.accent}08`:C.bg,border:`1px solid ${hoveredRecent===idx?C.accentDim:C.border}`,cursor:"pointer",transition:"all 0.2s"}}>
              {/* Avatar */}
              <div style={{width:30,height:30,borderRadius:"50%",background:avatarColors[idx%avatarColors.length],display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:"#fff",flexShrink:0}}>{item.name.charAt(0)}</div>
              {/* Content */}
              <div style={{flex:1,minWidth:0}}>
                <div style={{fontSize:12,fontWeight:600,color:C.textPrimary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{item.title}</div>
                <div style={{fontSize:10,color:C.textMuted}}>{item.name}</div>
              </div>
              {/* Time & icon */}
              <span style={{fontSize:14,flexShrink:0}}>{item.icon}</span>
              <span style={{fontSize:10,color:C.textMuted,flexShrink:0,minWidth:50,textAlign:"right"}}>{item.time}</span>
            </div>
            {/* Hover tooltip excerpt */}
            {hoveredRecent===idx && <div style={{position:"absolute",left:"50%",bottom:"calc(100% + 6px)",transform:"translateX(-50%)",background:C.textPrimary,color:"#fff",borderRadius:8,padding:"10px 14px",fontSize:11,lineHeight:1.6,width:260,zIndex:15,boxShadow:"0 8px 24px rgba(0,0,0,0.18)",whiteSpace:"pre-line",animation:"fadeInUp 0.2s ease both",pointerEvents:"none"}}>
              {item.excerpt}
              <div style={{position:"absolute",bottom:-6,left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:`6px solid ${C.textPrimary}`}} />
            </div>}
          </div>)}
        </div>
      </div>

      {/* 4-Area Grid (existing) */}
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}}>
        {areas.map(area=><div key={area.id} onMouseEnter={()=>setHoveredArea(area.id)} onMouseLeave={()=>setHoveredArea(null)} style={{background:hoveredArea===area.id?`${area.color}11`:C.bg,border:`1.5px solid ${hoveredArea===area.id?area.color:C.border}`,borderRadius:10,padding:14,cursor:"pointer",transition:"all 0.25s",boxShadow:hoveredArea===area.id?`0 4px 16px ${area.color}22`:"none"}}>
          <div style={{display:"flex",alignItems:"center",gap:8,marginBottom:8}}><span style={{fontSize:18}}>{area.icon}</span><span style={{fontWeight:700,fontSize:13,color:C.textPrimary}}>{area.label}</span></div>
          {area.id==="spaces"?<div style={{display:"flex",flexDirection:"column",gap:4}}>{spaces.map(s=><div key={s} style={{display:"flex",alignItems:"center",justifyContent:"space-between",background:C.surface,borderRadius:6,padding:"3px 8px"}}>
            <span style={{fontSize:12,color:C.textSecondary}}>{s}</span>
            <span onClick={(e)=>{e.stopPropagation();toggleStar(s);}} style={{cursor:"pointer",fontSize:14,transition:"transform 0.3s",transform:starredSpaces.includes(s)?"scale(1.2)":"scale(1)"}}>{starredSpaces.includes(s)?"â­":"â˜†"}</span>
          </div>)}</div>
          :area.id==="feed"?<div>
            <div style={{display:"flex",gap:4,marginBottom:6}}>{["all","popular","discover"].map(t=><button key={t} onClick={(e)=>{e.stopPropagation();setActiveFeedTab(t);}} style={{fontSize:10,padding:"2px 8px",borderRadius:10,border:"none",background:activeFeedTab===t?area.color:C.border,color:activeFeedTab===t?"#fff":C.textMuted,cursor:"pointer"}}>{t==="all"?"ì „ì²´":t==="popular"?"ì¸ê¸°":"ì¶”ì²œ"}</button>)}</div>
            {feedContent[activeFeedTab].map((item,i)=><div key={i} style={{fontSize:11,color:C.textSecondary,padding:"3px 0",borderBottom:`1px solid ${C.border}`}}>{item}</div>)}
          </div>
          :<div style={{fontSize:12,color:C.textMuted,lineHeight:1.6}}>{area.desc}</div>}
        </div>)}
      </div>
    </div>
    <TipBox>ëŒ€ì‹œë³´ë“œëŠ” Confluence ë¡œê·¸ì¸ ì‹œ ê°€ì¥ ë¨¼ì € ë³´ì´ëŠ” í™”ë©´ì…ë‹ˆë‹¤. ì¦ê²¨ì°¾ê¸°(â­)ë¡œ ìì£¼ ì“°ëŠ” ìŠ¤í˜ì´ìŠ¤ë¥¼ ê³ ì •í•˜ì„¸ìš”.</TipBox>
  </div>;
}

/* ======= SECTION 2: Space ======= */
function Section2() {
  const [step, setStep] = useState(0);
  const [spaceName, setSpaceName] = useState("");
  const [spaceKey, setSpaceKey] = useState("");
  const [spaceType, setSpaceType] = useState(null);
  const [isCreated, setIsCreated] = useState(false);
  const handleName = (v) => { setSpaceName(v); setSpaceKey(v.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,6)); };
  const types = [{id:"blank",icon:"â¬œ",label:"ë¹ˆ ìŠ¤í˜ì´ìŠ¤"},{id:"doc",icon:"ğŸ“š",label:"ë¬¸ì„œí™”"},{id:"kb",icon:"ğŸ’¡",label:"ì§€ì‹ ê¸°ë°˜"}];
  const sideItems = ["ğŸ“‹ ê°œìš”","ğŸ“„ í˜ì´ì§€ íŠ¸ë¦¬","ğŸ“ ë¸”ë¡œê·¸","â­ ë°”ë¡œê°€ê¸°","âš™ï¸ ì„¤ì •"];
  const progress = Math.min((step/4)*100,100);
  return <div id="s2">
    <SectionHeader num={2} emoji="ğŸ“" title="ìŠ¤í˜ì´ìŠ¤ (Space)" subtitle="íŒ€ì„ ìœ„í•œ ì‘ì—… ê³µê°„ ë§Œë“¤ê¸°" />
    {!isCreated?<div style={{background:C.surface,borderRadius:12,padding:20,border:`1px solid ${C.border}`}}>
      <div style={{marginBottom:16}}><div style={{display:"flex",justifyContent:"space-between",fontSize:11,color:C.textMuted,marginBottom:4}}><span>{"ì§„í–‰ë„"}</span><span>{step}/4</span></div>
      <div style={{background:C.border,borderRadius:6,height:6,overflow:"hidden"}}><div style={{height:"100%",width:`${progress}%`,background:`linear-gradient(90deg,${C.accent},${C.teal})`,borderRadius:6,transition:"width 0.4s"}} /></div></div>
      {step===0&&<div style={{textAlign:"center",padding:"2rem"}}><div style={{fontSize:44,marginBottom:10}}>{"ğŸ“"}</div><p style={{color:C.textSecondary,marginBottom:16}}>{"ìŠ¤í˜ì´ìŠ¤ëŠ” ê´€ë ¨ í˜ì´ì§€ë“¤ì„ ëª¨ì•„ë‘ëŠ” ì»¨í…Œì´ë„ˆì…ë‹ˆë‹¤"}</p><button onClick={()=>setStep(1)} style={{background:C.accent,color:"#fff",border:"none",borderRadius:8,padding:"10px 24px",fontSize:14,fontWeight:700,cursor:"pointer"}}>{"ìŠ¤í˜ì´ìŠ¤ ë§Œë“¤ê¸°"}</button></div>}
      {step===1&&<div><h3 style={{fontSize:15,fontWeight:700,marginBottom:12}}>Step 1: {"ìœ í˜• ì„ íƒ"}</h3><div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:16}}>{types.map(t=><div key={t.id} onClick={()=>setSpaceType(t.id)} style={{border:`2px solid ${spaceType===t.id?C.accent:C.border}`,borderRadius:10,padding:14,textAlign:"center",cursor:"pointer",background:spaceType===t.id?`${C.accent}11`:"transparent",transition:"all 0.2s"}}><div style={{fontSize:24,marginBottom:6}}>{t.icon}</div><div style={{fontWeight:600,fontSize:13}}>{t.label}</div></div>)}</div><button onClick={()=>setStep(2)} disabled={!spaceType} style={{background:spaceType?C.accent:C.border,color:spaceType?"#fff":C.textMuted,border:"none",borderRadius:8,padding:"8px 20px",cursor:spaceType?"pointer":"not-allowed",fontWeight:600}}>{"ë‹¤ìŒ"}</button></div>}
      {step===2&&<div><h3 style={{fontSize:15,fontWeight:700,marginBottom:12}}>Step 2: {"ì´ë¦„ ì…ë ¥"}</h3><input value={spaceName} onChange={e=>handleName(e.target.value)} placeholder={"ì˜ˆ: QAíŒ€ ìœ„í‚¤"} style={{width:"100%",padding:"10px 14px",borderRadius:8,border:`2px solid ${C.accent}`,fontSize:14,marginBottom:10,boxSizing:"border-box"}} /><div style={{background:C.bg,borderRadius:8,padding:"8px 14px",fontSize:13,color:C.textSecondary,marginBottom:14}}>{"í‚¤(Key): "}<strong style={{color:C.accent}}>{spaceKey||"AUTO"}</strong></div><button onClick={()=>setStep(3)} style={{background:C.accent,color:"#fff",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:600,cursor:"pointer"}}>{"ë‹¤ìŒ"}</button></div>}
      {step===3&&<div><h3 style={{fontSize:15,fontWeight:700,marginBottom:12}}>Step 3: {"ê¶Œí•œ"}</h3><div style={{display:"flex",gap:10,marginBottom:16}}>{[{v:true,l:"ğŸŒ ê³µê°œ"},{v:false,l:"ğŸ”’ ë¹„ê³µê°œ"}].map(o=><div key={String(o.v)} style={{flex:1,border:`2px solid ${C.accent}`,borderRadius:10,padding:14,textAlign:"center",cursor:"pointer",background:`${C.accent}11`}}><div style={{fontWeight:700}}>{o.l}</div></div>)}</div><button onClick={()=>setStep(4)} style={{background:C.accent,color:"#fff",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:600,cursor:"pointer"}}>{"ë‹¤ìŒ"}</button></div>}
      {step===4&&<div style={{textAlign:"center",padding:"1rem"}}><h3 style={{marginBottom:12}}>Step 4: {"ìƒì„±!"}</h3><div style={{background:C.bg,borderRadius:8,padding:14,marginBottom:16,textAlign:"left",fontSize:13,lineHeight:2}}><span style={{color:C.textMuted}}>{"ì´ë¦„:"}</span> <strong>{spaceName||"ìƒˆ ìŠ¤í˜ì´ìŠ¤"}</strong><br/><span style={{color:C.textMuted}}>{"í‚¤:"}</span> <strong style={{color:C.accent}}>{spaceKey||"AUTO"}</strong></div><button onClick={()=>setIsCreated(true)} style={{background:`linear-gradient(135deg,${C.green},${C.teal})`,color:"#fff",border:"none",borderRadius:10,padding:"12px 32px",fontSize:15,fontWeight:800,cursor:"pointer",boxShadow:`0 4px 16px ${C.green}55`}}>{"ğŸš€ ìƒì„±!"}</button></div>}
    </div>
    :<div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,overflow:"hidden",display:"flex"}}>
      <div style={{width:180,background:`linear-gradient(180deg,${C.accent}15,${C.teal}08)`,borderRight:`1px solid ${C.border}`,padding:14}}>
        <div style={{fontWeight:800,fontSize:13,color:C.accent,marginBottom:14}}>{spaceName||"ìƒˆ ìŠ¤í˜ì´ìŠ¤"}</div>
        {sideItems.map((item,i)=><div key={i} style={{padding:"7px 10px",borderRadius:6,fontSize:12,color:i===0?C.accent:C.textSecondary,background:i===0?`${C.accent}15`:"transparent",marginBottom:2,fontWeight:i===0?600:400,animation:`fadeInLeft 0.3s ${i*0.06}s both`}}>{item}</div>)}
      </div>
      <div style={{flex:1,padding:20}}><div style={{fontSize:22,marginBottom:6}}>{"ğŸ‰"}</div><h3 style={{color:C.textPrimary,marginBottom:6}}>{"ìŠ¤í˜ì´ìŠ¤ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!"}</h3><p style={{color:C.textSecondary,fontSize:13}}>{"ì´ì œ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”."}</p><button onClick={()=>{setStep(0);setIsCreated(false);setSpaceName("");setSpaceKey("");setSpaceType(null);}} style={{marginTop:12,background:C.border,border:"none",borderRadius:8,padding:"6px 14px",cursor:"pointer",fontSize:12}}>{"ë‹¤ì‹œ ì‹œë„"}</button></div>
    </div>}
  </div>;
}

/* ======= SECTION 3: Page vs Blog ======= */
function Section3() {
  const [view, setView] = useState("page");
  const [expanded, setExpanded] = useState(["root","strategy"]);
  const tree = {id:"root",label:"QAíŒ€ ìŠ¤í˜ì´ìŠ¤",icon:"ğŸ“",ch:[{id:"strategy",label:"í…ŒìŠ¤íŠ¸ ì „ëµ",icon:"ğŸ“‹",ch:[{id:"unit",label:"ë‹¨ìœ„ í…ŒìŠ¤íŠ¸",icon:"ğŸ§ª",ch:[{id:"jest",label:"Jest ê°€ì´ë“œ",icon:"ğŸ“„",ch:[]}]},{id:"integ",label:"í†µí•© í…ŒìŠ¤íŠ¸",icon:"ğŸ”—",ch:[]},{id:"perf",label:"ì„±ëŠ¥ í…ŒìŠ¤íŠ¸",icon:"âš¡",ch:[{id:"jmeter",label:"JMeter ì„¤ì •",icon:"âš™ï¸",ch:[]}]}]},{id:"onboard",label:"QA ì˜¨ë³´ë”©",icon:"ğŸ‘‹",ch:[]}]};
  const blogs = [{d:"2024-03-15",t:"2024 Q1 íšŒê³ ",a:"ê¹€ë¯¼ìˆ˜",c:C.purple},{d:"2024-02-28",t:"ì£¼ê°„ ì—…ë°ì´íŠ¸ #12",a:"ì´ì§€ì€",c:C.teal},{d:"2024-02-10",t:"ì‹ ê·œ ê¸°ëŠ¥ ì¶œì‹œ ê³µì§€",a:"ë°•ì¤€í˜",c:C.green}];
  const toggle = id => setExpanded(p=>p.includes(id)?p.filter(x=>x!==id):[...p,id]);
  const renderNode = (node,depth=0) => <div key={node.id} style={{marginLeft:depth*18}}>
    <div onClick={()=>node.ch.length>0&&toggle(node.id)} style={{display:"flex",alignItems:"center",gap:6,padding:"5px 8px",borderRadius:6,cursor:node.ch.length>0?"pointer":"default",background:expanded.includes(node.id)?`${C.accent}08`:"transparent",transition:"background 0.2s",marginBottom:2}}>
      <span style={{fontSize:11,color:C.textMuted,transition:"transform 0.2s",display:"inline-block",transform:expanded.includes(node.id)?"rotate(90deg)":"rotate(0deg)"}}>{node.ch.length>0?"â–¶":"Â·"}</span>
      <span style={{fontSize:13}}>{node.icon}</span>
      <span style={{fontSize:12,color:C.textPrimary,fontWeight:depth===0?700:400}}>{node.label}</span>
    </div>
    <div style={{maxHeight:expanded.includes(node.id)?"500px":"0",overflow:"hidden",transition:"max-height 0.3s ease"}}>{node.ch.map(c=>renderNode(c,depth+1))}</div>
  </div>;
  const compRows=[{l:"ìš©ë„",p:"ì˜êµ¬ ì°¸ì¡° ë¬¸ì„œ",b:"ì‹œì  ê¸°ë°˜ ë‰´ìŠ¤"},{l:"êµ¬ì¡°",p:"ê³„ì¸µ íŠ¸ë¦¬",b:"ë‚ ì§œìˆœ íƒ€ì„ë¼ì¸"},{l:"ìˆ˜ëª…",p:"ì§€ì† ìœ ì§€ê´€ë¦¬",b:"ì•„ì¹´ì´ë¸Œ"},{l:"ì •ë ¬",p:"ì‚¬ìš©ì ì§€ì •",b:"ìµœì‹  ìˆœ"}];
  return <div id="s3">
    <SectionHeader num={3} emoji="ğŸ“„" title="í˜ì´ì§€ì™€ ë¸”ë¡œê·¸" subtitle="ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•" />
    <div style={{display:"flex",gap:4,marginBottom:14}}>
      {[["page","ğŸ“„ í˜ì´ì§€"],["blog","ğŸ“ ë¸”ë¡œê·¸"]].map(([v,l])=><button key={v} onClick={()=>setView(v)} style={{padding:"8px 20px",borderRadius:"8px 8px 0 0",border:`2px solid ${view===v?C.accent:C.border}`,borderBottom:view===v?`2px solid ${C.surface}`:`2px solid ${C.border}`,background:view===v?C.surface:C.bg,color:view===v?C.accent:C.textSecondary,fontWeight:700,cursor:"pointer",fontSize:13}}>{l}</button>)}
    </div>
    <div style={{background:C.surface,borderRadius:"0 8px 8px 8px",border:`2px solid ${C.border}`,padding:16,marginBottom:16,minHeight:200}}>
      {view==="page"?<div style={{animation:"fadeInUp 0.3s ease"}}>{renderNode(tree)}</div>
      :<div style={{animation:"fadeInUp 0.3s ease"}}>{blogs.map((b,i)=><div key={i} style={{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",borderRadius:10,border:`1px solid ${C.border}`,marginBottom:8,background:C.bg,animation:`slide-in-card 0.3s ${i*0.1}s both`}}>
        <div style={{width:40,height:40,borderRadius:"50%",background:`${b.c}22`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,flexShrink:0}}>{"ğŸ“°"}</div>
        <div style={{flex:1}}><div style={{fontWeight:700,fontSize:13,color:C.textPrimary}}>{b.t}</div><div style={{fontSize:11,color:C.textMuted}}>{b.a} {"Â·"} {b.d}</div></div>
      </div>)}</div>}
    </div>
    <div style={{background:C.surface,borderRadius:10,border:`1px solid ${C.border}`,overflow:"hidden"}}>
      <div style={{display:"grid",gridTemplateColumns:"80px 1fr 1fr",background:C.accent,color:"#fff",fontSize:12,fontWeight:700}}>
        <div style={{padding:"8px 12px"}}>{"êµ¬ë¶„"}</div><div style={{padding:"8px 12px",borderLeft:"1px solid rgba(255,255,255,0.2)"}}>{"í˜ì´ì§€"}</div><div style={{padding:"8px 12px",borderLeft:"1px solid rgba(255,255,255,0.2)"}}>{"ë¸”ë¡œê·¸"}</div>
      </div>
      {compRows.map((r,i)=><div key={r.l} style={{display:"grid",gridTemplateColumns:"80px 1fr 1fr",fontSize:12,background:i%2===0?C.bg:C.surface}}>
        <div style={{padding:"8px 12px",fontWeight:600,color:C.textSecondary}}>{r.l}</div>
        <div style={{padding:"8px 12px",color:C.textPrimary,borderLeft:`1px solid ${C.border}`}}>{r.p}</div>
        <div style={{padding:"8px 12px",color:C.textPrimary,borderLeft:`1px solid ${C.border}`}}>{r.b}</div>
      </div>)}
    </div>
  </div>;
}

/* ======= SECTION 4: Editor Deep Dive ======= */
function EditorDeepDive() {
const [tab,setTab]=useState(0);
const tabs=["í¬ë§·íŒ…","í‘œ","ë§ˆí¬ë‹¤ìš´","ì´ëª¨ì§€&ìƒíƒœ"];
const [bold,setBold]=useState(false);
const [italic,setItalic]=useState(false);
const [heading,setHeading]=useState(0);
const [textColor,setTextColor]=useState(C.textPrimary);
const [align,setAlign]=useState("left");
const [rows,setRows]=useState(3);
const [cols,setCols]=useState(3);
const [hasHeader,setHasHeader]=useState(true);
const [mdInput,setMdInput]=useState("");
const [mdPreview,setMdPreview]=useState(null);
const [selectedEmoji,setSelectedEmoji]=useState("");
const [statusColor,setStatusColor]=useState("blue");
const [statusText,setStatusText]=useState("ì§„í–‰ ì¤‘");
const [statusBadges,setStatusBadges]=useState([]);
const colorOptions=["#172B4D","#DE350B","#0052CC"];
const emojis=["ğŸ˜€","ğŸ‘","ğŸ‰","â¤ï¸","ğŸ”¥","â­","âœ…","âŒ","âš ï¸","ğŸ’¡","ğŸ“Œ","ğŸš€"];
const statusColors={grey:{bg:"#DFE1E6",c:"#42526E"},blue:{bg:"#DEEBFF",c:"#0052CC"},green:{bg:"#E3FCEF",c:"#006644"},yellow:{bg:"#FFF0B3",c:"#FF8B00"},red:{bg:"#FFEBE6",c:"#BF2600"}};
const mdShortcuts=[{input:"# í…ìŠ¤íŠ¸",output:"H1 ì œëª©",desc:"ì œëª© 1"},
{input:"## í…ìŠ¤íŠ¸",output:"H2 ì œëª©",desc:"ì œëª© 2"},
{input:"> í…ìŠ¤íŠ¸",output:"ì¸ìš© ë¸”ë¡",desc:"ì¸ìš©"},
{input:"- í•­ëª©",output:"â€¢ ëª©ë¡ í•­ëª©",desc:"ëª©ë¡"},
{input:"1. í•­ëª©",output:"1. ë²ˆí˜¸ í•­ëª©",desc:"ë²ˆí˜¸ëª©ë¡"},
{input:"``` ì½”ë“œ ```",output:"ì½”ë“œ ë¸”ë¡",desc:"ì½”ë“œë¸”ë¡"}];
const parseMdPreview=(v)=>{
if(v.startsWith("# "))return {type:"h1",text:v.slice(2)};
if(v.startsWith("## "))return {type:"h2",text:v.slice(3)};
if(v.startsWith("> "))return {type:"quote",text:v.slice(2)};
if(v.startsWith("- "))return {type:"ul",text:v.slice(2)};
if(/^1\.\s/.test(v))return {type:"ol",text:v.slice(3)};
if(v.startsWith("```"))return {type:"code",text:v.replace(/```/g,"").trim()||"ì½”ë“œ"};
return null;
};
const handleMdInput=(e)=>{const v=e.target.value;setMdInput(v);setMdPreview(parseMdPreview(v));};
const hSize=heading===1?28:heading===2?22:heading===3?18:14;
const tbBtnS={padding:"4px 10px",border:`1px solid ${C.border}`,borderRadius:4,cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.15s",minWidth:32,textAlign:"center"};
const activeBtn=(a)=>a?{...tbBtnS,background:C.accent,color:"#fff",borderColor:C.accent}:{...tbBtnS,background:"#fff",color:C.textPrimary};
return <div id="s4" style={{marginBottom:40}}>
<SectionHeader num={4} emoji="âœï¸" title="ì—ë””í„° ì‹¬í™”" subtitle="ë¬¸ì„œ ì‘ì„±ì˜ ëª¨ë“  ë„êµ¬ë¥¼ ë§ˆìŠ¤í„°í•˜ì„¸ìš”" />
<div style={{display:"flex",gap:2,marginBottom:20,background:C.bg,borderRadius:10,padding:3}}>
{tabs.map((t,i)=><button key={t} onClick={()=>setTab(i)} style={{flex:1,padding:"10px 8px",border:"none",borderRadius:8,cursor:"pointer",fontSize:13,fontWeight:tab===i?700:500,background:tab===i?"#fff":"transparent",color:tab===i?C.accent:C.textSecondary,boxShadow:tab===i?"0 1px 4px rgba(0,0,0,0.08)":"none",transition:"all 0.2s"}}>{t}</button>)}
</div>
{tab===0&&<div style={{background:C.card,border:`1px solid ${C.border}`,borderRadius:12,padding:20}}>
<div style={{fontSize:15,fontWeight:700,color:C.textPrimary,marginBottom:12}}>í¬ë§·íŒ… íˆ´ë°” ì‹œë®¬ë ˆì´í„°</div>
<div style={{display:"flex",gap:6,flexWrap:"wrap",padding:"10px 12px",background:C.bg,borderRadius:8,marginBottom:16,alignItems:"center"}}>
<button onClick={()=>setBold(!bold)} style={activeBtn(bold)}>B</button>
<button onClick={()=>setItalic(!italic)} style={activeBtn(italic)}><em>I</em></button>
<div style={{width:1,height:24,background:C.border,margin:"0 4px"}} />
<button onClick={()=>setHeading(heading===1?0:1)} style={activeBtn(heading===1)}>H1</button>
<button onClick={()=>setHeading(heading===2?0:2)} style={activeBtn(heading===2)}>H2</button>
<button onClick={()=>setHeading(heading===3?0:3)} style={activeBtn(heading===3)}>H3</button>
<div style={{width:1,height:24,background:C.border,margin:"0 4px"}} />
{colorOptions.map(c=><button key={c} onClick={()=>setTextColor(c)} style={{width:26,height:26,borderRadius:"50%",border:textColor===c?`2px solid ${C.accent}`:`2px solid ${C.border}`,background:c,cursor:"pointer",transition:"all 0.15s"}} />)}
<div style={{width:1,height:24,background:C.border,margin:"0 4px"}} />
<button onClick={()=>setAlign("left")} style={activeBtn(align==="left")}>â‰¡â†</button>
<button onClick={()=>setAlign("center")} style={activeBtn(align==="center")}>â‰¡â†”</button>
<button onClick={()=>setAlign("right")} style={activeBtn(align==="right")}>â‰¡â†’</button>
</div>
<div style={{border:`1px solid ${C.border}`,borderRadius:8,padding:20,minHeight:80,textAlign:align,transition:"all 0.2s"}}>
<div style={{fontSize:hSize,fontWeight:bold?700:heading?600:400,fontStyle:italic?"italic":"normal",color:textColor,lineHeight:1.6,transition:"all 0.2s"}}>
Confluenceì—ì„œ ë©‹ì§„ ë¬¸ì„œë¥¼ ì‘ì„±í•´ ë³´ì„¸ìš”. ë‹¤ì–‘í•œ ì„œì‹ì„ ì ìš©í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
</div>
<TipBox>íˆ´ë°” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì•„ë˜ í…ìŠ¤íŠ¸ì— ì„œì‹ì´ ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤. ì‹¤ì œ ì—ë””í„°ì—ì„œëŠ” í…ìŠ¤íŠ¸ë¥¼ ë“œë˜ê·¸í•œ ë’¤ ì„œì‹ì„ ì ìš©í•©ë‹ˆë‹¤.</TipBox>
</div>}
{tab===1&&<div style={{background:C.card,border:`1px solid ${C.border}`,borderRadius:12,padding:20}}>
<div style={{fontSize:15,fontWeight:700,color:C.textPrimary,marginBottom:12}}>í‘œ(Table) ìƒì„± ì‹œë®¬ë ˆì´ì…˜</div>
<div style={{display:"flex",gap:10,marginBottom:16,alignItems:"center",flexWrap:"wrap"}}>
<div style={{display:"flex",alignItems:"center",gap:6}}>
<span style={{fontSize:12,color:C.textSecondary,fontWeight:600}}>í–‰:</span>
<button onClick={()=>setRows(Math.max(1,rows-1))} style={{...tbBtnS,background:"#fff"}}>âˆ’</button>
<span style={{fontSize:14,fontWeight:700,color:C.textPrimary,minWidth:20,textAlign:"center"}}>{rows}</span>
<button onClick={()=>setRows(Math.min(8,rows+1))} style={{...tbBtnS,background:"#fff"}}>+</button>
</div>
<div style={{display:"flex",alignItems:"center",gap:6}}>
<span style={{fontSize:12,color:C.textSecondary,fontWeight:600}}>ì—´:</span>
<button onClick={()=>setCols(Math.max(1,cols-1))} style={{...tbBtnS,background:"#fff"}}>âˆ’</button>
<span style={{fontSize:14,fontWeight:700,color:C.textPrimary,minWidth:20,textAlign:"center"}}>{cols}</span>
<button onClick={()=>setCols(Math.min(6,cols+1))} style={{...tbBtnS,background:"#fff"}}>+</button>
</div>
<label style={{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:12,color:C.textSecondary,fontWeight:600}}>
<input type="checkbox" checked={hasHeader} onChange={()=>setHasHeader(!hasHeader)} style={{accentColor:C.accent}} />í—¤ë” í–‰
</label>
</div>
<div style={{overflowX:"auto",borderRadius:8,border:`1px solid ${C.border}`}}>
<table style={{width:"100%",borderCollapse:"collapse",fontSize:13}}>
<tbody>
{Array.from({length:rows},(_,r)=><tr key={r}>
{Array.from({length:cols},(_,c)=>{
const isH=hasHeader&&r===0;
return <td key={c} style={{padding:"8px 12px",border:`1px solid ${C.border}`,background:isH?"#DEEBFF":"#fff",fontWeight:isH?700:400,color:isH?C.accent:C.textSecondary,textAlign:isH?"center":"left",transition:"all 0.2s"}}>
{isH?`ì—´ ${c+1}`:`R${r+1}C${c+1}`}
</td>;
})}
</tr>)}
</tbody>
</table>
</div>
<TipBox icon="ğŸ“Š" color={C.teal}>Confluenceì—ì„œ í‘œë¥¼ ë§Œë“¤ë©´ ì •ë ¬, ì—´ ë„ˆë¹„ ì¡°ì ˆ, ì…€ ë³‘í•© ë“±ì„ ë§ˆìš°ìŠ¤ë¡œ ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</TipBox>
</div>}
{tab===2&&<div style={{background:C.card,border:`1px solid ${C.border}`,borderRadius:12,padding:20}}>
<div style={{fontSize:15,fontWeight:700,color:C.textPrimary,marginBottom:12}}>ë§ˆí¬ë‹¤ìš´ ë‹¨ì¶•í‚¤ íŒ¨ë„</div>
<div style={{display:"grid",gap:8,marginBottom:16}}>
{mdShortcuts.map((s,i)=><div key={i} style={{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",background:C.bg,borderRadius:8,transition:"all 0.2s"}}>
<code style={{fontFamily:"Consolas,monospace",fontSize:13,color:C.accent,fontWeight:600,background:"#DEEBFF",padding:"3px 10px",borderRadius:4,minWidth:120,textAlign:"center"}}>{s.input}</code>
<span style={{fontSize:16,color:C.accentDim}}>â†’</span>
<div style={{flex:1,fontSize:13,color:C.textPrimary,fontWeight:500}}>{s.output}</div>
<Tag color="blue">{s.desc}</Tag>
</div>)}
</div>
<div style={{borderTop:`1px solid ${C.border}`,paddingTop:16}}>
<div style={{fontSize:13,fontWeight:600,color:C.textSecondary,marginBottom:8}}>ì§ì ‘ ì…ë ¥í•´ ë³´ì„¸ìš”:</div>
<input value={mdInput} onChange={handleMdInput} placeholder="# ë˜ëŠ” ## ë˜ëŠ” > ë˜ëŠ” - ë“±ìœ¼ë¡œ ì‹œì‘..." style={{width:"100%",padding:"10px 14px",border:`1px solid ${C.border}`,borderRadius:8,fontSize:14,fontFamily:"Consolas,monospace",outline:"none",boxSizing:"border-box",transition:"border 0.2s"}} onFocus={(e)=>e.target.style.borderColor=C.accent} onBlur={(e)=>e.target.style.borderColor=C.border} />
{mdPreview&&<div style={{marginTop:12,padding:"12px 16px",background:C.bg,borderRadius:8,borderLeft:`4px solid ${C.accent}`,transition:"all 0.3s"}}>
<div style={{fontSize:11,color:C.textMuted,marginBottom:4,fontWeight:600}}>ë³€í™˜ ë¯¸ë¦¬ë³´ê¸°:</div>
{mdPreview.type==="h1"&&<div style={{fontSize:24,fontWeight:700,color:C.textPrimary}}>{mdPreview.text||"ì œëª©"}</div>}
{mdPreview.type==="h2"&&<div style={{fontSize:20,fontWeight:600,color:C.textPrimary}}>{mdPreview.text||"ì œëª©"}</div>}
{mdPreview.type==="quote"&&<div style={{borderLeft:`3px solid ${C.accentDim}`,paddingLeft:12,color:C.textSecondary,fontStyle:"italic"}}>{mdPreview.text||"ì¸ìš©ë¬¸"}</div>}
{mdPreview.type==="ul"&&<div style={{display:"flex",alignItems:"center",gap:8}}><span style={{color:C.accent,fontSize:18}}>â€¢</span><span style={{color:C.textPrimary}}>{mdPreview.text||"í•­ëª©"}</span></div>}
{mdPreview.type==="ol"&&<div style={{display:"flex",alignItems:"center",gap:8}}><span style={{color:C.accent,fontWeight:700}}>1.</span><span style={{color:C.textPrimary}}>{mdPreview.text||"í•­ëª©"}</span></div>}
{mdPreview.type==="code"&&<pre style={{background:"#172B4D",color:"#79E8B3",padding:"10px 14px",borderRadius:6,fontSize:13,fontFamily:"Consolas,monospace",margin:0}}>{mdPreview.text}</pre>}
</div>}
</div>
<TipBox icon="âŒ¨ï¸" color={C.purple}>Confluence ì—ë””í„°ì—ì„œ ì´ ë‹¨ì¶•í‚¤ë“¤ì„ ë¹ˆ ì¤„ ì‹œì‘ì— ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì„œì‹ì´ ë³€í™˜ë©ë‹ˆë‹¤.</TipBox>
</div>}
{tab===3&&<div style={{background:C.card,border:`1px solid ${C.border}`,borderRadius:12,padding:20}}>
<div style={{fontSize:15,fontWeight:700,color:C.textPrimary,marginBottom:12}}>ì´ëª¨ì§€ & ìƒíƒœ ë§¤í¬ë¡œ</div>
<div style={{marginBottom:20}}>
<div style={{fontSize:13,fontWeight:600,color:C.textSecondary,marginBottom:8}}>ì´ëª¨ì§€ ì„ íƒ:</div>
<div style={{display:"grid",gridTemplateColumns:"repeat(6,1fr)",gap:6,maxWidth:280}}>
{emojis.map(e=><button key={e} onClick={()=>setSelectedEmoji(e)} style={{padding:8,fontSize:20,border:selectedEmoji===e?`2px solid ${C.accent}`:`1px solid ${C.border}`,borderRadius:8,background:selectedEmoji===e?"#DEEBFF":"#fff",cursor:"pointer",transition:"all 0.15s"}}>{e}</button>)}
</div>
{selectedEmoji&&<div style={{marginTop:10,padding:"8px 14px",background:C.bg,borderRadius:8,display:"inline-flex",alignItems:"center",gap:8}}>
<span style={{fontSize:11,color:C.textMuted,fontWeight:600}}>ì„ íƒë¨:</span>
<span style={{fontSize:24}}>{selectedEmoji}</span>
<code style={{fontSize:11,color:C.textSecondary,fontFamily:"Consolas,monospace"}}>:{selectedEmoji}:</code>
</div>}
</div>
<div style={{borderTop:`1px solid ${C.border}`,paddingTop:16}}>
<div style={{fontSize:13,fontWeight:600,color:C.textSecondary,marginBottom:10}}>ìƒíƒœ ë°°ì§€ ë§Œë“¤ê¸°:</div>
<div style={{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap",marginBottom:12}}>
{Object.keys(statusColors).map(k=><button key={k} onClick={()=>setStatusColor(k)} style={{width:28,height:28,borderRadius:"50%",border:statusColor===k?`2px solid ${C.textPrimary}`:`2px solid transparent`,background:statusColors[k].bg,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"}}>
<div style={{width:16,height:16,borderRadius:"50%",background:statusColors[k].c}} />
</button>)}
<input value={statusText} onChange={(e)=>setStatusText(e.target.value)} style={{padding:"6px 12px",border:`1px solid ${C.border}`,borderRadius:6,fontSize:13,width:120,outline:"none"}} onFocus={(e)=>e.target.style.borderColor=C.accent} onBlur={(e)=>e.target.style.borderColor=C.border} />
<button onClick={()=>{if(statusText.trim())setStatusBadges([...statusBadges,{color:statusColor,text:statusText.trim()}]);}} style={{padding:"6px 14px",background:C.accent,color:"#fff",border:"none",borderRadius:6,fontSize:12,fontWeight:600,cursor:"pointer"}}>ì¶”ê°€</button>
{statusBadges.length>0&&<button onClick={()=>setStatusBadges([])} style={{padding:"6px 10px",background:"#fff",color:C.red,border:`1px solid ${C.red}`,borderRadius:6,fontSize:12,fontWeight:600,cursor:"pointer"}}>ì´ˆê¸°í™”</button>}
</div>
<div style={{display:"flex",alignItems:"center",gap:4,marginBottom:12}}>
<span style={{fontSize:12,color:C.textMuted}}>ë¯¸ë¦¬ë³´ê¸°:</span>
<span style={{display:"inline-block",background:statusColors[statusColor].bg,color:statusColors[statusColor].c,borderRadius:4,padding:"2px 10px",fontSize:12,fontWeight:700,letterSpacing:0.5,textTransform:"uppercase"}}>{statusText||"ìƒíƒœ"}</span>
</div>
{statusBadges.length>0&&<div style={{padding:"12px 14px",background:C.bg,borderRadius:8}}>
<div style={{fontSize:11,color:C.textMuted,fontWeight:600,marginBottom:8}}>ìƒì„±ëœ ë°°ì§€ë“¤:</div>
<div style={{display:"flex",gap:6,flexWrap:"wrap"}}>
{statusBadges.map((b,i)=><span key={i} style={{display:"inline-block",background:statusColors[b.color].bg,color:statusColors[b.color].c,borderRadius:4,padding:"2px 10px",fontSize:12,fontWeight:700,letterSpacing:0.5,textTransform:"uppercase"}}>{b.text}</span>)}
</div>
</div>}
</div>
<TipBox icon="ğŸ·ï¸" color={C.green}>ìƒíƒœ ë§¤í¬ë¡œëŠ” ì‘ì—… ì§„í–‰ë¥  í‘œì‹œì— ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. /status ì…ë ¥ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì‚½ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</TipBox>
</div>}
</div>;
}

/* ======= SECTION 5: Labels ======= */
function Section4() {
  const [labels] = useState([{name:"API",color:C.accent},{name:"ìë™í™”",color:C.teal},{name:"QA",color:C.green},{name:"ë³´ì•ˆ",color:C.red},{name:"ë°°í¬",color:C.orange}]);
  const [pages] = useState([{id:1,title:"REST API ì„¤ê³„ ê°€ì´ë“œ",labels:["API","ë³´ì•ˆ"]},{id:2,title:"í…ŒìŠ¤íŠ¸ ìë™í™” ì „ëµ",labels:["ìë™í™”","QA"]},{id:3,title:"CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±",labels:["ìë™í™”","ë°°í¬"]},{id:4,title:"API ì¸ì¦ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸",labels:["API","ë³´ì•ˆ","QA"]}]);
  const [activeFilter, setActiveFilter] = useState(null);
  const [cloudFilter, setCloudFilter] = useState(null);
  const [cqlInput, setCqlInput] = useState('label = "API" AND space = "DEV"');
  const [autocompleteInput, setAutocompleteInput] = useState("");
  const [autocompleteOpen, setAutocompleteOpen] = useState(false);
  const autocompleteRef = useRef(null);

  useEffect(() => {
    const handler = (e) => {
      if (autocompleteRef.current && !autocompleteRef.current.contains(e.target)) setAutocompleteOpen(false);
    };
    document.addEventListener("mousedown", handler);
    return () => document.removeEventListener("mousedown", handler);
  }, []);

  const combinedFilter = activeFilter || cloudFilter;

  const cloudLabels = [
    {name:"API",size:28,color:C.accent},
    {name:"ìë™í™”",size:22,color:C.teal},
    {name:"QA",size:20,color:C.green},
    {name:"ë³´ì•ˆ",size:18,color:C.red},
    {name:"ë°°í¬",size:16,color:C.orange},
    {name:"ë””ìì¸",size:14,color:C.purple},
    {name:"ì¸í”„ë¼",size:13,color:C.accentDim},
    {name:"ë¬¸ì„œ",size:12,color:C.textSecondary}
  ];

  const allLabelNames = cloudLabels.map(l => l.name);
  const filteredAutocomplete = autocompleteInput.length > 0
    ? allLabelNames.filter(n => n.toLowerCase().includes(autocompleteInput.toLowerCase()))
    : [];

  const cqlExamples = [
    {label:'type = "page" AND label = "QA"', display:"QA í˜ì´ì§€ë§Œ"},
    {label:'label IN ("API","ë³´ì•ˆ") AND creator = currentUser()', display:"ë‚´ API/ë³´ì•ˆ ë¬¸ì„œ"}
  ];

  const cqlResults = [
    {title:"REST API ì„¤ê³„ ê°€ì´ë“œ",space:"DEV",labels:["API","ë³´ì•ˆ"],updated:"2024-02-20"},
    {title:"API ì¸ì¦ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸",space:"DEV",labels:["API","ë³´ì•ˆ","QA"],updated:"2024-02-18"}
  ];

  const barStats = [
    {name:"API",count:12,color:C.accent},
    {name:"ìë™í™”",count:8,color:C.teal},
    {name:"QA",count:7,color:C.green},
    {name:"ë³´ì•ˆ",count:5,color:C.red},
    {name:"ë°°í¬",count:3,color:C.orange}
  ];
  const maxCount = 12;

  return <div id="s5">
    <SectionHeader num={5} emoji="ğŸ·ï¸" title="ë¼ë²¨ (Labels)" subtitle="ë¬¸ì„œì— íƒœê·¸ ë‹¬ê¸°" />
    {/* Existing: Label filter bar */}
    <div style={{display:"flex",gap:6,flexWrap:"wrap",marginBottom:16,alignItems:"center"}}>
      <span style={{fontSize:12,color:C.textSecondary,fontWeight:600}}>í•„í„°:</span>
      {labels.map(l=><span key={l.name} onClick={()=>{setActiveFilter(activeFilter===l.name?null:l.name);setCloudFilter(null);}} style={{padding:"3px 10px",borderRadius:16,background:activeFilter===l.name?l.color:`${l.color}22`,color:activeFilter===l.name?"#fff":l.color,fontSize:11,fontWeight:700,cursor:"pointer",border:`1.5px solid ${l.color}`,transition:"all 0.2s"}}>{l.name}</span>)}
      <div style={{marginLeft:"auto",display:"flex",alignItems:"center",gap:4,background:`${C.yellow}22`,padding:"4px 10px",borderRadius:6}}><span className="kbd-key">L</span><span style={{fontSize:11,color:C.textSecondary}}>ë¼ë²¨ ì¶”ê°€</span></div>
    </div>
    {/* Existing: Page cards with highlight */}
    <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:16}}>
      {pages.map(p=>{const hl=!combinedFilter||p.labels.includes(combinedFilter); return <div key={p.id} style={{background:C.surface,border:`2px solid ${hl&&combinedFilter?C.accent:C.border}`,borderRadius:10,padding:12,opacity:hl?1:0.3,transition:"all 0.3s",boxShadow:hl&&combinedFilter?`0 4px 14px ${C.accent}22`:"none"}}>
        <div style={{fontWeight:700,fontSize:13,color:C.textPrimary,marginBottom:6}}>ğŸ“„ {p.title}</div>
        <div style={{display:"flex",gap:4,flexWrap:"wrap"}}>{p.labels.map(ln=>{const lo=labels.find(l=>l.name===ln); return lo?<Tag key={ln} color={lo.color===C.accent?"blue":lo.color===C.teal?"teal":lo.color===C.green?"green":lo.color===C.red?"red":"orange"}>{ln}</Tag>:null;})}</div>
      </div>;})}
    </div>

    {/* NEW: ë¼ë²¨ í´ë¼ìš°ë“œ */}
    <div style={{background:C.bg,borderRadius:12,border:`1px solid ${C.border}`,padding:20,marginBottom:16}}>
      <div style={{fontSize:13,fontWeight:700,color:C.textPrimary,marginBottom:12,display:"flex",alignItems:"center",gap:6}}>
        <span style={{fontSize:15}}>â˜ï¸</span> ë¼ë²¨ í´ë¼ìš°ë“œ
        {cloudFilter && <span style={{fontSize:10,color:C.accent,cursor:"pointer",marginLeft:8,fontWeight:500}} onClick={()=>setCloudFilter(null)}>âœ• í•„í„° í•´ì œ</span>}
      </div>
      <div style={{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",gap:"10px 16px",padding:"12px 8px",background:C.surface,borderRadius:10,border:`1px solid ${C.border}`,minHeight:80}}>
        {cloudLabels.map((cl,i) => <span
          key={cl.name}
          onClick={() => {setCloudFilter(cloudFilter===cl.name?null:cl.name);setActiveFilter(null);}}
          style={{
            fontSize:cl.size,
            fontWeight:cl.size>=20?700:cl.size>=16?600:500,
            color:cloudFilter===cl.name?"#fff":cl.color,
            background:cloudFilter===cl.name?cl.color:"transparent",
            padding:cloudFilter===cl.name?"2px 10px":"2px 4px",
            borderRadius:8,
            cursor:"pointer",
            transition:"all 0.25s",
            opacity:cloudFilter&&cloudFilter!==cl.name?0.4:1,
            lineHeight:1.3
          }}
        >{cl.name}</span>)}
      </div>
    </div>

    {/* NEW: CQL ê²€ìƒ‰ ì˜ˆì‹œ */}
    <div style={{background:C.bg,borderRadius:12,border:`1px solid ${C.border}`,padding:20,marginBottom:16}}>
      <div style={{fontSize:13,fontWeight:700,color:C.textPrimary,marginBottom:12,display:"flex",alignItems:"center",gap:6}}>
        <span style={{fontSize:15}}>ğŸ”</span> CQL ê²€ìƒ‰ ì˜ˆì‹œ
        <span style={{fontSize:10,color:C.textMuted,fontWeight:400,marginLeft:4}}>Confluence Query Language</span>
      </div>
      {/* CQL Input */}
      <div style={{background:"#1e1e1e",borderRadius:8,padding:"12px 16px",marginBottom:10,fontFamily:"Consolas, 'Courier New', monospace"}}>
        <div style={{fontSize:10,color:"#6A9955",marginBottom:6}}>// CQL ì¿¼ë¦¬</div>
        <input
          type="text"
          value={cqlInput}
          onChange={(e) => setCqlInput(e.target.value)}
          style={{width:"100%",background:"transparent",border:"none",outline:"none",color:"#CE9178",fontSize:13,fontFamily:"inherit",caretColor:"#fff"}}
        />
      </div>
      {/* CQL example buttons */}
      <div style={{display:"flex",gap:6,marginBottom:12,flexWrap:"wrap"}}>
        {cqlExamples.map((ex,i) => <button key={i} onClick={() => setCqlInput(ex.label)} style={{padding:"4px 12px",borderRadius:6,border:`1px solid ${C.border}`,background:C.surface,fontSize:10,color:C.accent,fontWeight:600,cursor:"pointer",transition:"all 0.2s",fontFamily:"Consolas, monospace"}} onMouseEnter={(e)=>{e.currentTarget.style.background=C.accent;e.currentTarget.style.color="#fff";}} onMouseLeave={(e)=>{e.currentTarget.style.background=C.surface;e.currentTarget.style.color=C.accent;}}>
          {ex.display}
        </button>)}
      </div>
      {/* CQL Results */}
      <div style={{fontSize:11,fontWeight:600,color:C.textMuted,marginBottom:6}}>ê²€ìƒ‰ ê²°ê³¼ ({cqlResults.length}ê±´)</div>
      {cqlResults.map((r,i) => <div key={i} style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:8,padding:"10px 14px",marginBottom:6,display:"flex",alignItems:"center",justifyContent:"space-between"}}>
        <div>
          <div style={{fontSize:12,fontWeight:700,color:C.textPrimary}}>ğŸ“„ {r.title}</div>
          <div style={{display:"flex",gap:4,marginTop:4,alignItems:"center"}}>
            <span style={{fontSize:10,color:C.textMuted,background:`${C.accent}11`,padding:"1px 6px",borderRadius:4}}>{r.space}</span>
            {r.labels.map(ln => <Tag key={ln} color={ln==="API"?"blue":ln==="ë³´ì•ˆ"?"red":ln==="QA"?"green":"teal"}>{ln}</Tag>)}
          </div>
        </div>
        <span style={{fontSize:10,color:C.textMuted,flexShrink:0}}>{r.updated}</span>
      </div>)}
    </div>

    {/* NEW: ë¼ë²¨ ìë™ì™„ì„± */}
    <div style={{background:C.bg,borderRadius:12,border:`1px solid ${C.border}`,padding:20,marginBottom:16}}>
      <div style={{fontSize:13,fontWeight:700,color:C.textPrimary,marginBottom:12,display:"flex",alignItems:"center",gap:6}}>
        <span style={{fontSize:15}}>ğŸ·ï¸</span> ë¼ë²¨ ìë™ì™„ì„±
        <span style={{fontSize:10,color:C.textMuted,fontWeight:400,marginLeft:4}}>ë¼ë²¨ ì¶”ê°€ ì‹œë®¬ë ˆì´ì…˜</span>
      </div>
      <div ref={autocompleteRef} style={{position:"relative",maxWidth:300}}>
        <input
          type="text"
          placeholder="ë¼ë²¨ ì…ë ¥... (ì˜ˆ: AP, ìë™, QA)"
          value={autocompleteInput}
          onChange={(e) => {setAutocompleteInput(e.target.value); setAutocompleteOpen(e.target.value.length > 0);}}
          onFocus={() => {if (autocompleteInput.length > 0) setAutocompleteOpen(true);}}
          style={{width:"100%",padding:"8px 12px",borderRadius:8,border:`1.5px solid ${autocompleteOpen?C.accent:C.border}`,fontSize:12,outline:"none",background:C.surface,color:C.textPrimary,transition:"border-color 0.2s"}}
        />
        {autocompleteOpen && filteredAutocomplete.length > 0 && <div style={{position:"absolute",top:"calc(100% + 4px)",left:0,width:"100%",background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,boxShadow:"0 8px 24px rgba(0,0,0,0.1)",zIndex:10,overflow:"hidden"}}>
          {filteredAutocomplete.map((name,i) => {
            const cl = cloudLabels.find(c=>c.name===name);
            return <div key={name} onClick={() => {setAutocompleteInput(""); setAutocompleteOpen(false);}} style={{padding:"8px 12px",fontSize:12,color:C.textPrimary,cursor:"pointer",display:"flex",alignItems:"center",gap:8,borderBottom:i<filteredAutocomplete.length-1?`1px solid ${C.border}`:"none",transition:"background 0.15s"}} onMouseEnter={(e)=>e.currentTarget.style.background=C.bg} onMouseLeave={(e)=>e.currentTarget.style.background="transparent"}>
              <span style={{width:8,height:8,borderRadius:"50%",background:cl?cl.color:C.textMuted,flexShrink:0}} />
              <span style={{fontWeight:600}}>{name}</span>
              <span style={{marginLeft:"auto",fontSize:10,color:C.textMuted}}>í´ë¦­í•˜ì—¬ ì¶”ê°€</span>
            </div>;
          })}
        </div>}
        {autocompleteOpen && filteredAutocomplete.length === 0 && autocompleteInput.length > 0 && <div style={{position:"absolute",top:"calc(100% + 4px)",left:0,width:"100%",background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,boxShadow:"0 8px 24px rgba(0,0,0,0.1)",zIndex:10,overflow:"hidden",padding:"10px 14px",fontSize:11,color:C.textMuted}}>
          <span style={{fontWeight:600,color:C.accent}}>"{autocompleteInput}"</span> â€” ìƒˆ ë¼ë²¨ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
        </div>}
      </div>
    </div>

    {/* NEW: ë¼ë²¨ í†µê³„ */}
    <div style={{background:C.bg,borderRadius:12,border:`1px solid ${C.border}`,padding:20,marginBottom:16}}>
      <div style={{fontSize:13,fontWeight:700,color:C.textPrimary,marginBottom:14,display:"flex",alignItems:"center",gap:6}}>
        <span style={{fontSize:15}}>ğŸ“Š</span> ë¼ë²¨ í†µê³„
        <span style={{fontSize:10,color:C.textMuted,fontWeight:400,marginLeft:4}}>ë¼ë²¨ë³„ ì‚¬ìš© ë¹ˆë„</span>
      </div>
      <div style={{display:"flex",flexDirection:"column",gap:8}}>
        {barStats.map((stat) => <div key={stat.name} style={{display:"flex",alignItems:"center",gap:10}}>
          <span style={{fontSize:11,fontWeight:700,color:stat.color,width:40,textAlign:"right",flexShrink:0}}>{stat.name}</span>
          <div style={{flex:1,background:C.surface,borderRadius:6,height:20,border:`1px solid ${C.border}`,overflow:"hidden",position:"relative"}}>
            <div style={{height:"100%",borderRadius:5,background:`linear-gradient(90deg, ${stat.color}cc, ${stat.color})`,width:`${(stat.count/maxCount)*100}%`,transition:"width 0.6s ease",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:6,minWidth:24}}>
              <span style={{fontSize:9,fontWeight:700,color:"#fff"}}>{stat.count}</span>
            </div>
          </div>
        </div>)}
      </div>
    </div>

    <TipBox>'ì½˜í…ì¸  ê¸°ì¤€ ê²€ìƒ‰(Content by Label)' ë§¤í¬ë¡œì™€ ê²°í•©í•˜ë©´ íŠ¹ì • ë¼ë²¨ì˜ í˜ì´ì§€ ëª©ë¡ì„ ìë™ í‘œì‹œí•˜ëŠ” ë™ì  ëª©ì°¨ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</TipBox>
  </div>;
}

/* ======= SECTION 6: Search ======= */
function Section5() {
  const [query, setQuery] = useState("");
  const [focused, setFocused] = useState(false);
  const allResults = [{id:1,t:"REST API ì„¤ê³„ ê°€ì´ë“œ",ex:"RESTful API ì„¤ê³„ ì›ì¹™ê³¼ ëª¨ë²” ì‚¬ë¡€",type:"ğŸ“„",sp:"ê°œë°œíŒ€"},{id:2,t:"API ì¸ì¦ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸",ex:"OAuth2, JWT í† í° ê¸°ë°˜ ì¸ì¦ ì •ë¦¬",type:"ğŸ“„",sp:"ë³´ì•ˆ"},{id:3,t:"í…ŒìŠ¤íŠ¸ ìë™í™” ì „ëµ",ex:"ë‹¨ìœ„, í†µí•©, E2E í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡ ",type:"ğŸ“„",sp:"QAíŒ€"},{id:4,t:"Jenkins íŒŒì´í”„ë¼ì¸ êµ¬ì„±",ex:"CI/CD ìë™í™” Jenkins ì„¤ì •ë²•",type:"ğŸ“„",sp:"DevOps"},{id:5,t:"2024 Q1 íšŒê³ ",ex:"1ë¶„ê¸° íŒ€ ì„±ê³¼ì™€ ê°œì„ ì‚¬í•­ ì •ë¦¬",type:"ğŸ“",sp:"íŒ€A"},{id:6,t:"ì˜¨ë³´ë”© ê°€ì´ë“œ 2024",ex:"ì‹ ê·œ íŒ€ì› í™˜ê²½ ì„¤ì • ê°€ì´ë“œ",type:"ğŸ“„",sp:"HR"}];
  const filtered = allResults.filter(r=>{if(!query)return true; const q=query.toLowerCase(); return r.t.toLowerCase().includes(q)||r.ex.toLowerCase().includes(q);});
  const operators=[{q:'"ğŸ“„ API ì„¤ê³„ ê°€ì´ë“œ"',d:"ì •í™•íˆ ì¼ì¹˜",c:C.accent},{q:"í…ŒìŠ¤íŠ¸ AND ìë™í™”",d:"ë‘˜ ë‹¤ í¬í•¨",c:C.green},{q:"Jenkins OR GitLab",d:"í•˜ë‚˜ë¼ë„ í¬í•¨",c:C.orange}];
  return <div id="s6">
    <SectionHeader num={6} emoji="ğŸ”" title={"ê²€ìƒ‰ (Search)"} subtitle={"ì›í•˜ëŠ” ì •ë³´ ë¹ ë¥´ê²Œ ì°¾ê¸°"} />
    <div style={{position:"relative",marginBottom:16}}>
      <div style={{display:"flex",alignItems:"center",gap:8,background:C.surface,border:`2px solid ${focused?C.accent:C.border}`,borderRadius:12,padding:"10px 14px",transition:"all 0.3s",boxShadow:focused?`0 0 0 4px ${C.accent}22`:"none"}}>
        <span style={{fontSize:16}}>{"ğŸ”"}</span>
        <input value={query} onChange={e=>setQuery(e.target.value)} onFocus={()=>setFocused(true)} onBlur={()=>setFocused(false)} placeholder={"ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."} style={{flex:1,border:"none",outline:"none",fontSize:14,color:C.textPrimary,background:"transparent"}} />
        {query&&<span onClick={()=>setQuery("")} style={{cursor:"pointer",color:C.textMuted}}>{"âœ•"}</span>}
      </div>
    </div>
    <div style={{display:"flex",gap:6,marginBottom:14}}>
      {operators.map(op=><div key={op.q} onClick={()=>setQuery(op.q)} style={{flex:1,background:`${op.c}11`,border:`1.5px solid ${op.c}33`,borderRadius:8,padding:"6px 10px",cursor:"pointer",transition:"all 0.2s"}}>
        <div style={{fontFamily:"monospace",fontSize:11,color:op.c,fontWeight:700,marginBottom:2}}>{op.q}</div>
        <div style={{fontSize:10,color:C.textMuted}}>{op.d}</div>
      </div>)}
    </div>
    <div style={{fontSize:12,color:C.textMuted,marginBottom:8}}>{query?`"${query}" ê²°ê³¼ ${filtered.length}ê°œ`:`ì „ì²´ ${allResults.length}ê°œ`}</div>
    <div style={{display:"flex",flexDirection:"column",gap:6}}>
      {filtered.map((r,i)=><div key={r.id} className="hover-lift" style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:10,padding:"10px 14px",display:"flex",gap:12,alignItems:"flex-start",animation:`fadeInUp 0.3s ${i*0.04}s both`}}>
        <span style={{fontSize:22,flexShrink:0}}>{r.type}</span>
        <div style={{flex:1,minWidth:0}}><div style={{fontWeight:700,fontSize:13,color:C.textPrimary,marginBottom:2}}>{r.t}</div><div style={{fontSize:11,color:C.textSecondary,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{r.ex}</div><span style={{fontSize:10,color:C.textMuted,background:C.bg,padding:"1px 6px",borderRadius:10}}>{"ğŸ“"} {r.sp}</span></div>
      </div>)}
      {filtered.length===0&&<div style={{textAlign:"center",padding:"2rem",color:C.textMuted}}>{"ğŸ” ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤"}</div>}
    </div>
  </div>;
}

/* ======= SECTION 7: Macros ======= */
function Section6() {
  const [cat, setCat] = useState("highlight");
  const [selected, setSelected] = useState(null);
  const [showSlash, setShowSlash] = useState(false);
  const [previewTitle, setPreviewTitle] = useState("ì•Œë¦¼ ì œëª©");
  const [previewIcon, setPreviewIcon] = useState(0);
  const [previewBorder, setPreviewBorder] = useState(true);
  const [selRecipe, setSelRecipe] = useState(null);
  const iconOptions = ["â„¹ï¸", "ğŸ’¡", "ğŸ“Œ"];
  const cats = [{id:"highlight",label:"ê°•ì¡°",icon:"ğŸ¨",catDesc:"ë…ìì˜ ì‹œì„ ì„ ëŒì–´ì•¼ í•  í•µì‹¬ ì •ë³´ë¥¼ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤. ë¬¸ì„œì˜ ê°€ë…ì„±ì„ ë†’ì´ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë§¤í¬ë¡œì…ë‹ˆë‹¤."},{id:"nav",label:"êµ¬ì¡°",icon:"ğŸ§­",catDesc:"í˜ì´ì§€ ê°„ ì´ë™ê³¼ ì½˜í…ì¸  íƒìƒ‰ì„ ë•ëŠ” ë§¤í¬ë¡œì…ë‹ˆë‹¤. ë¬¸ì„œê°€ ë§ì•„ì§ˆìˆ˜ë¡ êµ¬ì¡° ë§¤í¬ë¡œì˜ ì¤‘ìš”ì„±ì´ ì»¤ì§‘ë‹ˆë‹¤."},{id:"layout",label:"ë ˆì´ì•„ì›ƒ",icon:"ğŸ“",catDesc:"í˜ì´ì§€ ë‚´ ì½˜í…ì¸  ë°°ì¹˜ì™€ ì‹œê°ì  í‘œí˜„ì„ ì œì–´í•©ë‹ˆë‹¤. ë³µì¡í•œ ì •ë³´ë¥¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•  ë•Œ í™œìš©í•˜ì„¸ìš”."},{id:"tech",label:"ê¸°ìˆ ",icon:"ğŸ’»",catDesc:"ê°œë°œ ë¬¸ì„œì™€ ê¸°ìˆ  ìœ„í‚¤ì— í•„ìˆ˜ì ì¸ ë§¤í¬ë¡œì…ë‹ˆë‹¤. ì½”ë“œ ê³µìœ ì™€ í˜ì´ì§€ ë‚´ ë§í¬ì— ì‚¬ìš©ë©ë‹ˆë‹¤."}];
  const macros = {
    highlight:[
      {name:"ì •ë³´ (Info)",color:"#DEEBFF",border:"#0052CC",icon:"â„¹ï¸",desc:"ì°¸ê³  ì •ë³´ ê°•ì¡°",type:"info",detail:"ë…ìê°€ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ë¶€ê°€ ì •ë³´ë¥¼ íŒŒë€ìƒ‰ ë°•ìŠ¤ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. API ëª…ì„¸, ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ë“± í•µì‹¬ ì°¸ê³ ì‚¬í•­ì— ì í•©í•©ë‹ˆë‹¤.",usage:"ì˜ˆ: 'v2.0ë¶€í„° ì´ APIì˜ ì‘ë‹µ í˜•ì‹ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤'"},
      {name:"íŒ (Tip)",color:"#E3FCEF",border:"#00875A",icon:"âœ…",desc:"ìœ ìš©í•œ íŒ",type:"tip",detail:"ìƒì‚°ì„±ì„ ë†’ì´ëŠ” ë…¸í•˜ìš°ë‚˜ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì´ˆë¡ìƒ‰ ë°•ìŠ¤ë¡œ ê°•ì¡°í•©ë‹ˆë‹¤. ê¼­ í•„ìš”í•˜ì§„ ì•Šì§€ë§Œ ì•Œë©´ ë„ì›€ë˜ëŠ” ì •ë³´ì— ì‚¬ìš©í•˜ì„¸ìš”.",usage:"ì˜ˆ: 'ë‹¨ì¶•í‚¤ Ctrl+Kë¡œ ë¹ ë¥´ê²Œ ë§í¬ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'"},
      {name:"ì°¸ê³  (Note)",color:"#FFF7D6",border:"#FF8B00",icon:"âš ",desc:"ì£¼ì˜ì‚¬í•­",type:"note",detail:"ì£¼ì˜ê°€ í•„ìš”í•œ ì‚¬í•­ì„ ë…¸ë€ìƒ‰ ë°•ìŠ¤ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. í”íˆ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜ë‚˜ ì£¼ì˜í•´ì•¼ í•  ì œí•œ ì‚¬í•­ì— ì í•©í•©ë‹ˆë‹¤.",usage:"ì˜ˆ: 'ì´ ì„¤ì •ì„ ë³€ê²½í•˜ë©´ ê¸°ì¡´ ë°ì´í„°ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤'"},
      {name:"ê²½ê³  (Warning)",color:"#FFEBE6",border:"#DE350B",icon:"â›”",desc:"ìœ„í—˜ ê²½ê³ ",type:"warning",detail:"ì‹¬ê°í•œ ìœ„í—˜ì´ë‚˜ ë˜ëŒë¦´ ìˆ˜ ì—†ëŠ” ì‘ì—…ì„ ë¹¨ê°„ìƒ‰ ë°•ìŠ¤ë¡œ ê²½ê³ í•©ë‹ˆë‹¤. ë°ì´í„° ì†ì‹¤, ë³´ì•ˆ ì´ìŠˆ ë“± ë°˜ë“œì‹œ ì½ì–´ì•¼ í•  ë‚´ìš©ì— ì‚¬ìš©í•˜ì„¸ìš”.",usage:"ì˜ˆ: 'í”„ë¡œë•ì…˜ DBì—ì„œ ì´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”!'"},
      {name:"íŒ¨ë„ (Panel)",color:"#EAE6FF",border:"#6554C0",icon:"ğŸ“Œ",desc:"ììœ  ê°•ì¡° ë°•ìŠ¤",type:"panel",detail:"ì œëª©ê³¼ ìƒ‰ìƒì„ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆëŠ” ë²”ìš© ê°•ì¡° ë°•ìŠ¤ì…ë‹ˆë‹¤. íŠ¹ì • ì¹´í…Œê³ ë¦¬ì— ì†í•˜ì§€ ì•ŠëŠ” ì¤‘ìš” ë‚´ìš©ì„ ì‹œê°ì ìœ¼ë¡œ ë¶„ë¦¬í•  ë•Œ í™œìš©í•©ë‹ˆë‹¤.",usage:"ì˜ˆ: íŒ€ ê³µì§€ì‚¬í•­, ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ìš”ì•½, FAQ í•­ëª© ë“±"}
    ],
    nav:[
      {name:"ëª©ì°¨ (ToC)",color:C.bg,border:C.accent,icon:"ğŸ“‘",desc:"H1~H6 ê¸°ë°˜ ìë™ ëª©ì°¨",type:"toc",detail:"í˜ì´ì§€ ë‚´ ì œëª©(H1~H6)ì„ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì—¬ í´ë¦­ ê°€ëŠ¥í•œ ëª©ì°¨ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ê¸´ ë¬¸ì„œì˜ ìƒë‹¨ì— ë°°ì¹˜í•˜ë©´ ë…ìê°€ ì›í•˜ëŠ” ì„¹ì…˜ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",usage:"íŒ: 3ê°œ ì´ìƒì˜ ì œëª©ì´ ìˆëŠ” í˜ì´ì§€ì—ëŠ” í•­ìƒ ëª©ì°¨ë¥¼ ì¶”ê°€í•˜ì„¸ìš”"},
      {name:"ìì‹ í˜ì´ì§€",color:C.bg,border:C.teal,icon:"ğŸ“‚",desc:"í•˜ìœ„ í˜ì´ì§€ ëª©ë¡",type:"children",detail:"í˜„ì¬ í˜ì´ì§€ ì•„ë˜ì— ì†í•œ ëª¨ë“  í•˜ìœ„ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤. ë¶€ëª¨ í˜ì´ì§€ì— ì‚½ì…í•˜ë©´ í•˜ìœ„ ë¬¸ì„œ êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",usage:"íŒ: í”„ë¡œì íŠ¸ í™ˆ, íŒ€ ìœ„í‚¤ ë©”ì¸ í˜ì´ì§€ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤"},
      {name:"ìµœê·¼ ì—…ë°ì´íŠ¸",color:C.bg,border:C.green,icon:"ğŸ”„",desc:"ìµœê·¼ ìˆ˜ì • ëª©ë¡",type:"recent",detail:"íŠ¹ì • ìŠ¤í˜ì´ìŠ¤ë‚˜ ì „ì²´ ì‚¬ì´íŠ¸ì—ì„œ ìµœê·¼ ìˆ˜ì •ëœ í˜ì´ì§€ë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œë‚˜ ëœë”© í˜ì´ì§€ì— í™œìš©í•˜ë©´ íŒ€ì˜ í™œë™ í˜„í™©ì„ íŒŒì•…í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.",usage:"íŒ: ìŠ¤í˜ì´ìŠ¤ í™ˆì— ë°°ì¹˜í•˜ì—¬ íŒ€ í™œë™ í”¼ë“œë¡œ í™œìš©í•˜ì„¸ìš”"},
      {name:"ì½˜í…ì¸  ê¸°ì¤€ ê²€ìƒ‰",color:C.bg,border:C.purple,icon:"ğŸ·ï¸",desc:"ë¼ë²¨ë³„ í˜ì´ì§€ ëª©ë¡",type:"label",detail:"íŠ¹ì • ë¼ë²¨ì´ ë¶™ì€ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ëª©ë¡ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. CQL(Confluence Query Language)ì„ ì§€ì›í•˜ì—¬ ë³µì¡í•œ ì¡°ê±´ì˜ ì½˜í…ì¸  ëª©ë¡ë„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",usage:"ì˜ˆ: label = \"release-notes\" AND space = \"DEV\" ë¡œ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë§Œ ëª¨ì•„ë³´ê¸°"}
    ],
    layout:[
      {name:"2ë‹¨ ë ˆì´ì•„ì›ƒ",color:C.bg,border:C.accent,icon:"â–¥",desc:"ì¢Œìš° 2ì—´ ë°°ì¹˜",type:"columns",detail:"í˜ì´ì§€ë¥¼ ì¢Œìš° 2ì—´(ë˜ëŠ” 3ì—´)ë¡œ ë¶„í• í•˜ì—¬ ì½˜í…ì¸ ë¥¼ ë‚˜ë€íˆ ë°°ì¹˜í•©ë‹ˆë‹¤. ë¹„êµ ì„¤ëª…, ì´ë¯¸ì§€+í…ìŠ¤íŠ¸ ë ˆì´ì•„ì›ƒ, ëŒ€ì‹œë³´ë“œ êµ¬ì„±ì— ì í•©í•©ë‹ˆë‹¤.",usage:"íŒ: 2/3 + 1/3 ë¹„ìœ¨ë¡œ ë©”ì¸ ì½˜í…ì¸ ì™€ ì‚¬ì´ë“œ ì •ë³´ë¥¼ ë¶„ë¦¬í•˜ì„¸ìš”"},
      {name:"í¼ì¹˜ê¸° (Expand)",color:C.bg,border:C.teal,icon:"â–¼",desc:"ì ‘ì´ì‹ ì½˜í…ì¸ ",type:"expand",detail:"í´ë¦­ ì‹œ í¼ì³ì§€ëŠ” ì ‘ì´ì‹ ì„¹ì…˜ì„ ë§Œë“­ë‹ˆë‹¤. ê¸´ ë¡œê·¸, ìƒì„¸ ì„¤ëª…, FAQ ë“± í•„ìš”í•  ë•Œë§Œ ë³¼ ìˆ˜ ìˆê²Œ ìˆ¨ê²¨ë‘ë©´ í˜ì´ì§€ ê°€ë…ì„±ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤.",usage:"íŒ: FAQ í˜ì´ì§€ë‚˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œì— í™œìš©í•˜ë©´ íš¨ê³¼ì ì…ë‹ˆë‹¤"},
      {name:"ìƒíƒœ (Status)",color:C.bg,border:C.green,icon:"ğŸŸ¢",desc:"ì»¬ëŸ¬ ìƒíƒœ ë±ƒì§€",type:"status",detail:"í…ìŠ¤íŠ¸ì— ì»¬ëŸ¬ ë±ƒì§€ë¥¼ ì¸ë¼ì¸ìœ¼ë¡œ ì‚½ì…í•©ë‹ˆë‹¤. ì‘ì—… ìƒíƒœ(ì™„ë£Œ/ì§„í–‰ì¤‘/ëŒ€ê¸°), ìš°ì„ ìˆœìœ„(ë†’ìŒ/ì¤‘ê°„/ë‚®ìŒ) ë“±ì„ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.",usage:"ì˜ˆ: ê° ì‘ì—… í•­ëª© ì˜†ì— 'ì™„ë£Œ(ì´ˆë¡)', 'ì§„í–‰ì¤‘(íŒŒë‘)', 'ëŒ€ê¸°(íšŒìƒ‰)' ë±ƒì§€ë¥¼ ì¶”ê°€"}
    ],
    tech:[
      {name:"ì½”ë“œ ë¸”ë¡",color:"#1a1a2e",border:C.accent,icon:"</>",desc:"ë¬¸ë²• í•˜ì´ë¼ì´íŒ… ì½”ë“œ",type:"code",detail:"í”„ë¡œê·¸ë˜ë° ì½”ë“œë¥¼ ë¬¸ë²• í•˜ì´ë¼ì´íŒ…ê³¼ í•¨ê»˜ í‘œì‹œí•©ë‹ˆë‹¤. Java, Python, JavaScript ë“± ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©°, ì¤„ ë²ˆí˜¸ í‘œì‹œì™€ ì¤„ ê°ì‹¸ê¸° ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",usage:"íŒ: ì–¸ì–´ë¥¼ ë°˜ë“œì‹œ ì§€ì •í•˜ì„¸ìš”. í•˜ì´ë¼ì´íŒ… í’ˆì§ˆì´ í¬ê²Œ ë‹¬ë¼ì§‘ë‹ˆë‹¤"},
      {name:"ì•µì»¤ (Anchor)",color:C.bg,border:C.teal,icon:"âš“",desc:"í˜ì´ì§€ ë‚´ ë¶ë§ˆí¬",type:"anchor",detail:"í˜ì´ì§€ íŠ¹ì • ìœ„ì¹˜ì— ë³´ì´ì§€ ì•ŠëŠ” ì•µì»¤ë¥¼ ì‚½ì…í•˜ì—¬, ë‹¤ë¥¸ ê³³ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ë¡œ ë°”ë¡œ ë§í¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ê¸´ ë¬¸ì„œì˜ íŠ¹ì • ì„¹ì…˜ì„ URLë¡œ ì§ì ‘ ê³µìœ í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.",usage:"íŒ: ì•µì»¤ëª… ê·œì¹™ì„ ì •í•´ë‘ë©´ (ì˜ˆ: section-ì„¤ì¹˜) ë§í¬ ê´€ë¦¬ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤"}
    ]
  };
  const selectedMacro = selected ? Object.values(macros).flat().find(m => m.name === selected) : null;
  const isHighlightMacro = selectedMacro && ["info","tip","note","warning","panel"].includes(selectedMacro.type);

  const renderLivePreview = () => {
    if (!selectedMacro) return null;
    const t = selectedMacro.type;
    if (isHighlightMacro) {
      return React.createElement("div", {style:{background:selectedMacro.color, borderLeft:previewBorder?`4px solid ${selectedMacro.border}`:"none", borderRadius:8, padding:16}},
        React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:8}},
          React.createElement("span", {style:{fontSize:18}}, iconOptions[previewIcon]),
          React.createElement("strong", {style:{fontSize:14,color:selectedMacro.border}}, previewTitle)
        ),
        React.createElement("p", {style:{fontSize:12,color:C.textPrimary,margin:0,lineHeight:1.6}}, "ì´ê³³ì— ê°•ì¡°í•  ë‚´ìš©ì„ ì‘ì„±í•©ë‹ˆë‹¤. ë§¤í¬ë¡œì˜ ìŠ¤íƒ€ì¼ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.")
      );
    }
    if (t === "code") {
      return React.createElement("div", {style:{background:"#1a1a2e",borderRadius:8,padding:16,fontFamily:"monospace",fontSize:12,lineHeight:1.8,overflow:"auto"}},
        React.createElement("div", {style:{color:"#7f8c9b",marginBottom:4}}, "// JavaScript Example"),
        React.createElement("div", null,
          React.createElement("span", {style:{color:"#c678dd"}}, "function "),
          React.createElement("span", {style:{color:"#61afef"}}, "greet"),
          React.createElement("span", {style:{color:"#abb2bf"}}, "("),
          React.createElement("span", {style:{color:"#e5c07b"}}, "name"),
          React.createElement("span", {style:{color:"#abb2bf"}}, ") {")
        ),
        React.createElement("div", {style:{paddingLeft:20}},
          React.createElement("span", {style:{color:"#c678dd"}}, "return "),
          React.createElement("span", {style:{color:"#98c379"}}, "`Hello, ${name}!`"),
          React.createElement("span", {style:{color:"#abb2bf"}}, ";")
        ),
        React.createElement("div", {style:{color:"#abb2bf"}}, "}")
      );
    }
    if (t === "toc") {
      return React.createElement("div", {style:{background:C.bg,borderRadius:8,padding:16,border:`1px solid ${C.border}`}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,color:C.textPrimary,marginBottom:10}}, "ëª©ì°¨"),
        ["1. í”„ë¡œì íŠ¸ ê°œìš”","  1.1 ë°°ê²½","  1.2 ëª©í‘œ","2. ê¸°ìˆ  ìŠ¤íƒ","3. ì¼ì • ê³„íš","  3.1 1ë¶„ê¸°","  3.2 2ë¶„ê¸°"].map((item, i) =>
          React.createElement("div", {key:i, style:{fontSize:12,color:C.accent,padding:"3px 0",paddingLeft:item.startsWith("  ")?16:0,cursor:"pointer"}},
            item.trim()
          )
        )
      );
    }
    return null;
  };

  const recipes = [
    {id:"info-code",name:"ì •ë³´ + ì½”ë“œ",desc:"ì •ë³´ ë°•ìŠ¤ ì•ˆì— ì½”ë“œ ë¸”ë¡ ì‚½ì…",icon:"â„¹ï¸ + </>"},
    {id:"tip-check",name:"íŒ + ì²´í¬ë¦¬ìŠ¤íŠ¸",desc:"íŒ ë°•ìŠ¤ ì•ˆì— ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‚½ì…",icon:"âœ… + â˜‘ï¸"},
    {id:"panel-table",name:"íŒ¨ë„ + í‘œ",desc:"íŒ¨ë„ ë°•ìŠ¤ ì•ˆì— í‘œ ì‚½ì…",icon:"ğŸ“Œ + ğŸ“Š"}
  ];

  const renderRecipePreview = () => {
    if (selRecipe === "info-code") {
      return React.createElement("div", {style:{background:"#DEEBFF",borderLeft:`4px solid #0052CC`,borderRadius:8,padding:16,animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{display:"flex",alignItems:"center",gap:6,marginBottom:10}},
          React.createElement("span", {style:{fontSize:16}}, "â„¹ï¸"),
          React.createElement("strong", {style:{fontSize:13,color:"#0052CC"}}, "API ì‚¬ìš© ê°€ì´ë“œ")
        ),
        React.createElement("p", {style:{fontSize:12,color:C.textPrimary,margin:"0 0 10px"}}, "ì•„ë˜ ì½”ë“œë¡œ APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:"),
        React.createElement("div", {style:{background:"#1a1a2e",borderRadius:6,padding:12,fontFamily:"monospace",fontSize:11,lineHeight:1.7}},
          React.createElement("span", {style:{color:"#c678dd"}}, "fetch"),
          React.createElement("span", {style:{color:"#abb2bf"}}, "("),
          React.createElement("span", {style:{color:"#98c379"}}, "'/api/data'"),
          React.createElement("span", {style:{color:"#abb2bf"}}, ")"),
          React.createElement("br", null),
          React.createElement("span", {style:{color:"#abb2bf"}}, "  ."),
          React.createElement("span", {style:{color:"#61afef"}}, "then"),
          React.createElement("span", {style:{color:"#abb2bf"}}, "(r => r."),
          React.createElement("span", {style:{color:"#61afef"}}, "json"),
          React.createElement("span", {style:{color:"#abb2bf"}}, "())")
        )
      );
    }
    if (selRecipe === "tip-check") {
      return React.createElement("div", {style:{background:"#E3FCEF",borderLeft:`4px solid #00875A`,borderRadius:8,padding:16,animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{display:"flex",alignItems:"center",gap:6,marginBottom:10}},
          React.createElement("span", {style:{fontSize:16}}, "âœ…"),
          React.createElement("strong", {style:{fontSize:13,color:"#00875A"}}, "ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸")
        ),
        ["ì½”ë“œ ë¦¬ë·° ì™„ë£Œ","í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸","ë¬¸ì„œ ì—…ë°ì´íŠ¸"].map((item, i) =>
          React.createElement("div", {key:i, style:{display:"flex",alignItems:"center",gap:8,padding:"4px 0"}},
            React.createElement("div", {style:{width:16,height:16,borderRadius:3,border:`2px solid #00875A`,background:i===0?"#00875A":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},
              i===0 && React.createElement("span", {style:{color:"#fff",fontSize:9}}, "âœ“")
            ),
            React.createElement("span", {style:{fontSize:12,color:C.textPrimary,textDecoration:i===0?"line-through":"none"}}, item)
          )
        )
      );
    }
    if (selRecipe === "panel-table") {
      return React.createElement("div", {style:{background:"#EAE6FF",borderLeft:`4px solid #6554C0`,borderRadius:8,padding:16,animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{display:"flex",alignItems:"center",gap:6,marginBottom:10}},
          React.createElement("span", {style:{fontSize:16}}, "ğŸ“Œ"),
          React.createElement("strong", {style:{fontSize:13,color:"#6554C0"}}, "íŒ€ ì—­í•  ë°°ë¶„")
        ),
        React.createElement("table", {style:{width:"100%",borderCollapse:"collapse",fontSize:12}},
          React.createElement("thead", null,
            React.createElement("tr", null,
              ["ì´ë¦„","ì—­í• ","ìƒíƒœ"].map(h =>
                React.createElement("th", {key:h, style:{textAlign:"left",padding:"6px 8px",borderBottom:`2px solid #6554C0`,color:"#6554C0",fontSize:11,fontWeight:700}}, h)
              )
            )
          ),
          React.createElement("tbody", null,
            [["ê¹€ì² ìˆ˜","í”„ë¡ íŠ¸ì—”ë“œ","ì§„í–‰ ì¤‘"],["ì´ì˜í¬","ë°±ì—”ë“œ","ì™„ë£Œ"],["ë°•ë¯¼ì¤€","QA","ëŒ€ê¸°"]].map((row, i) =>
              React.createElement("tr", {key:i},
                row.map((cell, j) =>
                  React.createElement("td", {key:j, style:{padding:"5px 8px",borderBottom:`1px solid ${C.border}`,color:C.textPrimary}}, cell)
                )
              )
            )
          )
        )
      );
    }
    return null;
  };

  return React.createElement("div", {id:"s7"},
    React.createElement(SectionHeader, {num:7, emoji:"âœ¨", title:"ë§¤í¬ë¡œ â€“ ë¬¸ì„œì˜ ì´ˆëŠ¥ë ¥", subtitle:"ìŠ¬ë˜ì‹œ(/) í•œ ë²ˆìœ¼ë¡œ ì •ë³´ ë°•ìŠ¤, ëª©ì°¨, ì½”ë“œ ë¸”ë¡ ë“± ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì‚½ì…í•©ë‹ˆë‹¤"}),
    React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,marginBottom:16}},
      React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:14}},
        React.createElement("div", {style:{background:C.bg,borderRadius:8,padding:"8px 14px",fontFamily:"monospace",fontSize:14,color:C.textPrimary,flex:1,cursor:"pointer",border:`1px solid ${C.border}`}, onClick:()=>setShowSlash(!showSlash)},
          React.createElement("span", {style:{color:C.textMuted}}, "ë³¸ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”... "),
          React.createElement("span", {style:{color:C.accent,fontWeight:700}}, "/")
        )
      ),
      showSlash && React.createElement("div", {style:{background:C.surface,border:`1px solid ${C.border}`,borderRadius:8,padding:8,marginBottom:14,animation:"fadeInUp 0.2s ease",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"}},
        React.createElement("div", {style:{fontSize:11,color:C.textMuted,fontWeight:600,marginBottom:6,padding:"0 6px"}}, "ë§¤í¬ë¡œ ì‚½ì…"),
        (macros[cat]||[]).slice(0,3).map(m =>
          React.createElement("div", {key:m.name, style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:6,cursor:"pointer",transition:"background 0.15s"}, onMouseEnter:e=>e.currentTarget.style.background=C.bg, onMouseLeave:e=>e.currentTarget.style.background="transparent"},
            React.createElement("span", {style:{fontSize:16}}, m.icon),
            React.createElement("span", {style:{fontSize:12,color:C.textPrimary,fontWeight:600}}, m.name)
          )
        )
      ),
      React.createElement("div", {style:{display:"flex",gap:4,marginBottom:14,borderBottom:`2px solid ${C.border}`,paddingBottom:8}},
        cats.map(c =>
          React.createElement("button", {key:c.id, onClick:()=>setCat(c.id), style:{padding:"6px 14px",borderRadius:6,border:"none",background:cat===c.id?C.accent:"transparent",color:cat===c.id?"#fff":C.textSecondary,cursor:"pointer",fontSize:12,fontWeight:600,transition:"all 0.2s"}}, c.icon+" "+c.label)
        )
      ),
      React.createElement("div", {style:{background:`${cats.find(c=>c.id===cat)?.catDesc ? C.bg : "transparent"}`,borderRadius:8,padding:cats.find(c=>c.id===cat)?.catDesc?"12px":"0",marginBottom:14,border:cats.find(c=>c.id===cat)?.catDesc?`1px solid ${C.border}`:"none"}},
        React.createElement("p", {style:{margin:0,fontSize:12,color:C.textSecondary,lineHeight:1.6}}, cats.find(c=>c.id===cat)?.catDesc || "")
      ),
      React.createElement("div", {style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:10}},
        (macros[cat]||[]).map(m =>
          React.createElement("div", {key:m.name, onClick:()=>setSelected(selected===m.name?null:m.name), className:"hover-lift", style:{borderRadius:10,border:`1.5px solid ${selected===m.name?m.border:C.border}`,overflow:"hidden",cursor:"pointer",transition:"all 0.2s"}},
            React.createElement("div", {style:{background:m.color,borderBottom:`2px solid ${m.border}`,padding:"10px 12px",display:"flex",alignItems:"center",gap:8}},
              React.createElement("span", {style:{fontSize:16}}, m.icon),
              React.createElement("span", {style:{fontWeight:700,fontSize:12,color:m.color==="#1a1a2e"?"#fff":C.textPrimary}}, m.name)
            ),
            React.createElement("div", {style:{padding:"8px 12px",fontSize:11,color:C.textSecondary}}, m.desc),
            selected===m.name && React.createElement("div", {style:{padding:"10px 12px",background:`${m.border}08`,borderTop:`1px solid ${C.border}`,animation:"fadeInUp 0.2s ease"}},
              React.createElement("div", {style:{fontSize:11,color:C.textPrimary,lineHeight:1.6,marginBottom:6}}, m.detail),
              React.createElement("div", {style:{fontSize:10,color:m.border,fontWeight:600,fontStyle:"italic",background:`${m.border}12`,borderRadius:4,padding:"4px 8px"}}, m.usage),
              React.createElement("div", {style:{marginTop:6,fontSize:10,color:m.border,fontWeight:700}}, "âœ“ ì‚½ì…ë¨!")
            )
          )
        )
      ),

      selectedMacro && React.createElement("div", {style:{marginTop:16,background:C.bg,borderRadius:10,border:`1px solid ${C.border}`,padding:16,animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:12}},
          React.createElement("div", {style:{width:8,height:8,borderRadius:"50%",background:C.green,animation:"pulse 1.5s ease infinite"}}),
          React.createElement("span", {style:{fontWeight:700,fontSize:13,color:C.textPrimary}}, "ì‹¤ì œ ë Œë”ë§ ê²°ê³¼"),
          React.createElement("span", {style:{fontSize:11,color:C.textMuted,marginLeft:"auto"}}, selectedMacro.name)
        ),
        renderLivePreview()
      ),

      isHighlightMacro && React.createElement("div", {style:{marginTop:12,background:C.surface,borderRadius:10,border:`1px solid ${C.border}`,padding:16,animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,color:C.textPrimary,marginBottom:12}}, "ë§¤í¬ë¡œ íŒŒë¼ë¯¸í„° ì—ë””í„°"),
        React.createElement("div", {style:{display:"flex",flexDirection:"column",gap:12}},
          React.createElement("div", {style:{display:"flex",alignItems:"center",gap:10}},
            React.createElement("label", {style:{fontSize:12,color:C.textSecondary,fontWeight:600,minWidth:50}}, "ì œëª©"),
            React.createElement("input", {type:"text",value:previewTitle,onChange:e=>setPreviewTitle(e.target.value),style:{flex:1,padding:"6px 10px",borderRadius:6,border:`1px solid ${C.border}`,fontSize:12,color:C.textPrimary,outline:"none",background:C.bg}})
          ),
          React.createElement("div", {style:{display:"flex",alignItems:"center",gap:10}},
            React.createElement("label", {style:{fontSize:12,color:C.textSecondary,fontWeight:600,minWidth:50}}, "ì•„ì´ì½˜"),
            React.createElement("div", {style:{display:"flex",gap:6}},
              iconOptions.map((ico, i) =>
                React.createElement("button", {key:i, onClick:()=>setPreviewIcon(i), style:{width:34,height:34,borderRadius:8,border:`2px solid ${previewIcon===i?C.accent:C.border}`,background:previewIcon===i?`${C.accent}15`:C.bg,cursor:"pointer",fontSize:16,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"}}, ico)
              )
            )
          ),
          React.createElement("div", {style:{display:"flex",alignItems:"center",gap:10}},
            React.createElement("label", {style:{fontSize:12,color:C.textSecondary,fontWeight:600,minWidth:50}}, "í…Œë‘ë¦¬"),
            React.createElement("div", {onClick:()=>setPreviewBorder(!previewBorder), style:{width:40,height:22,borderRadius:11,background:previewBorder?C.accent:C.border,cursor:"pointer",transition:"all 0.2s",position:"relative",flexShrink:0}},
              React.createElement("div", {style:{width:18,height:18,borderRadius:"50%",background:"#fff",position:"absolute",top:2,left:previewBorder?20:2,transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})
            ),
            React.createElement("span", {style:{fontSize:11,color:C.textMuted}}, previewBorder?"í‘œì‹œ":"ìˆ¨ê¹€")
          )
        )
      )
    ),

    React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,marginBottom:16}},
      React.createElement("div", {style:{fontWeight:700,fontSize:14,color:C.textPrimary,marginBottom:4}}, "ë§¤í¬ë¡œ ì¡°í•© ë ˆì‹œí”¼"),
      React.createElement("div", {style:{fontSize:12,color:C.textMuted,marginBottom:12}}, "ìì£¼ ì“°ì´ëŠ” ë§¤í¬ë¡œ ì¡°í•©ì„ ë¯¸ë¦¬ë³´ì„¸ìš”"),
      React.createElement("div", {style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:selRecipe?14:0}},
        recipes.map(r =>
          React.createElement("div", {key:r.id, onClick:()=>setSelRecipe(selRecipe===r.id?null:r.id), className:"hover-lift", style:{background:selRecipe===r.id?`${C.accent}08`:C.bg,borderRadius:10,border:`1.5px solid ${selRecipe===r.id?C.accent:C.border}`,padding:12,textAlign:"center",cursor:"pointer",transition:"all 0.2s"}},
            React.createElement("div", {style:{fontSize:18,marginBottom:6}}, r.icon),
            React.createElement("div", {style:{fontWeight:700,fontSize:12,color:C.textPrimary,marginBottom:4}}, r.name),
            React.createElement("div", {style:{fontSize:10,color:C.textMuted}}, r.desc)
          )
        )
      ),
      selRecipe && React.createElement("div", {style:{marginTop:2}}, renderRecipePreview())
    ),

    React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,marginBottom:16}},
      React.createElement("div", {style:{fontWeight:700,fontSize:14,color:C.textPrimary,marginBottom:12}}, "ë§¤í¬ë¡œ ì‚½ì… ë°©ë²• 3ê°€ì§€"),
      React.createElement("div", {style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10}},
        [{m:"/",d:"ìŠ¬ë˜ì‹œ ëª…ë ¹",tip:"ê°€ì¥ ë¹ ë¥¸ ë°©ë²•! ë³¸ë¬¸ì—ì„œ / ì…ë ¥ í›„ ë§¤í¬ë¡œ ì´ë¦„ì„ íƒ€ì´í•‘í•˜ë©´ ìë™ì™„ì„± ëª©ë¡ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤."},{m:"{",d:"ì¤‘ê´„í˜¸ ëª…ë ¹",tip:"Confluence Cloudì—ì„œ ì§€ì›. ì¤‘ê´„í˜¸ë¥¼ ì—´ê³  ë§¤í¬ë¡œ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ë°”ë¡œ ì‚½ì…ë©ë‹ˆë‹¤."},{m:"+ ë²„íŠ¼",d:"íˆ´ë°”ì—ì„œ ì‚½ì…",tip:"ì—ë””í„° ìƒë‹¨ + ë²„íŠ¼(ë˜ëŠ” âŠ•)ì„ í´ë¦­í•˜ë©´ ì „ì²´ ë§¤í¬ë¡œ ëª©ë¡ì„ ì¹´í…Œê³ ë¦¬ë³„ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}].map(x =>
          React.createElement("div", {key:x.m, style:{background:C.bg,borderRadius:10,border:`1px solid ${C.border}`,padding:"12px 14px",textAlign:"center"}},
            React.createElement("div", {style:{fontFamily:"monospace",fontSize:20,color:C.accent,fontWeight:800,marginBottom:4}}, x.m),
            React.createElement("div", {style:{fontSize:12,color:C.textPrimary,fontWeight:700,marginBottom:6}}, x.d),
            React.createElement("div", {style:{fontSize:10,color:C.textSecondary,lineHeight:1.5,textAlign:"left"}}, x.tip)
          )
        )
      )
    ),

    React.createElement(TipBox, {icon:"ğŸ’¡", color:C.teal},
      "ë§¤í¬ë¡œëŠ” Confluenceì˜ í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ê°•ì¡° ë§¤í¬ë¡œ(Info, Tip)ì™€ ëª©ì°¨(ToC)ë§Œ ìµí˜€ë„ ë¬¸ì„œ í’ˆì§ˆì´ í¬ê²Œ ì˜¬ë¼ê°‘ë‹ˆë‹¤. ìµìˆ™í•´ì§€ë©´ ì½”ë“œ ë¸”ë¡, í¼ì¹˜ê¸°, 2ë‹¨ ë ˆì´ì•„ì›ƒì„ í™œìš©í•´ ë³´ì„¸ìš”."
    )
  );
}

/* ======= SECTION 8: Templates ======= */
function Section7() {
  const [selCat, setSelCat] = useState("all");
  const [selTmpl, setSelTmpl] = useState(null);
  const [varProject, setVarProject] = useState("");
  const [varDate, setVarDate] = useState("");
  const [varAttendees, setVarAttendees] = useState("");
  const [wizStep, setWizStep] = useState(0);
  const [wizName, setWizName] = useState("");
  const [wizVars, setWizVars] = useState(["", "", ""]);
  const [wizPromo, setWizPromo] = useState(false);
  const tmpls = [
    {id:"meeting",name:"íšŒì˜ë¡",cat:"project",icon:"ğŸ“",color:C.accent,fields:["ë‚ ì§œ","ì°¸ì„ì","ì•ˆê±´","ì•¡ì…˜ ì•„ì´í…œ"]},
    {id:"decision",name:"ì˜ì‚¬ê²°ì •",cat:"project",icon:"âš–ï¸",color:C.teal,fields:["ë°°ê²½","ì˜µì…˜","ê²°ì •","ê·¼ê±°"]},
    {id:"req",name:"ì œí’ˆ ìš”êµ¬ì‚¬í•­",cat:"product",icon:"ğŸ“‹",color:C.green,fields:["ì‚¬ìš©ì ìŠ¤í† ë¦¬","ìˆ˜ìš© ê¸°ì¤€","ë²”ìœ„","ì¼ì •"]},
    {id:"retro",name:"íšŒê³ ë¡",cat:"team",icon:"ğŸ”„",color:C.purple,fields:["ì˜í•œ ì ","ê°œì„ í•  ì ","ì•¡ì…˜ ì•„ì´í…œ"]},
    {id:"howto",name:"How-to ê°€ì´ë“œ",cat:"tech",icon:"ğŸ“–",color:C.orange,fields:["ëª©ì ","ì‚¬ì „ ì¤€ë¹„","ë‹¨ê³„ë³„ ì ˆì°¨","ë¬¸ì œ í•´ê²°"]},
    {id:"troubleshoot",name:"ë¬¸ì œ í•´ê²°",cat:"tech",icon:"ğŸ”§",color:C.red,fields:["ì¦ìƒ","ì›ì¸","í•´ê²° ë°©ë²•","ì˜ˆë°©"]},
  ];
  const catFilters = [{id:"all",label:"ì „ì²´"},{id:"project",label:"í”„ë¡œì íŠ¸"},{id:"product",label:"ì œí’ˆ"},{id:"tech",label:"ê¸°ìˆ "},{id:"team",label:"íŒ€"}];
  const filtered = selCat==="all"?tmpls:tmpls.filter(t=>t.cat===selCat);
  const tmpl = tmpls.find(t=>t.id===selTmpl);
  const setWizVar = (idx, val) => { const nv = [...wizVars]; nv[idx] = val; setWizVars(nv); };

  return React.createElement("div", {id:"s8"},
    React.createElement(SectionHeader, {num:8, emoji:"ğŸ“‹", title:"í…œí”Œë¦¿ê³¼ ë¸”ë£¨í”„ë¦°íŠ¸", subtitle:"ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ì–‘ì‹ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì‹œì‘"}),

    React.createElement("div", {style:{display:"flex",gap:4,marginBottom:14}},
      catFilters.map(f =>
        React.createElement("button", {key:f.id, onClick:()=>setSelCat(f.id), style:{padding:"5px 14px",borderRadius:16,border:`1.5px solid ${selCat===f.id?C.accent:C.border}`,background:selCat===f.id?C.accent:"transparent",color:selCat===f.id?"#fff":C.textSecondary,cursor:"pointer",fontSize:12,fontWeight:600,transition:"all 0.2s"}}, f.label)
      )
    ),

    React.createElement("div", {style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(160px,1fr))",gap:10,marginBottom:16}},
      filtered.map(t =>
        React.createElement("div", {key:t.id, onClick:()=>setSelTmpl(selTmpl===t.id?null:t.id), className:"hover-lift", style:{background:C.surface,border:`2px solid ${selTmpl===t.id?t.color:C.border}`,borderRadius:10,padding:14,textAlign:"center",cursor:"pointer",transition:"all 0.2s"}},
          React.createElement("div", {style:{fontSize:28,marginBottom:6}}, t.icon),
          React.createElement("div", {style:{fontWeight:700,fontSize:13,color:C.textPrimary}}, t.name),
          React.createElement(Tag, {color:t.color===C.accent?"blue":t.color===C.teal?"teal":t.color===C.green?"green":t.color===C.purple?"purple":t.color===C.orange?"orange":"red"}, catFilters.find(c=>c.id===t.cat)?.label)
        )
      )
    ),

    tmpl && React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`2px solid ${tmpl.color}`,padding:16,animation:"fadeInUp 0.3s ease",marginBottom:16}},
      React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:12}},
        React.createElement("span", {style:{fontSize:22}}, tmpl.icon),
        React.createElement("span", {style:{fontWeight:800,fontSize:16,color:C.textPrimary}}, tmpl.name+" ë¯¸ë¦¬ë³´ê¸°")
      ),
      React.createElement("div", {style:{background:C.bg,borderRadius:8,padding:12}},
        tmpl.fields.map((f, i) =>
          React.createElement("div", {key:f, style:{display:"flex",alignItems:"center",gap:8,padding:"6px 0",borderBottom:i<tmpl.fields.length-1?`1px dashed ${C.border}`:"none"}},
            React.createElement("div", {style:{width:6,height:6,borderRadius:"50%",background:tmpl.color,flexShrink:0}}),
            React.createElement("span", {style:{fontSize:13,color:C.textPrimary}}, f),
            React.createElement("span", {style:{marginLeft:"auto",fontSize:11,color:C.textMuted,fontStyle:"italic"}}, "ì…ë ¥ í•„ë“œ")
          )
        )
      )
    ),

    selTmpl === "meeting" && React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.accent}`,padding:16,marginBottom:16,animation:"fadeInUp 0.3s ease"}},
      React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:14}},
        React.createElement("span", {style:{fontSize:18}}, "ğŸ”„"),
        React.createElement("span", {style:{fontWeight:700,fontSize:14,color:C.textPrimary}}, "ë³€ìˆ˜ ì¹˜í™˜ ì‹œë®¬ë ˆì´ì…˜"),
        React.createElement("span", {style:{fontSize:11,color:C.textMuted,marginLeft:"auto",background:C.bg,padding:"2px 8px",borderRadius:10}}, "ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°")
      ),
      React.createElement("div", {style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:16}},
        React.createElement("div", null,
          React.createElement("label", {style:{fontSize:11,color:C.textSecondary,fontWeight:600,marginBottom:4,display:"block"}}, "í”„ë¡œì íŠ¸ëª…"),
          React.createElement("input", {type:"text",value:varProject,onChange:e=>setVarProject(e.target.value),placeholder:"í”„ë¡œì íŠ¸ëª… ì…ë ¥",style:{width:"100%",padding:"7px 10px",borderRadius:6,border:`1px solid ${C.border}`,fontSize:12,color:C.textPrimary,outline:"none",background:C.bg,boxSizing:"border-box"}})
        ),
        React.createElement("div", null,
          React.createElement("label", {style:{fontSize:11,color:C.textSecondary,fontWeight:600,marginBottom:4,display:"block"}}, "ë‚ ì§œ"),
          React.createElement("input", {type:"text",value:varDate,onChange:e=>setVarDate(e.target.value),placeholder:"2026-02-24",style:{width:"100%",padding:"7px 10px",borderRadius:6,border:`1px solid ${C.border}`,fontSize:12,color:C.textPrimary,outline:"none",background:C.bg,boxSizing:"border-box"}})
        ),
        React.createElement("div", null,
          React.createElement("label", {style:{fontSize:11,color:C.textSecondary,fontWeight:600,marginBottom:4,display:"block"}}, "ì°¸ì„ì"),
          React.createElement("input", {type:"text",value:varAttendees,onChange:e=>setVarAttendees(e.target.value),placeholder:"ê¹€ì² ìˆ˜, ì´ì˜í¬",style:{width:"100%",padding:"7px 10px",borderRadius:6,border:`1px solid ${C.border}`,fontSize:12,color:C.textPrimary,outline:"none",background:C.bg,boxSizing:"border-box"}})
        )
      ),
      React.createElement("div", {style:{background:C.bg,borderRadius:10,border:`1px solid ${C.border}`,padding:16}},
        React.createElement("div", {style:{borderBottom:`2px solid ${C.accent}`,paddingBottom:8,marginBottom:12}},
          React.createElement("div", {style:{fontWeight:800,fontSize:16,color:C.textPrimary}}, (varProject || "@í”„ë¡œì íŠ¸ëª…") + " íšŒì˜ë¡")
        ),
        React.createElement("div", {style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"6px 12px",fontSize:13}},
          React.createElement("span", {style:{color:C.textSecondary,fontWeight:600}}, "ë‚ ì§œ:"),
          React.createElement("span", {style:{color:varDate?C.textPrimary:C.accent,fontWeight:varDate?400:600}}, varDate || "@ë‚ ì§œ"),
          React.createElement("span", {style:{color:C.textSecondary,fontWeight:600}}, "ì°¸ì„ì:"),
          React.createElement("span", {style:{color:varAttendees?C.textPrimary:C.accent,fontWeight:varAttendees?400:600}}, varAttendees || "@ì°¸ì„ì"),
          React.createElement("span", {style:{color:C.textSecondary,fontWeight:600}}, "ì•ˆê±´:"),
          React.createElement("span", {style:{color:C.textMuted,fontStyle:"italic"}}, "ì•ˆê±´ì„ ì…ë ¥í•˜ì„¸ìš”..."),
          React.createElement("span", {style:{color:C.textSecondary,fontWeight:600}}, "ì•¡ì…˜ ì•„ì´í…œ:"),
          React.createElement("span", {style:{color:C.textMuted,fontStyle:"italic"}}, "ì•¡ì…˜ ì•„ì´í…œì„ ì…ë ¥í•˜ì„¸ìš”...")
        ),
        (varProject || varDate || varAttendees) && React.createElement("div", {style:{marginTop:12,padding:"6px 10px",background:`${C.green}15`,borderRadius:6,fontSize:11,color:C.green,fontWeight:600}}, "ë³€ìˆ˜ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¹˜í™˜ë˜ê³  ìˆìŠµë‹ˆë‹¤!")
      )
    ),

    React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,marginBottom:16}},
      React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:14}},
        React.createElement("span", {style:{fontSize:18}}, "ğŸ› ï¸"),
        React.createElement("span", {style:{fontWeight:700,fontSize:14,color:C.textPrimary}}, "ë‚´ í…œí”Œë¦¿ ë§Œë“¤ê¸°")
      ),
      React.createElement("div", {style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16}},
        [0,1,2].map(s =>
          React.createElement("div", {key:s, style:{display:"flex",alignItems:"center",gap:8}},
            React.createElement("div", {style:{width:28,height:28,borderRadius:"50%",background:wizStep===s?C.accent:wizStep>s?C.green:C.border,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,transition:"all 0.3s"}}, wizStep>s?"âœ“":s+1),
            React.createElement("span", {style:{fontSize:11,color:wizStep===s?C.textPrimary:C.textMuted,fontWeight:wizStep===s?600:400}}, ["ì´ë¦„ ì„¤ì •","ë³€ìˆ˜ ì¶”ê°€","í”„ë¡œëª¨ì…˜"][s]),
            s<2 && React.createElement("div", {style:{width:30,height:2,background:wizStep>s?C.green:C.border,borderRadius:1}})
          )
        )
      ),
      React.createElement("div", {style:{background:C.bg,borderRadius:10,padding:16,minHeight:80}},
        wizStep===0 && React.createElement("div", {style:{animation:"fadeInUp 0.2s ease"}},
          React.createElement("label", {style:{fontSize:12,color:C.textSecondary,fontWeight:600,marginBottom:6,display:"block"}}, "í…œí”Œë¦¿ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"),
          React.createElement("input", {type:"text",value:wizName,onChange:e=>setWizName(e.target.value),placeholder:"ì˜ˆ: ì£¼ê°„ ë³´ê³ ì„œ",style:{width:"100%",padding:"10px 14px",borderRadius:8,border:`1.5px solid ${C.border}`,fontSize:14,color:C.textPrimary,outline:"none",background:C.surface,boxSizing:"border-box"}}),
          wizName && React.createElement("div", {style:{marginTop:8,fontSize:11,color:C.green,fontWeight:600}}, "\""+wizName+"\" í…œí”Œë¦¿ì„ ë§Œë“­ë‹ˆë‹¤")
        ),
        wizStep===1 && React.createElement("div", {style:{animation:"fadeInUp 0.2s ease"}},
          React.createElement("label", {style:{fontSize:12,color:C.textSecondary,fontWeight:600,marginBottom:8,display:"block"}}, "í…œí”Œë¦¿ì— í¬í•¨í•  ë³€ìˆ˜ í•„ë“œ (ìµœëŒ€ 3ê°œ)"),
          [0,1,2].map(i =>
            React.createElement("div", {key:i, style:{display:"flex",alignItems:"center",gap:8,marginBottom:8}},
              React.createElement("div", {style:{width:22,height:22,borderRadius:"50%",background:`${C.accent}20`,color:C.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:700,flexShrink:0}}, i+1),
              React.createElement("input", {type:"text",value:wizVars[i],onChange:e=>setWizVar(i,e.target.value),placeholder:"ë³€ìˆ˜ëª… (ì˜ˆ: ì‘ì„±ì, ë‚ ì§œ...)",style:{flex:1,padding:"7px 10px",borderRadius:6,border:`1px solid ${C.border}`,fontSize:12,color:C.textPrimary,outline:"none",background:C.surface}})
            )
          ),
          wizVars.filter(v=>v).length>0 && React.createElement("div", {style:{marginTop:4,fontSize:11,color:C.textMuted}}, "ë“±ë¡ëœ ë³€ìˆ˜: "+wizVars.filter(v=>v).map(v=>"@"+v).join(", "))
        ),
        wizStep===2 && React.createElement("div", {style:{animation:"fadeInUp 0.2s ease"}},
          React.createElement("div", {style:{textAlign:"center",marginBottom:16}},
            React.createElement("div", {style:{fontSize:36,marginBottom:8}}, "ğŸš€"),
            React.createElement("div", {style:{fontWeight:700,fontSize:14,color:C.textPrimary,marginBottom:4}}, "ìŠ¤í˜ì´ìŠ¤ ì „ì²´ì— ê³µìœ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"),
            React.createElement("div", {style:{fontSize:12,color:C.textMuted}}, "í”„ë¡œëª¨ì…˜í•˜ë©´ ëª¨ë“  íŒ€ì›ì´ ì´ í…œí”Œë¦¿ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤")
          ),
          React.createElement("div", {style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12}},
            React.createElement("span", {style:{fontSize:12,color:wizPromo?C.textMuted:C.textPrimary,fontWeight:wizPromo?400:600}}, "ê°œì¸ ì „ìš©"),
            React.createElement("div", {onClick:()=>setWizPromo(!wizPromo), style:{width:48,height:26,borderRadius:13,background:wizPromo?C.accent:C.border,cursor:"pointer",transition:"all 0.2s",position:"relative",flexShrink:0}},
              React.createElement("div", {style:{width:22,height:22,borderRadius:"50%",background:"#fff",position:"absolute",top:2,left:wizPromo?24:2,transition:"all 0.2s",boxShadow:"0 1px 4px rgba(0,0,0,0.2)"}})
            ),
            React.createElement("span", {style:{fontSize:12,color:wizPromo?C.accent:C.textMuted,fontWeight:wizPromo?700:400}}, "ìŠ¤í˜ì´ìŠ¤ ê³µìœ ")
          ),
          wizPromo && React.createElement("div", {style:{marginTop:12,textAlign:"center",fontSize:11,color:C.green,fontWeight:600}}, "ì´ í…œí”Œë¦¿ì€ ìŠ¤í˜ì´ìŠ¤ì˜ ëª¨ë“  ë©¤ë²„ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤"),
          (wizName || wizVars.filter(v=>v).length>0) && React.createElement("div", {style:{marginTop:16,background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,padding:12}},
            React.createElement("div", {style:{fontSize:11,color:C.textMuted,fontWeight:600,marginBottom:6}}, "ìš”ì•½"),
            React.createElement("div", {style:{fontSize:12,color:C.textPrimary}}, "ì´ë¦„: "+(wizName||"(ë¯¸ì„¤ì •)")),
            wizVars.filter(v=>v).length>0 && React.createElement("div", {style:{fontSize:12,color:C.textPrimary}}, "ë³€ìˆ˜: "+wizVars.filter(v=>v).join(", ")),
            React.createElement("div", {style:{fontSize:12,color:C.textPrimary}}, "ê³µìœ : "+(wizPromo?"ìŠ¤í˜ì´ìŠ¤ ì „ì²´":"ê°œì¸ ì „ìš©"))
          )
        )
      ),
      React.createElement("div", {style:{display:"flex",justifyContent:"space-between",marginTop:12}},
        React.createElement("button", {onClick:()=>setWizStep(Math.max(0,wizStep-1)), disabled:wizStep===0, style:{padding:"7px 18px",borderRadius:8,border:`1px solid ${C.border}`,background:wizStep===0?"transparent":C.surface,color:wizStep===0?C.textMuted:C.textPrimary,cursor:wizStep===0?"default":"pointer",fontSize:12,fontWeight:600,opacity:wizStep===0?0.5:1,transition:"all 0.2s"}}, "ì´ì „"),
        React.createElement("button", {onClick:()=>setWizStep(Math.min(2,wizStep+1)), disabled:wizStep===2, style:{padding:"7px 18px",borderRadius:8,border:"none",background:wizStep===2?C.textMuted:C.accent,color:"#fff",cursor:wizStep===2?"default":"pointer",fontSize:12,fontWeight:600,opacity:wizStep===2?0.5:1,transition:"all 0.2s"}}, wizStep===2?"ì™„ë£Œ":"ë‹¤ìŒ")
      )
    ),

    React.createElement("div", {style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}},
      [["í…œí”Œë¦¿","ë¯¸ë¦¬ ë§Œë“  ì–‘ì‹ì„ ì¬ì‚¬ìš©","ë³€ìˆ˜ ì¹˜í™˜ìœ¼ë¡œ ë¹ ë¥¸ ë¬¸ì„œ ìƒì„±",C.accent],["ë¸”ë£¨í”„ë¦°íŠ¸","í…œí”Œë¦¿ + ìë™ ìƒ‰ì¸ í˜ì´ì§€","ì‘ì„± ë¬¸ì„œê°€ ìë™ìœ¼ë¡œ ëª©ë¡í™”ë¨",C.purple]].map(([t,d1,d2,c]) =>
        React.createElement("div", {key:t, style:{background:C.surface,borderRadius:10,border:`1px solid ${C.border}`,padding:14}},
          React.createElement("div", {style:{fontWeight:700,fontSize:14,color:c,marginBottom:6}}, t),
          React.createElement("div", {style:{fontSize:12,color:C.textPrimary,marginBottom:4}}, d1),
          React.createElement("div", {style:{fontSize:11,color:C.textMuted}}, d2)
        )
      )
    )
  );
}

/* ======= SECTION 9: Collaboration ======= */
function Section8() {
  const [demo, setDemo] = useState("editing");
  const [c1, setC1] = useState({x:30,y:35});
  const [c2, setC2] = useState({x:65,y:60});
  const [tasks, setTasks] = useState([{id:1,text:"ë””ìì¸ ê²€í† ",who:"ê¹€ì² ìˆ˜",due:"2026-03-10",done:false},{id:2,text:"API ëª…ì„¸ ì‘ì„±",who:"ì´ì˜í¬",due:"2026-02-20",done:false},{id:3,text:"QA í…ŒìŠ¤íŠ¸",who:"ë°•ë¯¼ì¤€",due:"2026-02-28",done:false}]);
  const [conflictResolved, setConflictResolved] = useState(null);
  const [reactions, setReactions] = useState({"ğŸ‘":3,"â¤ï¸":1,"ğŸ‰":5,"ğŸ¤”":0,"ğŸ‘€":2});
  const [myReactions, setMyReactions] = useState({});
  const [reactAnim, setReactAnim] = useState(null);
  const [showHistory, setShowHistory] = useState(false);

  useEffect(()=>{if(demo!=="editing")return;const id=setInterval(()=>{setC1({x:15+seededRandom(Date.now()%100)*65,y:20+seededRandom((Date.now()%100)+1)*55});setC2({x:15+seededRandom((Date.now()%100)+2)*65,y:20+seededRandom((Date.now()%100)+3)*55});},2000);return()=>clearInterval(id);},[demo]);
  const getDueColor=(d)=>{const days=(new Date(d)-new Date())/86400000;if(days<0)return C.red;if(days<=7)return C.orange;return C.green;};

  const handleReaction = (emoji) => {
    setReactAnim(emoji);
    setTimeout(() => setReactAnim(null), 300);
    if (myReactions[emoji]) {
      setMyReactions(prev => { const n = {...prev}; delete n[emoji]; return n; });
      setReactions(prev => ({...prev, [emoji]: prev[emoji]-1}));
    } else {
      setMyReactions(prev => ({...prev, [emoji]: true}));
      setReactions(prev => ({...prev, [emoji]: prev[emoji]+1}));
    }
  };

  const reactionAvatars = {
    "ğŸ‘": ["ê¹€","ì´","ë°•"],
    "â¤ï¸": ["ì´"],
    "ğŸ‰": ["ê¹€","ì´","ë°•","ì •","ìµœ"],
    "ğŸ¤”": [],
    "ğŸ‘€": ["ê¹€","ë°•"]
  };

  const tabs = [["editing","âœï¸ ë™ì‹œ í¸ì§‘"],["mention","@ ë©˜ì…˜"],["task","â˜‘ï¸ ì‘ì—…"],["conflict","âš¡ ì¶©ëŒ"],["reaction","ğŸ˜€ ë°˜ì‘"]];

  return React.createElement("div", {id:"s9"},
    React.createElement(SectionHeader, {num:9, emoji:"ğŸ‘¥", title:"ë™ì‹œ í¸ì§‘ê³¼ ë©˜ì…˜", subtitle:"ì‹¤ì‹œê°„ìœ¼ë¡œ í•¨ê»˜ ì‘ì—…í•˜ê¸°"}),

    React.createElement("div", {style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"}},
      tabs.map(([id,l]) =>
        React.createElement("button", {key:id, onClick:()=>setDemo(id), style:{padding:"7px 16px",borderRadius:8,border:`1px solid ${demo===id?C.accent:C.border}`,background:demo===id?C.accent:"transparent",color:demo===id?"#fff":C.textSecondary,cursor:"pointer",fontSize:12,fontWeight:600,transition:"all 0.2s"}}, l)
      )
    ),

    React.createElement("div", {style:{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,minHeight:220}},

      demo==="editing" && React.createElement("div", {style:{animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{background:"#FFF7D6",borderLeft:`4px solid ${C.orange}`,borderRadius:"0 8px 8px 0",padding:"8px 12px",marginBottom:12,display:"flex",alignItems:"center",justifyContent:"space-between",animation:"fadeInUp 0.3s ease"}},
          React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8}},
            React.createElement("span", {style:{fontSize:14}}, "ğŸ“"),
            React.createElement("span", {style:{fontSize:12,color:C.textPrimary}}, "ì´ì˜í¬ê°€ 5ë¶„ ì „ì— ìˆ˜ì •"),
            React.createElement("span", {style:{fontSize:12,color:C.orange,fontWeight:700,cursor:"pointer",marginLeft:8,textDecoration:"underline"}, onClick:()=>setShowHistory(!showHistory)}, showHistory?"ë‹«ê¸°":"ë³€ê²½ì‚¬í•­ ë³´ê¸°")
          )
        ),
        showHistory && React.createElement("div", {style:{background:C.bg,borderRadius:8,border:`1px solid ${C.border}`,padding:12,marginBottom:12,animation:"fadeInUp 0.2s ease"}},
          React.createElement("div", {style:{fontWeight:700,fontSize:12,color:C.textPrimary,marginBottom:8}}, "ë³€ê²½ ì´ë ¥"),
          React.createElement("div", {style:{fontSize:12,lineHeight:1.8,fontFamily:"monospace"}},
            React.createElement("div", {style:{color:C.red,background:"#FFEBE6",padding:"2px 6px",borderRadius:4,marginBottom:4}}, "- ì£¼ìš” ê¸°ëŠ¥: ëŒ€ì‹œë³´ë“œ ë¦¬ë””ìì¸, API ë¦¬íŒ©í† ë§..."),
            React.createElement("div", {style:{color:C.green,background:"#E3FCEF",padding:"2px 6px",borderRadius:4}}, "+ ì£¼ìš” ê¸°ëŠ¥: ëŒ€ì‹œë³´ë“œ ë¦¬ë‰´ì–¼, API ìµœì í™”...")
          ),
          React.createElement("div", {style:{marginTop:8,fontSize:10,color:C.textMuted}}, "2026-02-24 14:32 Â· ì´ì˜í¬")
        ),
        React.createElement("div", {style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12}},
          React.createElement("span", {style:{fontWeight:700,fontSize:13}}, "ì‹¤ì‹œê°„ ê³µë™ í¸ì§‘ ì¤‘"),
          React.createElement("div", {style:{display:"flex"}},
            [["ê¹€",C.accent],["ì´",C.green]].map(([n,c],i) =>
              React.createElement("div", {key:n, style:{width:28,height:28,borderRadius:"50%",background:c,border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:11,marginLeft:i>0?-6:0,zIndex:i}}, n)
            )
          )
        ),
        React.createElement("div", {style:{position:"relative",background:C.bg,borderRadius:8,padding:16,minHeight:140,border:`1px solid ${C.border}`,overflow:"hidden"}},
          React.createElement("div", {style:{position:"absolute",left:`${c1.x}%`,top:`${c1.y}%`,transition:"all 1.8s ease",zIndex:2,pointerEvents:"none"}},
            React.createElement("div", {style:{width:2,height:16,background:C.accent}}),
            React.createElement("div", {style:{position:"absolute",top:-14,left:4,background:C.accent,color:"#fff",fontSize:9,padding:"1px 4px",borderRadius:3,whiteSpace:"nowrap"}}, "ê¹€ì² ìˆ˜")
          ),
          React.createElement("div", {style:{position:"absolute",left:`${c2.x}%`,top:`${c2.y}%`,transition:"all 1.8s ease",zIndex:2,pointerEvents:"none"}},
            React.createElement("div", {style:{width:2,height:16,background:C.green}}),
            React.createElement("div", {style:{position:"absolute",top:-14,left:4,background:C.green,color:"#fff",fontSize:9,padding:"1px 4px",borderRadius:3,whiteSpace:"nowrap"}}, "ì´ì˜í¬")
          ),
          React.createElement("p", {style:{fontSize:13,color:C.textPrimary,lineHeight:2}},
            "í”„ë¡œì íŠ¸ ëª©í‘œëŠ” ",
            React.createElement("strong", {style:{color:C.accent}}, "ì‚¬ìš©ì ê²½í—˜ ê°œì„ "),
            "ì…ë‹ˆë‹¤.",
            React.createElement("br"),
            "ì£¼ìš” ê¸°ëŠ¥: ëŒ€ì‹œë³´ë“œ ë¦¬ë‰´ì–¼, API ìµœì í™”...",
            React.createElement("br"),
            React.createElement("span", {style:{color:C.textMuted}}, "1ë¶„ê¸° ì™„ë£Œ ëª©í‘œ Â· íŒ€ì› 5ëª…")
          )
        )
      ),

      demo==="mention" && React.createElement("div", {style:{animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,marginBottom:10}}, "@ ë©˜ì…˜ìœ¼ë¡œ íŒ€ì› í˜¸ì¶œ"),
        React.createElement("div", {style:{background:C.bg,borderRadius:8,padding:14}},
          React.createElement("div", {style:{fontFamily:"monospace",fontSize:13,color:C.textPrimary,lineHeight:2}},
            "ì´ ë¶€ë¶„ì— ëŒ€í•´ ",
            React.createElement("span", {style:{background:`${C.accent}22`,color:C.accent,fontWeight:700,padding:"1px 4px",borderRadius:4}}, "@ê¹€ì² ìˆ˜"),
            " ë‹˜ì˜ í™•ì¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤."
          ),
          React.createElement("div", {style:{marginTop:12,display:"flex",alignItems:"center",gap:10}},
            React.createElement("span", {style:{fontSize:16}}, "ğŸ””"),
            React.createElement("span", {style:{fontSize:12,color:C.textSecondary}}, "ê¹€ì² ìˆ˜ì—ê²Œ ì•Œë¦¼ì´ ì „ì†¡ë©ë‹ˆë‹¤"),
            React.createElement("div", {style:{marginLeft:"auto",display:"flex",gap:4}},
              ["ğŸ“§ ì´ë©”ì¼","ğŸ“¥ ì›Œí¬ë°•ìŠ¤"].map(ch =>
                React.createElement("span", {key:ch, style:{fontSize:10,background:`${C.accent}11`,color:C.accent,padding:"2px 6px",borderRadius:4,fontWeight:600}}, ch)
              )
            )
          )
        ),
        React.createElement("div", {style:{marginTop:12,display:"flex",gap:8}},
          [["@ì´ë¦„","íŒ€ì› ë©˜ì…˜",C.accent],["//ë‚ ì§œ","ê¸°í•œ ì„¤ì •",C.orange],["[ ]","ì‘ì—… ìƒì„±",C.green]].map(([k,d,c]) =>
            React.createElement("div", {key:k, style:{flex:1,background:C.bg,borderRadius:8,padding:10,textAlign:"center"}},
              React.createElement("div", {style:{fontFamily:"monospace",fontSize:16,color:c,fontWeight:700}}, k),
              React.createElement("div", {style:{fontSize:10,color:C.textMuted,marginTop:4}}, d)
            )
          )
        )
      ),

      demo==="task" && React.createElement("div", {style:{animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,marginBottom:10}}, "ì‘ì—… í• ë‹¹ ë° ì¶”ì "),
        tasks.map(t =>
          React.createElement("div", {key:t.id, style:{display:"flex",alignItems:"center",gap:10,padding:"8px 0",borderBottom:`1px solid ${C.border}`,transition:"all 0.3s"}},
            React.createElement("div", {onClick:()=>setTasks(ts=>ts.map(x=>x.id===t.id?{...x,done:!x.done}:x)), style:{width:18,height:18,borderRadius:4,border:`2px solid ${t.done?C.green:C.border}`,background:t.done?C.green:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0}},
              t.done && React.createElement("span", {style:{color:"#fff",fontSize:10,animation:"check-pop 0.3s ease"}}, "âœ“")
            ),
            React.createElement("span", {style:{flex:1,fontSize:13,color:t.done?C.textMuted:C.textPrimary,textDecoration:t.done?"line-through":"none",transition:"all 0.3s"}}, t.text),
            React.createElement("span", {style:{background:`${C.accent}15`,color:C.accent,borderRadius:10,padding:"2px 8px",fontSize:10,fontWeight:600}}, "@"+t.who),
            React.createElement("span", {style:{background:`${getDueColor(t.due)}15`,color:getDueColor(t.due),borderRadius:10,padding:"2px 8px",fontSize:10,fontWeight:600}}, t.due)
          )
        ),
        React.createElement("div", {style:{marginTop:8,fontSize:10,color:C.textMuted,display:"flex",gap:12}},
          React.createElement("span", null, React.createElement("span", {style:{color:C.green}}, "â—"), " ì •ìƒ"),
          React.createElement("span", null, React.createElement("span", {style:{color:C.orange}}, "â—"), " 7ì¼ ì´ë‚´"),
          React.createElement("span", null, React.createElement("span", {style:{color:C.red}}, "â—"), " ê¸°í•œ ì´ˆê³¼")
        )
      ),

      demo==="conflict" && React.createElement("div", {style:{animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,marginBottom:12}}, "í¸ì§‘ ì¶©ëŒ ì‹œë‚˜ë¦¬ì˜¤"),
        React.createElement("div", {style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:14}},
          React.createElement("div", {style:{background:C.bg,borderRadius:10,border:`2px solid ${C.accent}`,padding:12}},
            React.createElement("div", {style:{display:"flex",alignItems:"center",gap:6,marginBottom:8}},
              React.createElement("div", {style:{width:22,height:22,borderRadius:"50%",background:C.accent,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:700}}, "ê¹€"),
              React.createElement("span", {style:{fontSize:12,fontWeight:700,color:C.accent}}, "ê¹€ì² ìˆ˜ (ë‚˜)")
            ),
            React.createElement("div", {style:{background:C.surface,borderRadius:6,padding:10,border:`1px solid ${C.border}`,fontSize:12,lineHeight:1.8,fontFamily:"monospace"}},
              "í”„ë¡œì íŠ¸ ì¼ì •ì„ ",
              React.createElement("span", {style:{background:`${C.accent}22`,padding:"1px 3px",borderRadius:3,fontWeight:700}}, "2ë¶„ê¸°ë¡œ ì¡°ì •"),
              "í•©ë‹ˆë‹¤."
            )
          ),
          React.createElement("div", {style:{background:C.bg,borderRadius:10,border:`2px solid ${C.green}`,padding:12}},
            React.createElement("div", {style:{display:"flex",alignItems:"center",gap:6,marginBottom:8}},
              React.createElement("div", {style:{width:22,height:22,borderRadius:"50%",background:C.green,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:700}}, "ì´"),
              React.createElement("span", {style:{fontSize:12,fontWeight:700,color:C.green}}, "ì´ì˜í¬")
            ),
            React.createElement("div", {style:{background:C.surface,borderRadius:6,padding:10,border:`1px solid ${C.border}`,fontSize:12,lineHeight:1.8,fontFamily:"monospace"}},
              "í”„ë¡œì íŠ¸ ì¼ì •ì„ ",
              React.createElement("span", {style:{background:`${C.green}22`,padding:"1px 3px",borderRadius:3,fontWeight:700}}, "3ë¶„ê¸°ë¡œ ì—°ì¥"),
              "í•©ë‹ˆë‹¤."
            )
          )
        ),
        !conflictResolved && React.createElement("div", {style:{background:"#FFEBE6",borderRadius:10,border:`2px solid ${C.red}`,padding:14,textAlign:"center",marginBottom:14,animation:"fadeInUp 0.2s ease"}},
          React.createElement("div", {style:{fontSize:20,marginBottom:6}}, "âš¡"),
          React.createElement("div", {style:{fontWeight:800,fontSize:14,color:C.red,marginBottom:10}}, "ì¶©ëŒ ë°œìƒ!"),
          React.createElement("div", {style:{fontSize:12,color:C.textSecondary,marginBottom:12}}, "ê°™ì€ ë¬¸ë‹¨ì„ ë™ì‹œì— ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. í•´ê²° ë°©ë²•ì„ ì„ íƒí•˜ì„¸ìš”."),
          React.createElement("div", {style:{display:"flex",gap:8,justifyContent:"center"}},
            [["mine","ë‚´ ë³€ê²½ ìœ ì§€",C.accent],["theirs","ìƒëŒ€ë°© ë³€ê²½ ìˆ˜ë½",C.green],["merge","ë³‘í•©",C.purple]].map(([id,label,color]) =>
              React.createElement("button", {key:id, onClick:()=>setConflictResolved(id), style:{padding:"8px 16px",borderRadius:8,border:"none",background:color,color:"#fff",cursor:"pointer",fontSize:12,fontWeight:700,transition:"all 0.2s"}}, label)
            )
          )
        ),
        conflictResolved && React.createElement("div", {style:{background:`${C.green}10`,borderRadius:10,border:`2px solid ${C.green}`,padding:14,animation:"fadeInUp 0.3s ease",marginBottom:14}},
          React.createElement("div", {style:{display:"flex",alignItems:"center",gap:8,marginBottom:10}},
            React.createElement("span", {style:{fontSize:16}}, "âœ…"),
            React.createElement("span", {style:{fontWeight:700,fontSize:13,color:C.green}}, "ì¶©ëŒ í•´ê²° ì™„ë£Œ!"),
            React.createElement("button", {onClick:()=>setConflictResolved(null), style:{marginLeft:"auto",fontSize:10,color:C.textMuted,background:"transparent",border:`1px solid ${C.border}`,borderRadius:4,padding:"2px 8px",cursor:"pointer"}}, "ë‹¤ì‹œ ì‹œë„")
          ),
          React.createElement("div", {style:{background:C.surface,borderRadius:8,padding:12,border:`1px solid ${C.border}`,fontSize:13,fontFamily:"monospace",lineHeight:1.8}},
            conflictResolved==="mine" && React.createElement("span", null, "í”„ë¡œì íŠ¸ ì¼ì •ì„ ", React.createElement("strong", {style:{color:C.accent}}, "2ë¶„ê¸°ë¡œ ì¡°ì •"), "í•©ë‹ˆë‹¤."),
            conflictResolved==="theirs" && React.createElement("span", null, "í”„ë¡œì íŠ¸ ì¼ì •ì„ ", React.createElement("strong", {style:{color:C.green}}, "3ë¶„ê¸°ë¡œ ì—°ì¥"), "í•©ë‹ˆë‹¤."),
            conflictResolved==="merge" && React.createElement("span", null, "í”„ë¡œì íŠ¸ ì¼ì •ì„ ", React.createElement("strong", {style:{color:C.accent}}, "2ë¶„ê¸°ë¡œ ì¡°ì •"), "í•˜ë˜, í•„ìš”ì‹œ ", React.createElement("strong", {style:{color:C.green}}, "3ë¶„ê¸°ë¡œ ì—°ì¥"), " ê°€ëŠ¥í•©ë‹ˆë‹¤.")
          )
        )
      ),

      demo==="reaction" && React.createElement("div", {style:{animation:"fadeInUp 0.3s ease"}},
        React.createElement("div", {style:{fontWeight:700,fontSize:13,marginBottom:12}}, "ì´ëª¨ì§€ ë°˜ì‘"),
        React.createElement("div", {style:{background:C.bg,borderRadius:10,padding:16,marginBottom:14}},
          React.createElement("div", {style:{fontSize:13,color:C.textPrimary,lineHeight:1.8,marginBottom:12}}, "í”„ë¡œì íŠ¸ í‚¥ì˜¤í”„ ë¯¸íŒ…ì´ ì„±ê³µì ìœ¼ë¡œ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë“  íŒ€ì›ì˜ ì ê·¹ì ì¸ ì°¸ì—¬ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!"),
          React.createElement("div", {style:{borderTop:`1px solid ${C.border}`,paddingTop:12}},
            React.createElement("div", {style:{fontSize:11,color:C.textMuted,marginBottom:8}}, "ë°˜ì‘ ì¶”ê°€í•˜ê¸°"),
            React.createElement("div", {style:{display:"flex",gap:8,flexWrap:"wrap"}},
              Object.entries(reactions).map(([emoji, count]) =>
                React.createElement("button", {key:emoji, onClick:()=>handleReaction(emoji), style:{display:"flex",alignItems:"center",gap:5,padding:"6px 12px",borderRadius:20,border:`1.5px solid ${myReactions[emoji]?C.accent:C.border}`,background:myReactions[emoji]?`${C.accent}10`:C.surface,cursor:"pointer",transition:"all 0.2s",transform:reactAnim===emoji?"scale(1.2)":"scale(1)"}},
                  React.createElement("span", {style:{fontSize:16}}, emoji),
                  React.createElement("span", {style:{fontSize:12,fontWeight:600,color:myReactions[emoji]?C.accent:C.textSecondary}}, count)
                )
              )
            )
          )
        ),
        React.createElement("div", {style:{background:C.surface,borderRadius:8,border:`1px solid ${C.border}`,padding:12}},
          React.createElement("div", {style:{fontSize:11,color:C.textMuted,fontWeight:600,marginBottom:8}}, "ë°˜ì‘í•œ ì‚¬ëŒë“¤"),
          Object.entries(reactions).filter(([e,c]) => c > 0).map(([emoji, count]) =>
            React.createElement("div", {key:emoji, style:{display:"flex",alignItems:"center",gap:8,padding:"4px 0",borderBottom:`1px solid ${C.bg}`}},
              React.createElement("span", {style:{fontSize:14,width:24}}, emoji),
              React.createElement("div", {style:{display:"flex",gap:-4}},
                (reactionAvatars[emoji]||[]).concat(myReactions[emoji]?["ë‚˜"]:[]).map((name, i) =>
                  React.createElement("div", {key:i, style:{width:20,height:20,borderRadius:"50%",background:name==="ë‚˜"?C.orange:name==="ê¹€"?C.accent:name==="ì´"?C.green:name==="ë°•"?C.purple:name==="ì •"?C.teal:C.red,border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:8,fontWeight:700,marginLeft:i>0?-4:0}}, name.charAt(0))
                )
              ),
              React.createElement("span", {style:{fontSize:10,color:C.textMuted,marginLeft:4}}, count+"ëª…")
            )
          )
        )
      )
    ),

    React.createElement(TipBox, {icon:"ğŸ‘¥", color:C.teal}, "ìµœëŒ€ 12ëª…ì´ ë™ì‹œì— ê°™ì€ í˜ì´ì§€ë¥¼ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í¸ì§‘ê¸° ìƒë‹¨ì—ì„œ í˜„ì¬ ì ‘ì†ìì˜ ì•„ë°”íƒ€ë¥¼ í™•ì¸í•˜ì„¸ìš”!")
  );
}

/* ======= SECTION 10: Comments ======= */
function Section9() {
  const [comments, setComments] = useState([{id:1,author:"ê¹€ì² ìˆ˜",color:C.accent,text:"ì´ ì„¹ì…˜ ë‚´ìš©ì´ ë¶ˆëª…í™•í•©ë‹ˆë‹¤. ì˜ˆì‹œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.",time:"10ë¶„ ì „",resolved:false,replies:[{author:"ì´ì˜í¬",color:C.green,text:"ë™ì˜í•©ë‹ˆë‹¤. ë‚´ì¼ê¹Œì§€ ì—…ë°ì´íŠ¸í• ê²Œìš”!",time:"5ë¶„ ì „"}]},{id:2,author:"ë°•ë¯¼ì¤€",color:C.purple,text:"ì „ì²´ì ìœ¼ë¡œ ì˜ ì •ë¦¬ë˜ì–´ ìˆë„¤ìš”!",time:"1ì‹œê°„ ì „",resolved:true,replies:[]},{id:3,author:"ìµœìˆ˜ì§„",color:C.orange,text:"3ë²ˆ í•­ëª© ë§í¬ê°€ ê¹¨ì¡ŒìŠµë‹ˆë‹¤.",time:"2ì‹œê°„ ì „",resolved:false,replies:[]}]);
  const [showResolved, setShowResolved] = useState(false);
  const [selText, setSelText] = useState(null);
  const paras=["ConfluenceëŠ” íŒ€ í˜‘ì—…ì„ ìœ„í•œ ìœ„í‚¤ ê¸°ë°˜ ë¬¸ì„œ í”Œë«í¼ì…ë‹ˆë‹¤.","ìŠ¤í˜ì´ìŠ¤ëŠ” íŒ€ì´ë‚˜ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ì½˜í…ì¸  ëª¨ìŒì…ë‹ˆë‹¤.","ë§¤í¬ë¡œë¥¼ í™œìš©í•˜ë©´ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ë¬¸ì„œì— ì‚½ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."];
  const visible = comments.filter(c=>showResolved||!c.resolved);
  return <div id="s10">
    <SectionHeader num={10} emoji="ğŸ’¬" title="ëŒ“ê¸€ ì‹œìŠ¤í…œ" subtitle="ë¬¸ì„œ ìœ„ì—ì„œ ëŒ€í™”í•˜ê¸°" />
    <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,marginBottom:16}}>
      <div style={{fontWeight:700,fontSize:14,marginBottom:10}}>ğŸ“„ ìƒ˜í”Œ ë¬¸ì„œ</div>
      {paras.map((p,i)=><div key={i} style={{position:"relative",marginBottom:6}}>
        <p onClick={()=>setSelText(selText===i?null:i)} style={{padding:"6px 10px",borderRadius:6,cursor:"pointer",fontSize:13,color:C.textPrimary,lineHeight:1.7,background:selText===i?"#FFF9C4":"transparent",border:`1px solid ${selText===i?C.yellow:"transparent"}`,transition:"all 0.2s",margin:0}}>{p}</p>
        {selText===i&&<div style={{position:"absolute",right:-30,top:"50%",transform:"translateY(-50%)",width:24,height:24,borderRadius:"50%",background:C.accent,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,82,204,0.4)",animation:"fadeInLeft 0.2s ease"}}><span style={{color:"#fff",fontSize:12}}>ğŸ’¬</span></div>}
      </div>)}
      <div style={{fontSize:10,color:C.textMuted,marginTop:4}}>ë‹¨ë½ í´ë¦­ â†’ ì¸ë¼ì¸ ëŒ“ê¸€ ì¶”ê°€</div>
    </div>
    <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16}}>
      <div style={{display:"flex",justifyContent:"space-between",marginBottom:14}}>
        <span style={{fontWeight:700,fontSize:14}}>ëŒ“ê¸€ {visible.length}ê°œ</span>
        <label style={{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:11,color:C.textSecondary}}>
          <input type="checkbox" checked={showResolved} onChange={e=>setShowResolved(e.target.checked)} /> í•´ê²°ëœ ëŒ“ê¸€ ë³´ê¸°
        </label>
      </div>
      {visible.map(c=><div key={c.id} style={{marginBottom:14,opacity:c.resolved?0.45:1,transition:"opacity 0.3s",borderLeft:`3px solid ${c.resolved?C.green:c.color}`,paddingLeft:12}}>
        <div style={{display:"flex",alignItems:"center",gap:6,marginBottom:4}}>
          <div style={{width:24,height:24,borderRadius:"50%",background:c.color,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:10}}>{c.author[0]}</div>
          <span style={{fontWeight:600,fontSize:12}}>{c.author}</span>
          <span style={{fontSize:10,color:C.textMuted}}>{c.time}</span>
          {c.resolved&&<Tag color="green">í•´ê²°ë¨ âœ“</Tag>}
        </div>
        <p style={{fontSize:12,color:c.resolved?C.textMuted:C.textPrimary,margin:"0 0 6px",lineHeight:1.5}}>{c.text}</p>
        {c.replies.map((r,i)=><div key={i} style={{marginLeft:16,borderLeft:`2px solid ${C.border}`,paddingLeft:8,marginBottom:4}}>
          <div style={{display:"flex",alignItems:"center",gap:4,marginBottom:2}}><div style={{width:18,height:18,borderRadius:"50%",background:r.color,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:8,fontWeight:700}}>{r.author[0]}</div><span style={{fontWeight:600,fontSize:11}}>{r.author}</span><span style={{fontSize:9,color:C.textMuted}}>{r.time}</span></div>
          <p style={{fontSize:11,color:C.textSecondary,margin:0}}>{r.text}</p>
        </div>)}
        {!c.resolved&&<div style={{display:"flex",gap:8,marginTop:4}}>
          <button style={{fontSize:10,color:C.accent,background:"none",border:"none",cursor:"pointer",fontWeight:600}}>â†© ë‹µê¸€</button>
          <button onClick={()=>setComments(cs=>cs.map(x=>x.id===c.id?{...x,resolved:true}:x))} style={{fontSize:10,color:C.green,background:"none",border:"none",cursor:"pointer",fontWeight:600}}>âœ“ í•´ê²°</button>
        </div>}
      </div>)}
    </div>
  </div>;
}


/* ======= SECTION 11: Version History ======= */
function Section10() {
  const [selVer, setSelVer] = useState([4]);
  const [mode, setMode] = useState("single");
  const versions=[{v:1,a:"ê¹€ì² ìˆ˜",c:C.accent,d:"2026-01-05",cm:"ìµœì´ˆ ì‘ì„±",txt:"í”„ë¡œì íŠ¸ ê°œìš”\nëª©í‘œ: ì‚¬ìš©ì ê²½í—˜ ê°œì„ \nì¼ì •: 1ë¶„ê¸°"},{v:2,a:"ì´ì˜í¬",c:C.green,d:"2026-01-14",cm:"í”¼ë“œë°± ë°˜ì˜",txt:"í”„ë¡œì íŠ¸ ê°œìš”\nëª©í‘œ: ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì„±ëŠ¥ ìµœì í™”\nì¼ì •: 1ë¶„ê¸°\níŒ€: ê°œë°œ 5ëª…, ë””ìì¸ 2ëª…"},{v:3,a:"ë°•ë¯¼ì¤€",c:C.purple,d:"2026-01-22",cm:"ê¸°ìˆ  ìŠ¤í™ ì¶”ê°€",txt:"í”„ë¡œì íŠ¸ ê°œìš”\nëª©í‘œ: ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì„±ëŠ¥ ìµœì í™”\nì¼ì •: 1ë¶„ê¸°\níŒ€: ê°œë°œ 5ëª…, ë””ìì¸ 2ëª…\nê¸°ìˆ  ìŠ¤íƒ: React, Node.js, PostgreSQL"},{v:4,a:"ìµœìˆ˜ì§„",c:C.orange,d:"2026-02-03",cm:"ì¼ì • ì—…ë°ì´íŠ¸",txt:"í”„ë¡œì íŠ¸ ê°œìš”\nëª©í‘œ: ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì„±ëŠ¥ ìµœì í™”\nì¼ì •: 1ë¶„ê¸° (3/15 ë§ˆê°)\níŒ€: ê°œë°œ 5ëª…, ë””ìì¸ 3ëª…\nê¸°ìˆ  ìŠ¤íƒ: React, Node.js, PostgreSQL"},{v:5,a:"ì •ë‹¤ì—°",c:C.teal,d:"2026-02-20",cm:"ìµœì¢… ìŠ¹ì¸",txt:"í”„ë¡œì íŠ¸ ê°œìš”\nëª©í‘œ: ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì„±ëŠ¥ ìµœì í™”\nì¼ì •: 1ë¶„ê¸° (3/15 ë§ˆê°)\níŒ€: ê°œë°œ 5ëª…, ë””ìì¸ 3ëª…\nê¸°ìˆ  ìŠ¤íƒ: React, Node.js, PostgreSQL\nìƒíƒœ: ìŠ¹ì¸ë¨ âœ“"}];
  const handleClick = v => { if(mode==="compare"){setSelVer(p=>{if(p.includes(v))return p.filter(x=>x!==v);if(p.length>=2)return[p[1],v];return[...p,v];});}else{setSelVer([v]);} };
  const getDiff=()=>{const s=[...selVer].sort((a,b)=>a-b);const vA=versions.find(v=>v.v===s[0]);const vB=versions.find(v=>v.v===s[1]);if(!vA||!vB)return null;const lA=vA.txt.split("\n"),lB=vB.txt.split("\n");return Array.from({length:Math.max(lA.length,lB.length)},(_,i)=>{const a=lA[i]||"",b=lB[i]||"";if(a===b)return{t:"same",x:b};if(!a)return{t:"add",x:b};if(!b)return{t:"del",x:a};return{t:"chg",x:a,y:b};});};
  const mv=mode==="single"?versions.find(v=>v.v===selVer[0]):null;
  const diff=mode==="compare"&&selVer.length===2?getDiff():null;
  return <div id="s11">
    <SectionHeader num={11} emoji="â°" title="ë²„ì „ ê´€ë¦¬" subtitle="ë¬¸ì„œì˜ íƒ€ì„ë¨¸ì‹ " />
    <div style={{display:"flex",gap:6,marginBottom:16}}>
      {[["single","ë‹¨ì¼ ë³´ê¸°"],["compare","ë¹„êµ ë³´ê¸°"]].map(([m,l])=><button key={m} onClick={()=>{setMode(m);setSelVer([4]);}} style={{padding:"6px 14px",borderRadius:8,border:`1px solid ${mode===m?C.accent:C.border}`,background:mode===m?C.accent:"transparent",color:mode===m?"#fff":C.textSecondary,cursor:"pointer",fontSize:12,fontWeight:600,transition:"all 0.2s"}}>{l}</button>)}
    </div>
    <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:"20px 16px",marginBottom:16}}>
      <div style={{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"}}>
        <div style={{position:"absolute",left:20,right:20,top:"50%",height:2,background:C.border,zIndex:0}} />
        {versions.map(ver=>{const isSel=selVer.includes(ver.v); return <div key={ver.v} style={{position:"relative",zIndex:1,display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"}} onClick={()=>handleClick(ver.v)}>
          <div style={{width:36,height:36,borderRadius:"50%",background:isSel?ver.c:C.bg,border:`3px solid ${isSel?ver.c:C.border}`,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.25s",boxShadow:isSel?`0 0 0 4px ${ver.c}33`:"none",color:isSel?"#fff":C.textSecondary,fontWeight:700,fontSize:11}}>{ver.a[0]}</div>
          <div style={{marginTop:6,fontSize:10,fontWeight:700,color:isSel?ver.c:C.textMuted}}>v{ver.v}</div>
          <div style={{fontSize:8,color:C.textMuted}}>{ver.d}</div>
        </div>;})}
      </div>
    </div>
    <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16,minHeight:120}}>
      {mode==="single"&&mv&&<div style={{animation:"fadeInUp 0.3s ease"}}>
        <div style={{fontWeight:700,fontSize:13,color:mv.c,marginBottom:8}}>v{mv.v} â€” {mv.cm}</div>
        <pre style={{fontFamily:"inherit",fontSize:12,color:C.textPrimary,lineHeight:1.8,margin:0,whiteSpace:"pre-wrap"}}>{mv.txt}</pre>
      </div>}
      {mode==="compare"&&diff&&<div style={{animation:"fadeInUp 0.3s ease"}}>
        <div style={{fontWeight:700,fontSize:12,marginBottom:8}}>v{[...selVer].sort((a,b)=>a-b)[0]} â†’ v{[...selVer].sort((a,b)=>a-b)[1]}</div>
        {diff.map((l,i)=><div key={i} style={{fontFamily:"monospace",fontSize:11,lineHeight:1.7,padding:"1px 6px",borderRadius:3,marginBottom:1,background:l.t==="add"?"#E3FCEF":l.t==="del"?"#FFEBE6":l.t==="chg"?"#FFFAE6":"transparent",color:l.t==="add"?C.green:l.t==="del"?C.red:l.t==="chg"?"#7A5200":C.textPrimary}}>
          {l.t==="add"&&<span>+ {l.x}</span>}
          {l.t==="del"&&<span style={{textDecoration:"line-through"}}>- {l.x}</span>}
          {l.t==="chg"&&<span><span style={{textDecoration:"line-through",opacity:0.6}}>{l.x}</span> â†’ <strong>{l.y}</strong></span>}
          {l.t==="same"&&<span style={{opacity:0.5}}>{l.x||" "}</span>}
        </div>)}
      </div>}
      {mode==="compare"&&selVer.length<2&&<div style={{textAlign:"center",color:C.textMuted,padding:"2rem",fontSize:13}}>íƒ€ì„ë¼ì¸ì—ì„œ ë‘ ë²„ì „ì„ ì„ íƒí•˜ë©´ ì°¨ì´ë¥¼ ë¹„êµí•©ë‹ˆë‹¤</div>}
    </div>
    <TipBox>ê²Œì‹œí•  ë•Œ 'ë³€ê²½ ì½”ë©˜íŠ¸'ë¥¼ ë‚¨ê¸°ë©´ Gitì˜ ì»¤ë°‹ ë©”ì‹œì§€ì²˜ëŸ¼ ìˆ˜ì • ì´ìœ ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</TipBox>
  </div>;
}



/* ======= SECTION 12: Space Management ======= */
function SpaceManagement() {
  const [mainTab, setMainTab] = useState("ì„¤ì •");
  const tabs = ["ì„¤ì •","ì‚¬ì´ë“œë°”","ì•„ì¹´ì´ë¸Œ","êµ¬ì¡° ì„¤ê³„"];

  // A) ì„¤ì • íŒ¨ë„
  const [settingTab, setSettingTab] = useState("ì¼ë°˜");
  const [spaceName, setSpaceName] = useState("QAíŒ€ ìœ„í‚¤");
  const [spaceDesc, setSpaceDesc] = useState("");
  const [themeColor, setThemeColor] = useState(C.accent);
  const themes = [{label:"ë¸”ë£¨",color:C.accent},{label:"í‹¸",color:C.teal},{label:"í¼í”Œ",color:C.purple}];

  // B) ì‚¬ì´ë“œë°”
  const [sideItems, setSideItems] = useState([
    {id:1,icon:"ğŸ“‹",label:"ê°œìš”"},{id:2,icon:"ğŸ“„",label:"í˜ì´ì§€ íŠ¸ë¦¬"},{id:3,icon:"ğŸ“",label:"ë¸”ë¡œê·¸"},{id:4,icon:"â­",label:"ë°”ë¡œê°€ê¸°"},{id:5,icon:"ğŸ“…",label:"ìº˜ë¦°ë”"}
  ]);
  const moveItem = (idx, dir) => {
    const t = idx + dir;
    if (t < 0 || t >= sideItems.length) return;
    const arr = [...sideItems];
    [arr[idx], arr[t]] = [arr[t], arr[idx]];
    setSideItems(arr);
  };

  // C) ì•„ì¹´ì´ë¸Œ/ì‚­ì œ
  const [archiveState, setArchiveState] = useState("idle");
  const [deleteState, setDeleteState] = useState("idle");

  // D) êµ¬ì¡° ì„¤ê³„
  const [selectedStructure, setSelectedStructure] = useState(null);
  const structures = [
    {id:"project",icon:"ğŸš€",label:"í”„ë¡œì íŠ¸í˜•",desc:"ìŠ¤í”„ë¦°íŠ¸ ê¸°ë°˜ íŒ€ì— ì í•©",tree:["ğŸš€ í”„ë¡œì íŠ¸ í™ˆ","  â”œâ”€ ğŸ“‹ Sprint 1","  â”œâ”€ ğŸ“‹ Sprint 2","  â”œâ”€ ğŸ“¦ Backlog","  â””â”€ ğŸ”„ íšŒê³ "]},
    {id:"team",icon:"ğŸ‘¥",label:"íŒ€í˜•",desc:"ë¶€ì„œ/íŒ€ ìš´ì˜ì— ì í•©",tree:["ğŸ‘¥ íŒ€ í™ˆ","  â”œâ”€ ğŸ“¢ ê³µì§€ì‚¬í•­","  â”œâ”€ ğŸ“… íšŒì˜ë¡","  â”œâ”€ ğŸ“– ì˜¨ë³´ë”©","  â””â”€ ğŸ“Š ì£¼ê°„ ë¦¬í¬íŠ¸"]},
    {id:"kb",icon:"ğŸ“š",label:"ì§€ì‹ë² ì´ìŠ¤í˜•",desc:"ë¬¸ì„œ/ê°€ì´ë“œ í—ˆë¸Œì— ì í•©",tree:["ğŸ“š ì§€ì‹ë² ì´ìŠ¤","  â”œâ”€ ğŸ”° ì‹œì‘í•˜ê¸°","  â”œâ”€ ğŸ“– ê°€ì´ë“œ","  â”œâ”€ â“ FAQ","  â””â”€ ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"]}
  ];

  const inputStyle = {width:"100%",padding:"10px 14px",borderRadius:8,border:`1.5px solid ${C.border}`,fontSize:13,boxSizing:"border-box",outline:"none"};
  const btnSm = {padding:"4px 10px",borderRadius:6,border:"none",fontSize:12,fontWeight:600,cursor:"pointer"};

  return (
    <div id="s12" className="section-reveal">
      <SectionHeader num={12} emoji="âš™ï¸" title="ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ & ì„¤ì •" subtitle="ìŠ¤í˜ì´ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ì„¸ìš”" />

      {/* Main Tab Navigation */}
      <div style={{display:"flex",gap:6,marginBottom:20,background:C.bg,borderRadius:10,padding:4}}>
        {tabs.map(t=><button key={t} onClick={()=>setMainTab(t)} style={{flex:1,padding:"10px 0",borderRadius:8,border:"none",background:mainTab===t?C.accent:"transparent",color:mainTab===t?"#fff":C.textSecondary,fontWeight:700,fontSize:13,cursor:"pointer",transition:"all 0.25s"}}>{t}</button>)}
      </div>

      {/* A) ì„¤ì • íŒ¨ë„ */}
      {mainTab==="ì„¤ì •"&&<div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,overflow:"hidden"}}>
        <div style={{display:"flex",borderBottom:`1px solid ${C.border}`}}>
          {["ì¼ë°˜","í…Œë§ˆ","ë¡œê³ "].map(t=><button key={t} onClick={()=>setSettingTab(t)} style={{flex:1,padding:"12px 0",border:"none",borderBottom:settingTab===t?`3px solid ${C.accent}`:"3px solid transparent",background:settingTab===t?`${C.accent}08`:"transparent",color:settingTab===t?C.accent:C.textSecondary,fontWeight:700,fontSize:13,cursor:"pointer",transition:"all 0.2s"}}>{t}</button>)}
        </div>
        <div style={{padding:20}}>
          {settingTab==="ì¼ë°˜"&&<div>
            <label style={{fontSize:12,fontWeight:700,color:C.textSecondary,display:"block",marginBottom:6}}>ìŠ¤í˜ì´ìŠ¤ ì´ë¦„</label>
            <input value={spaceName} onChange={e=>setSpaceName(e.target.value)} style={{...inputStyle,marginBottom:16}} />
            <label style={{fontSize:12,fontWeight:700,color:C.textSecondary,display:"block",marginBottom:6}}>ì„¤ëª…</label>
            <textarea value={spaceDesc} onChange={e=>setSpaceDesc(e.target.value)} placeholder="ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”..." rows={3} style={{...inputStyle,resize:"vertical",fontFamily:"inherit",marginBottom:16}} />
            <div style={{background:C.bg,borderRadius:8,padding:"10px 14px",fontSize:13,color:C.textSecondary}}>
              ìŠ¤í˜ì´ìŠ¤ í‚¤: <strong style={{color:C.accent,fontFamily:"Consolas,monospace"}}>{spaceName.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,8)||"KEY"}</strong>
              <span style={{fontSize:11,color:C.textMuted,marginLeft:8}}>(ë³€ê²½ ë¶ˆê°€)</span>
            </div>
          </div>}

          {settingTab==="í…Œë§ˆ"&&<div>
            <div style={{fontSize:13,color:C.textSecondary,marginBottom:14}}>ìŠ¤í˜ì´ìŠ¤ í…Œë§ˆ ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”</div>
            <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:20}}>
              {themes.map(t=><div key={t.label} onClick={()=>setThemeColor(t.color)} style={{border:`2.5px solid ${themeColor===t.color?t.color:C.border}`,borderRadius:12,padding:16,textAlign:"center",cursor:"pointer",background:themeColor===t.color?`${t.color}11`:"transparent",transition:"all 0.25s",boxShadow:themeColor===t.color?`0 4px 16px ${t.color}22`:"none"}}>
                <div style={{width:40,height:40,borderRadius:"50%",background:t.color,margin:"0 auto 10px",boxShadow:`0 2px 8px ${t.color}44`}} />
                <div style={{fontWeight:700,fontSize:13,color:themeColor===t.color?t.color:C.textPrimary}}>{t.label}</div>
                {themeColor===t.color&&<div style={{fontSize:11,color:t.color,marginTop:4}}>âœ“ ì„ íƒë¨</div>}
              </div>)}
            </div>
            <div style={{fontSize:12,fontWeight:700,color:C.textSecondary,marginBottom:8}}>ë¯¸ë¦¬ë³´ê¸°</div>
            <div style={{borderRadius:10,overflow:"hidden",border:`1px solid ${C.border}`}}>
              <div style={{background:themeColor,padding:"14px 18px",color:"#fff",fontWeight:700,fontSize:15,transition:"background 0.3s"}}>{spaceName||"ìŠ¤í˜ì´ìŠ¤ ì´ë¦„"}</div>
              <div style={{padding:14,fontSize:12,color:C.textSecondary,background:C.bg}}>ìŠ¤í˜ì´ìŠ¤ í—¤ë” ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ì…ë‹ˆë‹¤.</div>
            </div>
          </div>}

          {settingTab==="ë¡œê³ "&&<div style={{textAlign:"center",padding:"20px 0"}}>
            <div style={{width:120,height:120,borderRadius:16,border:`2px dashed ${C.border}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",cursor:"pointer",background:C.bg,transition:"all 0.2s"}} onMouseEnter={e=>{e.currentTarget.style.borderColor=C.accent;e.currentTarget.style.background=`${C.accent}08`;}} onMouseLeave={e=>{e.currentTarget.style.borderColor=C.border;e.currentTarget.style.background=C.bg;}}>
              <span style={{fontSize:28,marginBottom:6}}>ğŸ“·</span>
              <span style={{fontSize:11,color:C.textMuted,lineHeight:1.4}}>í´ë¦­í•˜ì—¬<br/>ë¡œê³  ì—…ë¡œë“œ</span>
            </div>
            <div style={{fontSize:12,color:C.textMuted}}>ê¶Œì¥ í¬ê¸°: 48x48px, PNG ë˜ëŠ” SVG</div>
          </div>}
        </div>
      </div>}

      {/* B) ì‚¬ì´ë“œë°” ì»¤ìŠ¤í„°ë§ˆì´ì§• */}
      {mainTab==="ì‚¬ì´ë“œë°”"&&<div style={{display:"flex",gap:20,flexWrap:"wrap"}}>
        <div style={{flex:1,minWidth:260}}>
          <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:16}}>
            <div style={{fontSize:14,fontWeight:700,color:C.textPrimary,marginBottom:14}}>ì‚¬ì´ë“œë°” í•­ëª© ìˆœì„œ</div>
            {sideItems.map((item,idx)=><div key={item.id} style={{display:"flex",alignItems:"center",gap:10,padding:"8px 12px",background:C.bg,borderRadius:8,marginBottom:6,border:`1px solid ${C.border}`,transition:"all 0.2s"}}>
              <span style={{fontSize:16}}>{item.icon}</span>
              <span style={{flex:1,fontSize:13,fontWeight:600,color:C.textPrimary}}>{item.label}</span>
              <button onClick={()=>moveItem(idx,-1)} disabled={idx===0} style={{...btnSm,background:idx===0?C.border:C.accent,color:idx===0?C.textMuted:"#fff",opacity:idx===0?0.5:1}}>â–²</button>
              <button onClick={()=>moveItem(idx,1)} disabled={idx===sideItems.length-1} style={{...btnSm,background:idx===sideItems.length-1?C.border:C.accent,color:idx===sideItems.length-1?C.textMuted:"#fff",opacity:idx===sideItems.length-1?0.5:1}}>â–¼</button>
            </div>)}
          </div>
        </div>
        <div style={{width:200,flexShrink:0}}>
          <div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,overflow:"hidden"}}>
            <div style={{background:`linear-gradient(135deg,${C.accent},${C.teal})`,padding:"12px 14px",color:"#fff",fontWeight:700,fontSize:13}}>ğŸ“ {spaceName||"ìŠ¤í˜ì´ìŠ¤"}</div>
            <div style={{padding:8}}>
              {sideItems.map((item,i)=><div key={item.id} style={{display:"flex",alignItems:"center",gap:8,padding:"7px 10px",borderRadius:6,fontSize:12,color:i===0?C.accent:C.textSecondary,background:i===0?`${C.accent}12`:"transparent",fontWeight:i===0?600:400,marginBottom:2,animation:`fadeInLeft 0.3s ${i*0.06}s both`}}>
                <span style={{fontSize:13}}>{item.icon}</span>{item.label}
              </div>)}
            </div>
          </div>
          <div style={{fontSize:11,color:C.textMuted,textAlign:"center",marginTop:8}}>ì‚¬ì´ë“œë°” ë¯¸ë¦¬ë³´ê¸°</div>
        </div>
      </div>}

      {/* C) ì•„ì¹´ì´ë¸Œ/ì‚­ì œ ë¹„êµ */}
      {mainTab==="ì•„ì¹´ì´ë¸Œ"&&<div>
        <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16}}>
          {/* Archive Card */}
          <div style={{background:C.surface,borderRadius:12,border:`2px solid ${C.orange}`,padding:20}}>
            <div style={{textAlign:"center",marginBottom:14}}>
              <span style={{fontSize:36}}>ğŸ“¦</span>
              <h3 style={{fontSize:16,fontWeight:800,color:C.textPrimary,marginTop:8}}>ì•„ì¹´ì´ë¸Œ</h3>
              <Tag color="orange">ì•ˆì „</Tag>
            </div>
            <div style={{fontSize:12,color:C.textSecondary,lineHeight:1.8,marginBottom:14}}>
              <div style={{display:"flex",alignItems:"center",gap:6,marginBottom:4}}>âœ… ì½˜í…ì¸  ë³´ì¡´</div>
              <div style={{display:"flex",alignItems:"center",gap:6,marginBottom:4}}>ğŸ” ê²€ìƒ‰ ì œì™¸</div>
              <div style={{display:"flex",alignItems:"center",gap:6}}>ğŸ”„ ë³µì› ê°€ëŠ¥</div>
            </div>
            {archiveState==="idle"&&<button onClick={()=>setArchiveState("done")} style={{width:"100%",padding:"10px 0",borderRadius:8,border:"none",background:C.orange,color:"#fff",fontWeight:700,fontSize:13,cursor:"pointer"}}>ì•„ì¹´ì´ë¸Œ ì‹œë®¬ë ˆì´ì…˜</button>}
            {archiveState==="done"&&<div style={{textAlign:"center"}}>
              <div style={{background:"#FFF0B3",borderRadius:8,padding:"10px 14px",fontSize:13,color:C.orange,fontWeight:700,marginBottom:8,animation:"fadeInUp 0.3s"}}>âœ… ì•„ì¹´ì´ë¸Œ ì™„ë£Œ</div>
              <button onClick={()=>setArchiveState("idle")} style={{...btnSm,background:C.accent,color:"#fff",padding:"6px 16px"}}>â†© ë˜ëŒë¦¬ê¸°</button>
            </div>}
          </div>

          {/* Delete Card */}
          <div style={{background:C.surface,borderRadius:12,border:`2px solid ${C.red}`,padding:20}}>
            <div style={{textAlign:"center",marginBottom:14}}>
              <span style={{fontSize:36}}>ğŸ—‘ï¸</span>
              <h3 style={{fontSize:16,fontWeight:800,color:C.textPrimary,marginTop:8}}>ì‚­ì œ</h3>
              <Tag color="red">ìœ„í—˜</Tag>
            </div>
            <div style={{fontSize:12,color:C.textSecondary,lineHeight:1.8,marginBottom:14}}>
              <div style={{display:"flex",alignItems:"center",gap:6,marginBottom:4}}>âŒ ì˜êµ¬ ì‚­ì œ</div>
              <div style={{display:"flex",alignItems:"center",gap:6,marginBottom:4}}>âš ï¸ ë³µêµ¬ ë¶ˆê°€</div>
              <div style={{display:"flex",alignItems:"center",gap:6}}>ğŸ• 30ì¼ íœ´ì§€í†µ</div>
            </div>
            {deleteState==="idle"&&<button onClick={()=>setDeleteState("confirm")} style={{width:"100%",padding:"10px 0",borderRadius:8,border:"none",background:C.red,color:"#fff",fontWeight:700,fontSize:13,cursor:"pointer"}}>ì‚­ì œ ì‹œë®¬ë ˆì´ì…˜</button>}
            {deleteState==="confirm"&&<div style={{background:"#FFEBE6",borderRadius:8,padding:14,animation:"fadeInUp 0.3s"}}>
              <div style={{fontSize:13,fontWeight:700,color:C.red,marginBottom:10,textAlign:"center"}}>âš ï¸ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</div>
              <div style={{fontSize:11,color:C.textSecondary,marginBottom:10,textAlign:"center"}}>ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>
              <div style={{display:"flex",gap:8}}>
                <button onClick={()=>setDeleteState("deleted")} style={{flex:1,...btnSm,background:C.red,color:"#fff",padding:"8px 0"}}>ì‚­ì œ í™•ì¸</button>
                <button onClick={()=>setDeleteState("idle")} style={{flex:1,...btnSm,background:C.border,color:C.textSecondary,padding:"8px 0"}}>ì·¨ì†Œ</button>
              </div>
            </div>}
            {deleteState==="deleted"&&<div style={{textAlign:"center"}}>
              <div style={{background:"#FFEBE6",borderRadius:8,padding:"10px 14px",fontSize:13,color:C.red,fontWeight:700,marginBottom:8,animation:"fadeInUp 0.3s"}}>ğŸ—‘ï¸ ì‚­ì œë¨ (30ì¼ í›„ ì˜êµ¬ ì‚­ì œ)</div>
              <button onClick={()=>setDeleteState("idle")} style={{...btnSm,background:C.accent,color:"#fff",padding:"6px 16px"}}>ë¦¬ì…‹</button>
            </div>}
          </div>
        </div>
        <TipBox icon="ğŸ’¡" color={C.orange}>ì•„ì¹´ì´ë¸Œëœ ìŠ¤í˜ì´ìŠ¤ëŠ” 'ìŠ¤í˜ì´ìŠ¤ ë””ë ‰í† ë¦¬ â†’ ì•„ì¹´ì´ë¸Œë¨'ì—ì„œ ì–¸ì œë“  ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚­ì œ ì „ ë°˜ë“œì‹œ ì•„ì¹´ì´ë¸Œë¥¼ ë¨¼ì € ê³ ë ¤í•˜ì„¸ìš”.</TipBox>
      </div>}

      {/* D) êµ¬ì¡° ì„¤ê³„ */}
      {mainTab==="êµ¬ì¡° ì„¤ê³„"&&<div>
        <div style={{fontSize:13,color:C.textSecondary,marginBottom:14}}>í”„ë¡œì íŠ¸ ìœ í˜•ì— ë§ëŠ” ìŠ¤í˜ì´ìŠ¤ êµ¬ì¡°ë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
        <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:14,marginBottom:16}}>
          {structures.map(s=><div key={s.id} onClick={()=>setSelectedStructure(selectedStructure===s.id?null:s.id)} className="hover-lift" style={{background:C.surface,borderRadius:12,border:`2px solid ${selectedStructure===s.id?C.accent:C.border}`,padding:18,cursor:"pointer",textAlign:"center",transition:"all 0.25s",boxShadow:selectedStructure===s.id?`0 4px 20px ${C.accent}22`:"none"}}>
            <div style={{fontSize:32,marginBottom:8}}>{s.icon}</div>
            <div style={{fontWeight:700,fontSize:14,color:selectedStructure===s.id?C.accent:C.textPrimary,marginBottom:4}}>{s.label}</div>
            <div style={{fontSize:11,color:C.textMuted}}>{s.desc}</div>
            {selectedStructure===s.id&&<div style={{marginTop:4}}><Tag color="blue">ì„ íƒë¨</Tag></div>}
          </div>)}
        </div>
        {selectedStructure&&<div style={{background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:18,animation:"fadeInUp 0.3s"}}>
          <div style={{fontSize:13,fontWeight:700,color:C.accent,marginBottom:12}}>ğŸ“‚ ì¶”ì²œ êµ¬ì¡°</div>
          <div style={{background:C.bg,borderRadius:8,padding:14,fontFamily:"Consolas,'Courier New',monospace",fontSize:13,lineHeight:2,color:C.textPrimary}}>
            {structures.find(s=>s.id===selectedStructure).tree.map((line,i)=><div key={i} style={{color:i===0?C.accent:C.textSecondary,fontWeight:i===0?700:400}}>{line}</div>)}
          </div>
          <TipBox icon="âœ¨" color={C.teal}>ìœ„ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤í˜ì´ìŠ¤ë¥¼ ë§Œë“  í›„, í•„ìš”ì— ë”°ë¼ í•˜ìœ„ í˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. í˜ì´ì§€ íŠ¸ë¦¬ëŠ” ì–¸ì œë“  ì¬êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</TipBox>
        </div>}
      </div>}
    </div>
  );
}

/* ======= SECTION 13: Permissions ======= */
function PermissionsShieldDemo() {
  const [sel, setSel] = useState(0);
  const [locks, setLocks] = useState([false, false, false]);
  const levels = ["Global", "Space", "Page"];
  const colors = [C.red, C.orange, C.teal];
  const groups = ["Anonymous", "All Users", "Group A", "Group B"];
  const [perms, setPerms] = useState(() => Array.from({length:3}, () => groups.map(() => [true,false,false])));
  const sizes = [200, 140, 80];
  const toggleLock = i => {
    const nl = [...locks];
    nl[i] = !nl[i];
    for (let j = i+1; j < 3; j++) if (nl[i]) nl[j] = true;
    setLocks(nl);
  };
  const parentLocked = i => i > 0 && locks.slice(0,i).some(Boolean);
  const togglePerm = (li, gi, pi) => {
    if (locks[li] || parentLocked(li)) return;
    const np = perms.map(l => l.map(g => [...g]));
    np[li][gi][pi] = !np[li][gi][pi];
    setPerms(np);
  };
  return (
    <div id="s13" className="section-reveal">
      <SectionHeader num={13} emoji={"ğŸ›¡ï¸"} title={"ê¶Œí•œ ê´€ë¦¬ â€“ ìš°ì£¼ ê¸°ì§€ ë°©ì–´ë§‰"} subtitle={"ê¸€ë¡œë²Œ â†’ ìŠ¤í˜ì´ìŠ¤ â†’ í˜ì´ì§€, 3ë‹¨ê³„ ë³´ì•ˆ ì²´ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë°°ì›ë‹ˆë‹¤"} />
      <div style={{display:"flex",gap:32,flexWrap:"wrap",alignItems:"flex-start"}}>
        <div style={{position:"relative",width:220,height:220,flexShrink:0,margin:"0 auto"}}>
          {sizes.map((s,i) => (
            <div key={i} onClick={() => setSel(i)} style={{position:"absolute",left:"50%",top:"50%",width:s,height:s,borderRadius:"50%",border:`3px solid ${colors[i]}`,transform:"translate(-50%,-50%)",cursor:"pointer",background:sel===i?colors[i]+"22":"transparent",display:"flex",alignItems:"center",justifyContent:"center",animation:sel===i?"shield-pulse 2s infinite":"none",opacity:locks[i]||parentLocked(i)?0.4:1,transition:"all .3s"}}>
              {i===2 && <span style={{fontSize:12,fontWeight:700,color:colors[i]}}>{levels[i]}</span>}
            </div>
          ))}
          {levels.map((l,i) => i<2 && <span key={l} style={{position:"absolute",left:"50%",top:110-sizes[i]/2-14,transform:"translateX(-50%)",fontSize:10,fontWeight:700,color:colors[i]}}>{l}</span>)}
        </div>
        <div style={{flex:1,minWidth:280}}>
          <div style={{display:"flex",gap:8,marginBottom:12}}>
            {levels.map((l,i) => (
              <button key={i} onClick={() => setSel(i)} style={{padding:"6px 14px",borderRadius:6,border:`2px solid ${colors[i]}`,background:sel===i?colors[i]:"transparent",color:sel===i?"#fff":colors[i],fontWeight:700,cursor:"pointer",fontSize:13}}>{l}</button>
            ))}
          </div>
          <div style={{display:"flex",alignItems:"center",gap:10,marginBottom:12}}>
            <button onClick={() => toggleLock(sel)} style={{padding:"6px 12px",borderRadius:6,border:"none",background:locks[sel]?C.red:C.green,color:"#fff",cursor:parentLocked(sel)?"not-allowed":"pointer",fontWeight:700,fontSize:13,animation:locks[sel]?"shield-pulse 2s infinite":"none",transition:"all .3s"}} disabled={parentLocked(sel)}>
              {locks[sel]?"ğŸ”’ Locked":"ğŸ”“ Unlocked"}
            </button>
            {parentLocked(sel) && <span style={{fontSize:11,color:C.red}}>({"ìƒìœ„ ì ê¸ˆ ì ìš©ë¨"})</span>}
          </div>
          <div style={{overflowX:"auto"}}>
            <table style={{width:"100%",borderCollapse:"collapse",fontSize:12}}>
              <thead><tr><th style={{textAlign:"left",padding:"6px 8px",borderBottom:`2px solid ${C.border}`}}>Group</th>{["Read","Write","Admin"].map(p => <th key={p} style={{padding:"6px 8px",borderBottom:`2px solid ${C.border}`}}>{p}</th>)}</tr></thead>
              <tbody>{groups.map((g,gi) => (
                <tr key={g}><td style={{padding:"6px 8px",borderBottom:`1px solid ${C.border}`}}>{g}</td>
                  {[0,1,2].map(pi => <td key={pi} style={{textAlign:"center",padding:"6px 8px",borderBottom:`1px solid ${C.border}`}}>
                    <input type="checkbox" checked={perms[sel][gi][pi]} onChange={() => togglePerm(sel,gi,pi)} disabled={locks[sel]||parentLocked(sel)} />
                  </td>)}
                </tr>
              ))}</tbody>
            </table>
          </div>
        </div>
      </div>
      <TipBox icon={"ğŸ’¡"} color={C.orange}>{"ìƒìœ„ ë ˆë²¨ì—ì„œ ì œí•œí•œ ê¶Œí•œì€ í•˜ìœ„ ë ˆë²¨ì—ì„œ í’€ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (ì œí•œ > í—ˆìš© ì›ì¹™)"}</TipBox>
    </div>
  );
}


/* ======= SECTION 14: Page Properties ======= */
function PagePropertiesDashboard() {
  const initPages = [
    {name:"í”„ë¡œì íŠ¸ A",owner:"ê¹€ì² ìˆ˜",status:"ì§„í–‰ì¤‘",due:"2026-03-15"},
    {name:"í”„ë¡œì íŠ¸ B",owner:"ì´ì˜í¬",status:"ì™„ë£Œ",due:"2026-02-28"},
    {name:"í”„ë¡œì íŠ¸ C",owner:"ë°•ì§€ë¯¼",status:"ëŒ€ê¸°",due:"2026-04-01"}
  ];
  const [pages, setPages] = useState(initPages);
  const [highlight, setHighlight] = useState(-1);
  const statusHex = {"ì§„í–‰ì¤‘":C.accent,"ì™„ë£Œ":C.green,"ëŒ€ê¸°":C.orange};
  const statusTag = {"ì§„í–‰ì¤‘":"blue","ì™„ë£Œ":"green","ëŒ€ê¸°":"orange"};
  const changeStatus = (i,v) => {
    const np = pages.map((p,j) => j===i?{...p,status:v}:p);
    setPages(np);
    setHighlight(i);
    setTimeout(() => setHighlight(-1), 800);
  };
  return (
    <div id="s14" className="section-reveal">
      <SectionHeader num={14} emoji={"ğŸ“Š"} title={"Page Properties â€“ ë°ì´í„° ì§‘ê³„ ë§ˆë²•"} subtitle={"ê°œë³„ í˜ì´ì§€ì˜ ì†ì„±ì„ ëª¨ì•„ ìë™ ëŒ€ì‹œë³´ë“œ í‘œë¡œ ë§Œë“œëŠ” ê³¼ì •ì„ ì²´í—˜í•©ë‹ˆë‹¤"} />
      <div style={{position:"relative",display:"flex",gap:40,flexWrap:"wrap",alignItems:"flex-start"}}>
        <div style={{flex:1,minWidth:220,display:"flex",flexDirection:"column",gap:12}}>
          {pages.map((p,i) => (
            <div key={i} className="hover-lift" style={{background:C.card,border:`1px solid ${C.border}`,borderRadius:10,padding:14,position:"relative"}}>
              <div style={{fontWeight:700,fontSize:14,marginBottom:8,color:C.textPrimary}}>{"ğŸ“„"} {p.name}</div>
              <div style={{fontSize:12,color:C.textSecondary,marginBottom:4}}>{"ë‹´ë‹¹ì"}: {p.owner} &nbsp;|{"ë§ˆê°ì¼"}: {p.due}</div>
              <div style={{display:"flex",alignItems:"center",gap:6}}>
                <span style={{fontSize:11}}>{"ìƒíƒœ"}:</span>
                <select value={p.status} onChange={e => changeStatus(i,e.target.value)} style={{padding:"3px 8px",borderRadius:4,border:`1px solid ${C.border}`,fontSize:12,background:statusHex[p.status]+"22",color:statusHex[p.status],fontWeight:700}}>
                  {["ì§„í–‰ì¤‘","ì™„ë£Œ","ëŒ€ê¸°"].map(s => <option key={s} value={s}>{s}</option>)}
                </select>
              </div>
              <div style={{marginTop:6,fontSize:10,color:C.textMuted,fontFamily:"monospace",background:C.bg,padding:4,borderRadius:4}}>&lt;page-properties&gt; {"ë‹´ë‹¹ì"} | {"ìƒíƒœ"} | {"ë§ˆê°ì¼"} &lt;/page-properties&gt;</div>
            </div>
          ))}
        </div>
        <div style={{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:4,padding:"0 4px",flexShrink:0}}>
          {[0,1,2].map(i=><div key={i} style={{fontSize:20,color:C.accentDim,animation:"pulse-glow 2s infinite",animationDelay:i*0.3+"s"}}>{"â¡"}</div>)}
        </div>
        <div style={{flex:1,minWidth:280}}>
          <div style={{background:C.card,border:`2px solid ${C.accent}`,borderRadius:10,padding:16}}>
            <div style={{fontWeight:700,fontSize:14,marginBottom:10,color:C.accent}}>{"ğŸ“‹"} Page Properties Report</div>
            <table style={{width:"100%",borderCollapse:"collapse",fontSize:12}}>
              <thead><tr>{["í˜ì´ì§€","ë‹´ë‹¹ì","ìƒíƒœ","ë§ˆê°ì¼"].map(h => <th key={h} style={{padding:"6px 8px",borderBottom:`2px solid ${C.border}`,textAlign:"left",color:C.textSecondary}}>{h}</th>)}</tr></thead>
              <tbody>{pages.map((p,i) => (
                <tr key={i} style={{background:highlight===i?C.accentDim+"33":"transparent",transition:"background .5s"}}>
                  <td style={{padding:"6px 8px",borderBottom:`1px solid ${C.border}`,fontWeight:600}}>{p.name}</td>
                  <td style={{padding:"6px 8px",borderBottom:`1px solid ${C.border}`}}>{p.owner}</td>
                  <td style={{padding:"6px 8px",borderBottom:`1px solid ${C.border}`}}><Tag color={statusTag[p.status]}>{p.status}</Tag></td>
                  <td style={{padding:"6px 8px",borderBottom:`1px solid ${C.border}`}}>{p.due}</td>
                </tr>
              ))}</tbody>
            </table>
          </div>
        </div>
      </div>
      <TipBox icon={"âœ¨"} color={C.teal}>{"Page Properties ë§¤í¬ë¡œ + Page Properties Report ë§¤í¬ë¡œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì—†ì´ë„ í”„ë¡œì íŠ¸ í˜„í™©íŒì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤"}</TipBox>
    </div>
  );
}


/* ======= SECTION 15: Jira Integration ======= */
function JiraIntegrationDemo() {
  const statusCycle = ["To Do","In Progress","Done"];
  const statusStyle = {"To Do":{bg:"#DFE1E6",color:C.textPrimary},"In Progress":{bg:C.accent,color:"#fff"},"Done":{bg:C.green,color:"#fff"}};
  const [issues, setIssues] = useState([
    {key:"PROJ-101",summary:"ë¡œê·¸ì¸ UI ê°œì„ ",status:"To Do",assignee:"ê¹€ì² ìˆ˜"},
    {key:"PROJ-102",summary:"API ì‘ë‹µ ìºì‹œ ì ìš©",status:"In Progress",assignee:"ì´ì˜í¬"},
    {key:"PROJ-103",summary:"ë³´ì•ˆ ì·¨ì•½ì  íŒ¨ì¹˜",status:"Done",assignee:"ë°•ì§€ë¯¼"}
  ]);
  const [tab, setTab] = useState(0);
  const [flipped, setFlipped] = useState(-1);
  const tabs = ["Smart Link","Jira Issue ë§¤í¬ë¡œ","Jira Roadmap ë§¤í¬ë¡œ"];
  const tabDesc = [
    "Jira ì´ìŠˆ URLì„ ë¶™ì—¬ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ ì¹´ë“œí˜• ë§í¬ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.",
    "JQL í•„í„°ë¡œ ì´ìŠˆ ëª©ë¡ì„ í…Œì´ë¸” í˜•íƒœë¡œ ì‚½ì…í•©ë‹ˆë‹¤.",
    "Jira ë¡œë“œë§µì„ Confluence í˜ì´ì§€ì— ì„ë² ë“œí•˜ì—¬ íƒ€ì„ë¼ì¸ì„ ê³µìœ í•©ë‹ˆë‹¤."
  ];
  const cycleStatus = i => {
    const ni = [...issues];
    const ci = statusCycle.indexOf(ni[i].status);
    ni[i] = {...ni[i], status: statusCycle[(ci+1)%3]};
    setIssues(ni);
    setFlipped(i);
    setTimeout(() => setFlipped(-1), 600);
  };
  const IssueCard = ({issue, idx, side}) => {
    const st = statusStyle[issue.status];
    return (
      <div className="hover-lift" style={{display:"flex",alignItems:"center",gap:10,padding:10,background:C.card,border:`1px solid ${C.border}`,borderRadius:8,marginBottom:8,animation:flipped===idx&&side==="conf"?"card-flip-in .5s":"none",cursor:side==="jira"?"pointer":"default"}} onClick={() => side==="jira"&&cycleStatus(idx)}>
        <Tag color="purple">{issue.key}</Tag>
        <span style={{flex:1,fontSize:13,color:C.textPrimary}}>{issue.summary}</span>
        <span style={{padding:"3px 10px",borderRadius:12,fontSize:11,fontWeight:700,background:st.bg,color:st.color}}>{issue.status}</span>
        <span style={{fontSize:11,color:C.textMuted}}>{issue.assignee}</span>
      </div>
    );
  };
  return (
    <div id="s15" className="section-reveal">
      <SectionHeader num={15} emoji={"ğŸ”—"} title={"Jira ì—°ë™ â€“ ë‘ ìš°ì£¼ì˜ ì—°ê²°"} subtitle={"Confluenceì™€ Jiraë¥¼ ì—°ê²°í•˜ì—¬ ì´ìŠˆë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•©ë‹ˆë‹¤"} />
      <div style={{display:"flex",gap:8,marginBottom:16,flexWrap:"wrap"}}>
        {tabs.map((t,i) => <button key={i} onClick={() => setTab(i)} style={{padding:"7px 16px",borderRadius:20,border:`2px solid ${C.accent}`,background:tab===i?C.accent:"transparent",color:tab===i?"#fff":C.accent,fontWeight:700,cursor:"pointer",fontSize:12}}>{t}</button>)}
      </div>
      <div style={{background:C.bg,borderRadius:8,padding:12,marginBottom:16,fontSize:13,color:C.textSecondary,minHeight:36}}>
        {["ğŸ”—","ğŸ“‹","ğŸ—ºï¸"][tab]} {tabDesc[tab]}
      </div>
      <div style={{display:"flex",gap:24,flexWrap:"wrap"}}>
        <div style={{flex:1,minWidth:260}}>
          <div style={{fontSize:13,fontWeight:700,color:C.accent,marginBottom:8}}>Confluence {"í˜ì´ì§€"}</div>
          <div style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:10,padding:14}}>
            <div style={{fontSize:12,color:C.textMuted,marginBottom:8}}>{"í”„ë¡œì íŠ¸ í˜„í™© í˜ì´ì§€"}</div>
            {issues.map((iss,i) => <IssueCard key={iss.key} issue={iss} idx={i} side="conf" />)}
          </div>
        </div>
        <div style={{flex:1,minWidth:260}}>
          <div style={{fontSize:13,fontWeight:700,color:C.green,marginBottom:8}}>Jira {"ë³´ë“œ"} <span style={{fontSize:11,fontWeight:400,color:C.textMuted}}>({"í´ë¦­ìœ¼ë¡œ ìƒíƒœ ë³€ê²½"})</span></div>
          <div style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:10,padding:14}}>
            {issues.map((iss,i) => <IssueCard key={iss.key} issue={iss} idx={i} side="jira" />)}
          </div>
        </div>
      </div>
      <TipBox icon={"ğŸš€"} color={C.accent}>{"Confluence í˜ì´ì§€ì— Jira ì´ìŠˆ URLì„ ë¶™ì—¬ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ Smart Link ì¹´ë“œë¡œ ë³€í™˜ë©ë‹ˆë‹¤"}</TipBox>
    </div>
  );
}


/* ======= SECTION 16: Notifications ======= */
function NotificationSettingsDemo(){
  const[open,setOpen]=useState(false);
  const[watches,setWatches]=useState({space:true,page:false});
  const[prefs,setPrefs]=useState({edit:true,comment:true,like:false,mention:true});
  const[freq,setFreq]=useState("ì¦‰ì‹œ");
  const[badge,setBadge]=useState(3);
  const notifs=[
    {icon:"ğŸ“",text:"í™ê¸¸ë™ë‹˜ì´ 'í”„ë¡œì íŠ¸ ê³„íš' í˜ì´ì§€ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤",time:"2ë¶„ ì „"},
    {icon:"ğŸ’¬",text:"ê¹€ì² ìˆ˜ë‹˜ì´ ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤: 'ì¢‹ì€ ì•„ì´ë””ì–´ë„¤ìš”!'",time:"15ë¶„ ì „"},
    {icon:"ğŸ‘",text:"ì´ì˜í¬ë‹˜ì´ 'íšŒì˜ë¡' í˜ì´ì§€ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤",time:"1ì‹œê°„ ì „"},
    {icon:"ğŸ“¢",text:"@ë©˜ì…˜: ë°•ì§€ë¯¼ë‹˜ì´ ë‹¹ì‹ ì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤",time:"3ì‹œê°„ ì „"}
  ];
  const Toggle=({label,val,onChange})=>(
    <div style={{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0"}}>
      <span style={{fontSize:14,color:C.textPrimary}}>{label}</span>
      <div onClick={onChange} style={{width:44,height:24,borderRadius:12,background:val?C.green:"#ccc",cursor:"pointer",position:"relative",transition:"background .3s"}}>
        <div style={{width:20,height:20,borderRadius:10,background:"#fff",position:"absolute",top:2,left:val?22:2,transition:"left .3s",boxShadow:"0 1px 3px rgba(0,0,0,.3)"}}/>
      </div>
    </div>
  );
  const flowSteps=["ë³€ê²½ ë°œìƒ","ì›Œì¹˜ ì—¬ë¶€ í™•ì¸","ì•Œë¦¼ ì±„ë„\n(ì•±/ì´ë©”ì¼/Slack)"];
  return(
    <div id="s16" className="section-reveal">
      <SectionHeader num={16} emoji={"ğŸ””"} title={"ì•Œë¦¼ ì„¤ì • â€“ ìš°ì£¼ í†µì‹  ì±„ë„"} subtitle={"ì•Œë¦¼ì„ ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ì—¬ ì¤‘ìš”í•œ ë³€ê²½ë§Œ ë†“ì¹˜ì§€ ì•ŠìŠµë‹ˆë‹¤"}/>
      <div style={{display:"flex",gap:24,flexWrap:"wrap"}}>
        <div style={{flex:"1 1 320px"}}>
          <div style={{position:"relative",display:"inline-block",marginBottom:16}}>
            <div onClick={()=>{setOpen(!open);if(!open)setBadge(0)}} style={{fontSize:32,cursor:"pointer",userSelect:"none"}}>{"ğŸ””"}</div>
            {badge>0&&<span style={{position:"absolute",top:-4,right:-8,background:C.red,color:"#fff",borderRadius:10,padding:"1px 6px",fontSize:11,fontWeight:700,animation:"pulse-glow 1.5s infinite"}}>{badge}</span>}
          </div>
          {open&&<div style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:8,boxShadow:"0 8px 24px rgba(0,0,0,.12)",animation:"notification-drop .3s ease-out",overflow:"hidden",marginBottom:16}}>
            <div style={{padding:"10px 14px",borderBottom:`1px solid ${C.border}`,fontWeight:600,fontSize:14,color:C.textPrimary}}>{"ì•Œë¦¼"}</div>
            {notifs.map((n,i)=><div key={i} style={{padding:"10px 14px",borderBottom:`1px solid ${C.border}`,display:"flex",gap:10,alignItems:"flex-start"}}>
              <span style={{fontSize:18}}>{n.icon}</span>
              <div><div style={{fontSize:13,color:C.textPrimary}}>{n.text}</div><div style={{fontSize:11,color:C.textMuted,marginTop:2}}>{n.time}</div></div>
            </div>)}
          </div>}
          <div style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:8,padding:16,marginBottom:16}}>
            <div style={{fontWeight:600,fontSize:15,marginBottom:8,color:C.textPrimary}}>{"ì›Œì¹˜ ì„¤ì •"}</div>
            <Toggle label={"ğŸ›¸ ìŠ¤í˜ì´ìŠ¤ ì›Œì¹˜"} val={watches.space} onChange={()=>setWatches(p=>({...p,space:!p.space}))}/>
            <Toggle label={"ğŸ“„ í˜ì´ì§€ ì›Œì¹˜"} val={watches.page} onChange={()=>setWatches(p=>({...p,page:!p.page}))}/>
          </div>
          <div style={{background:C.surface,border:`1px solid ${C.border}`,borderRadius:8,padding:16}}>
            <div style={{fontWeight:600,fontSize:15,marginBottom:8,color:C.textPrimary}}>{"ì•Œë¦¼ ìœ í˜•"}</div>
            {[["edit","í˜ì´ì§€ ìˆ˜ì •"],["comment","ëŒ“ê¸€ ì¶”ê°€"],["like","ì¢‹ì•„ìš”"],["mention","@ë©˜ì…˜"]].map(([k,l])=>(
              <label key={k} style={{display:"flex",alignItems:"center",gap:8,padding:"4px 0",fontSize:14,cursor:"pointer",color:C.textPrimary}}>
                <input type="checkbox" checked={prefs[k]} onChange={()=>setPrefs(p=>({...p,[k]:!p[k]}))}/>
                {l}
              </label>
            ))}
            <div style={{marginTop:12,fontWeight:600,fontSize:14,color:C.textPrimary}}>{"ì´ë©”ì¼ ë¹ˆë„"}</div>
            {["ì¦‰ì‹œ","ë§¤ì¼ ìš”ì•½","ì£¼ê°„ ìš”ì•½"].map(f=>(
              <label key={f} style={{display:"flex",alignItems:"center",gap:8,padding:"3px 0",fontSize:14,cursor:"pointer",color:C.textPrimary}}>
                <input type="radio" name="freq16" checked={freq===f} onChange={()=>setFreq(f)}/>{f}
              </label>
            ))}
          </div>
        </div>
        <div style={{flex:"1 1 320px"}}>
          <div style={{fontWeight:600,fontSize:15,marginBottom:12,color:C.textPrimary}}>{"ì•Œë¦¼ íë¦„"}</div>
          <div style={{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap",marginBottom:20}}>
            {flowSteps.map((s,i)=><React.Fragment key={i}>
              <div style={{background:i===2?C.accent:C.surface,color:i===2?"#fff":C.textPrimary,border:`2px solid ${i===2?C.accent:C.border}`,borderRadius:10,padding:"12px 18px",fontSize:13,fontWeight:600,textAlign:"center",whiteSpace:"pre-line",minWidth:100}}>{s}</div>
              {i<2&&<span style={{fontSize:22,color:C.accent}}>{"â†’"}</span>}
            </React.Fragment>)}
          </div>
          <TipBox icon={"ğŸ’¡"} color={C.teal}>{"ë„ˆë¬´ ë§ì€ ì•Œë¦¼ì— ì‹œë‹¬ë¦°ë‹¤ë©´ 'ë§¤ì¼ ìš”ì•½'ìœ¼ë¡œ ë°”ê¾¸ê³ , í•µì‹¬ ìŠ¤í˜ì´ìŠ¤ë§Œ ì›Œì¹˜í•˜ì„¸ìš”."}</TipBox>
        </div>
      </div>
    </div>
  );
}



/* ======= SECTION 17: Analytics ======= */
function AnalyticsDashboard() {
  const [tab, setTab] = useState(0);
  const [mounted, setMounted] = useState(false);
  const tabs = ["ì¡°íšŒìˆ˜","ì¸ê¸° ì½˜í…ì¸ ","í™œë™ íˆíŠ¸ë§µ","ì½˜í…ì¸  ì‹ ì„ ë„"];

  useEffect(() => { const t = setTimeout(() => setMounted(true), 100); return () => clearTimeout(t); }, []);

  const viewData = [
    { day: "Mon", label: "ì›”", v: 45 },
    { day: "Tue", label: "í™”", v: 78 },
    { day: "Wed", label: "ìˆ˜", v: 120 },
    { day: "Thu", label: "ëª©", v: 95 },
    { day: "Fri", label: "ê¸ˆ", v: 150 },
    { day: "Sat", label: "í† ", v: 30 },
    { day: "Sun", label: "ì¼", v: 20 }
  ];
  const maxView = Math.max(...viewData.map(d => d.v));

  const leaderboard = [
    { title: "API ì„¤ê³„ ê°€ì´ë“œ", views: 342, up: true },
    { title: "ì˜¨ë³´ë”© ë§¤ë‰´ì–¼", views: 287, up: true },
    { title: "íšŒì˜ë¡ í…œí”Œë¦¿", views: 201, up: false },
    { title: "CI/CD ê°€ì´ë“œ", views: 189, up: true },
    { title: "ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸", views: 156, up: false }
  ];
  const maxLB = leaderboard[0].views;

  const heatmapData = useMemo(() => {
    const seed = [
      [3,1,2,4,2], [2,3,4,1,0], [4,2,3,3,1],
      [1,4,2,2,0], [3,3,4,1,1], [0,1,0,2,0], [0,0,1,1,0]
    ];
    return seed;
  }, []);
  const heatDays = ["ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† ","ì¼"];
  const heatSlots = ["ì˜¤ì „","ì ì‹¬","ì˜¤í›„","ì €ë…","ì•¼ê°„"];

  const today = new Date();
  const freshnessData = [
    { name: "API ì„¤ê³„ ê°€ì´ë“œ", updated: new Date(today - 10 * 86400000) },
    { name: "ì˜¨ë³´ë”© ë§¤ë‰´ì–¼", updated: new Date(today - 45 * 86400000) },
    { name: "íšŒì˜ë¡ í…œí”Œë¦¿", updated: new Date(today - 120 * 86400000) },
    { name: "CI/CD ê°€ì´ë“œ", updated: new Date(today - 5 * 86400000) },
    { name: "ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸", updated: new Date(today - 60 * 86400000) }
  ];
  const getFreshness = (d) => {
    const diff = Math.floor((today - d) / 86400000);
    if (diff < 30) return { color: C.green, label: "ìµœì‹ ", days: diff };
    if (diff < 90) return { color: C.yellow, label: "ì£¼ì˜", days: diff };
    return { color: C.red, label: "ì˜¤ë˜ë¨", days: diff };
  };
  const freshSummary = freshnessData.reduce((acc, p) => {
    const f = getFreshness(p.updated);
    if (f.label === "ìµœì‹ ") acc.fresh++;
    else if (f.label === "ì£¼ì˜") acc.warn++;
    else acc.old++;
    return acc;
  }, { fresh: 0, warn: 0, old: 0 });

  const fmt = (d) => `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;

  const tabBtnStyle = (i) => ({
    padding: "8px 16px", border: "none", cursor: "pointer", fontWeight: 600, fontSize: "13px",
    borderRadius: "8px 8px 0 0", transition: "all .2s",
    background: tab === i ? C.accent : "transparent",
    color: tab === i ? "#fff" : C.textSecondary
  });

  const heatColor = (v) => {
    const opacities = [0.05, 0.2, 0.4, 0.65, 0.95];
    return `rgba(0,82,204,${opacities[v]})`;
  };

  return (
    React.createElement("div", { id: "s17", className: "section-reveal", style: { marginBottom: 32 } },
      React.createElement(SectionHeader, { num: 17, emoji: "ğŸ“Š", title: "Analytics & ì¸ì‚¬ì´íŠ¸", subtitle: "ë°ì´í„°ë¡œ ì½˜í…ì¸ ì˜ ê°€ì¹˜ë¥¼ ì¸¡ì •í•˜ì„¸ìš”" }),

      React.createElement("div", { style: { background: C.card, borderRadius: 12, border: `1px solid ${C.border}`, overflow: "hidden" } },

        React.createElement("div", { style: { display: "flex", gap: 0, borderBottom: `2px solid ${C.border}`, background: C.bg, padding: "0 12px" } },
          tabs.map((t, i) => React.createElement("button", { key: i, onClick: () => setTab(i), style: tabBtnStyle(i) }, t))
        ),

        React.createElement("div", { style: { padding: 24 } },

          tab === 0 && React.createElement("div", null,
            React.createElement("h4", { style: { margin: "0 0 16px", color: C.textPrimary, fontSize: 15 } }, "í˜ì´ì§€ ì¡°íšŒìˆ˜ (ì£¼ê°„)"),
            React.createElement("div", { style: { display: "flex", alignItems: "flex-end", gap: 12, height: 180, padding: "0 8px" } },
              viewData.map((d, i) => React.createElement("div", {
                key: i,
                style: { flex: 1, display: "flex", flexDirection: "column", alignItems: "center", gap: 4 }
              },
                React.createElement("span", { style: { fontSize: 11, color: C.textSecondary, fontWeight: 600 } }, d.v),
                React.createElement("div", {
                  title: `${d.label}: ${d.v}íšŒ`,
                  style: {
                    width: "100%", maxWidth: 40, borderRadius: "6px 6px 0 0",
                    background: `linear-gradient(180deg, ${C.accent}, ${C.teal})`,
                    height: mounted ? `${(d.v / maxView) * 140}px` : "0px",
                    transition: `height 0.6s cubic-bezier(.4,0,.2,1) ${i * 0.08}s`,
                    cursor: "pointer", position: "relative"
                  }
                }),
                React.createElement("span", { style: { fontSize: 12, color: C.textSecondary, fontWeight: 500, marginTop: 2 } }, d.label)
              ))
            ),
            React.createElement("div", { style: { textAlign: "center", marginTop: 12, fontSize: 12, color: C.textMuted } },
              `ì´ ì¡°íšŒìˆ˜: ${viewData.reduce((s, d) => s + d.v, 0)}íšŒ Â· í‰ê· : ${Math.round(viewData.reduce((s, d) => s + d.v, 0) / 7)}íšŒ/ì¼`
            )
          ),

          tab === 1 && React.createElement("div", null,
            React.createElement("h4", { style: { margin: "0 0 16px", color: C.textPrimary, fontSize: 15 } }, "ì¸ê¸° ì½˜í…ì¸  TOP 5"),
            leaderboard.map((p, i) => React.createElement("div", {
              key: i,
              style: {
                display: "flex", alignItems: "center", gap: 12, padding: "10px 12px",
                borderRadius: 8, marginBottom: 6, background: i === 0 ? `${C.accent}0D` : "transparent",
                border: `1px solid ${i === 0 ? C.accentDim + "40" : C.border}`, transition: "background .2s"
              }
            },
              React.createElement("span", {
                style: {
                  width: 28, height: 28, borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center",
                  fontWeight: 700, fontSize: 13, flexShrink: 0,
                  background: i === 0 ? C.accent : i === 1 ? C.teal : i === 2 ? C.orange : C.bg,
                  color: i < 3 ? "#fff" : C.textSecondary
                }
              }, i + 1),
              React.createElement("div", { style: { flex: 1, minWidth: 0 } },
                React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: C.textPrimary, marginBottom: 4 } }, p.title),
                React.createElement("div", { style: { height: 4, borderRadius: 2, background: C.bg, overflow: "hidden" } },
                  React.createElement("div", { style: {
                    height: "100%", borderRadius: 2, width: `${(p.views / maxLB) * 100}%`,
                    background: `linear-gradient(90deg, ${C.accent}, ${C.teal})`, transition: "width .5s"
                  } })
                )
              ),
              React.createElement("span", { style: { fontSize: 13, fontWeight: 700, color: C.textPrimary, minWidth: 36, textAlign: "right" } }, p.views),
              React.createElement("span", { style: { fontSize: 14, color: p.up ? C.green : C.red, fontWeight: 700 } }, p.up ? "â†‘" : "â†“")
            ))
          ),

          tab === 2 && React.createElement("div", null,
            React.createElement("h4", { style: { margin: "0 0 16px", color: C.textPrimary, fontSize: 15 } }, "ê¸°ì—¬ì í™œë™ íˆíŠ¸ë§µ"),
            React.createElement("div", { style: { overflowX: "auto" } },
              React.createElement("table", { style: { borderCollapse: "separate", borderSpacing: 3, margin: "0 auto" } },
                React.createElement("thead", null,
                  React.createElement("tr", null,
                    React.createElement("th", { style: { width: 40 } }),
                    heatSlots.map((s, i) => React.createElement("th", {
                      key: i, style: { fontSize: 11, color: C.textMuted, fontWeight: 500, padding: "0 6px 4px", textAlign: "center" }
                    }, s))
                  )
                ),
                React.createElement("tbody", null,
                  heatDays.map((day, di) => React.createElement("tr", { key: di },
                    React.createElement("td", { style: { fontSize: 11, color: C.textMuted, fontWeight: 500, textAlign: "right", paddingRight: 6 } }, day),
                    heatmapData[di].map((v, si) => React.createElement("td", {
                      key: si, title: `${day} ${heatSlots[si]}: í™œë™ ${v}`,
                      style: {
                        width: 32, height: 32, borderRadius: 6, background: heatColor(v),
                        border: `1px solid ${C.border}`, cursor: "pointer", transition: "transform .15s"
                      }
                    }))
                  ))
                )
              )
            ),
            React.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "center", gap: 6, marginTop: 14, fontSize: 11, color: C.textMuted } },
              "Low",
              [0,1,2,3,4].map(v => React.createElement("div", {
                key: v, style: { width: 16, height: 16, borderRadius: 4, background: heatColor(v), border: `1px solid ${C.border}` }
              })),
              "High"
            )
          ),

          tab === 3 && React.createElement("div", null,
            React.createElement("h4", { style: { margin: "0 0 16px", color: C.textPrimary, fontSize: 15 } }, "ì½˜í…ì¸  ì‹ ì„ ë„"),
            React.createElement("div", {
              style: {
                display: "flex", gap: 8, marginBottom: 16, padding: "10px 14px",
                background: C.bg, borderRadius: 8, fontSize: 13, fontWeight: 600, color: C.textPrimary
              }
            },
              React.createElement("span", null, `ğŸŸ¢ ${freshSummary.fresh}ê°œ ìµœì‹ `),
              React.createElement("span", { style: { color: C.textMuted } }, "Â·"),
              React.createElement("span", null, `ğŸŸ¡ ${freshSummary.warn}ê°œ ì£¼ì˜`),
              React.createElement("span", { style: { color: C.textMuted } }, "Â·"),
              React.createElement("span", null, `ğŸ”´ ${freshSummary.old}ê°œ ì˜¤ë˜ë¨`)
            ),
            freshnessData.map((p, i) => {
              const f = getFreshness(p.updated);
              return React.createElement("div", {
                key: i,
                style: {
                  display: "flex", alignItems: "center", gap: 12, padding: "10px 12px",
                  borderRadius: 8, marginBottom: 6, border: `1px solid ${C.border}`
                }
              },
                React.createElement("div", {
                  style: {
                    width: 12, height: 12, borderRadius: "50%", flexShrink: 0,
                    background: f.color, boxShadow: `0 0 6px ${f.color}60`
                  }
                }),
                React.createElement("div", { style: { flex: 1 } },
                  React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: C.textPrimary } }, p.name),
                  React.createElement("div", { style: { fontSize: 11, color: C.textMuted, marginTop: 2 } }, `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${fmt(p.updated)}`)
                ),
                React.createElement(Tag, { color: f.color }, `${f.days}ì¼ ì „ Â· ${f.label}`)
              );
            }),
            React.createElement("div", { style: { marginTop: 14 } },
              React.createElement(TipBox, { icon: "ğŸ’¡", color: C.accent },
                "Confluence ì• ë„ë¦¬í‹±ìŠ¤ì—ì„œ í˜ì´ì§€ë³„ ì¡°íšŒìˆ˜ì™€ ê¸°ì—¬ì í™œë™ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì£¼ê¸°ì ìœ¼ë¡œ ì½˜í…ì¸  ì‹ ì„ ë„ë¥¼ ì ê²€í•˜ì—¬ ì˜¤ë˜ëœ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”."
              )
            )
          )
        )
      )
    )
  );
}

/* ======= SECTION 18: Automation & Apps ======= */
function AutomationAndApps() {
  const [tab, setTab] = useState("ê·œì¹™ ë¹Œë”");
  const [trigger, setTrigger] = useState("");
  const [condition, setCondition] = useState("");
  const [action, setAction] = useState("");
  const [ruleSaved, setRuleSaved] = useState(false);
  const [expandedPreset, setExpandedPreset] = useState(null);
  const [appCat, setAppCat] = useState("ì „ì²´");
  const [installing, setInstalling] = useState({});
  const [installed, setInstalled] = useState({});
  const [installProgress, setInstallProgress] = useState({});

  const tabs = ["ê·œì¹™ ë¹Œë”", "í”„ë¦¬ì…‹", "ì•± ë§ˆì¼“"];
  const triggers = ["í˜ì´ì§€ ìƒì„±ë¨", "í˜ì´ì§€ ìˆ˜ì •ë¨", "ë¼ë²¨ ì¶”ê°€ë¨", "ëŒ“ê¸€ ì‘ì„±ë¨"];
  const conditions = ["ë¼ë²¨ = 'important'", "ìŠ¤í˜ì´ìŠ¤ = 'DEV'", "ì‘ì„±ì = 'ë‚˜'", "ì¡°ê±´ ì—†ìŒ"];
  const actions = ["Slack ì•Œë¦¼ ì „ì†¡", "ë¼ë²¨ ìë™ ì¶”ê°€", "í˜ì´ì§€ ì´ë™", "ì´ë©”ì¼ ì•Œë¦¼"];

  const presets = [
    { id: 0, name: "ì˜¤ë˜ëœ í˜ì´ì§€ ì•Œë¦¼", icon: "â°", trigger: "90ì¼ ë¯¸ìˆ˜ì • ê°ì§€", condition: "ëª¨ë“  ìŠ¤í˜ì´ìŠ¤ ëŒ€ìƒ", action: "ì‘ì„±ìì—ê²Œ ë¦¬ë§ˆì¸ë” ì•Œë¦¼ ì „ì†¡", desc: "90ì¼ ì´ìƒ ìˆ˜ì •ë˜ì§€ ì•Šì€ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ ì›ë˜ ì‘ì„±ìì—ê²Œ ì—…ë°ì´íŠ¸ ìš”ì²­ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤. ì˜¤ë˜ëœ ë¬¸ì„œê°€ ë°©ì¹˜ë˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.", color: C.orange },
    { id: 1, name: "ìë™ ë¼ë²¨ë§", icon: "ğŸ·ï¸", trigger: "í˜ì´ì§€ ìƒì„±/ìˆ˜ì • ì‹œ", condition: "ì œëª©ì— 'API' í¬í•¨", action: "api ë¼ë²¨ ìë™ ì¶”ê°€", desc: "í˜ì´ì§€ ì œëª©ì— 'API'ê°€ í¬í•¨ë˜ë©´ ìë™ìœ¼ë¡œ 'api' ë¼ë²¨ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìˆ˜ë™ ë¼ë²¨ë§ ì‘ì—…ì„ ì¤„ì´ê³  ë¬¸ì„œ ë¶„ë¥˜ë¥¼ ìë™í™”í•©ë‹ˆë‹¤.", color: C.accent },
    { id: 2, name: "ì¼ì¼ ìš”ì•½", icon: "ğŸ“‹", trigger: "ë§¤ì¼ ì˜¤í›„ 6ì‹œ (Cron)", condition: "ë‹¹ì¼ ë³€ê²½ëœ í˜ì´ì§€ ìˆ˜ì§‘", action: "Slackì— ë³€ê²½ì‚¬í•­ ìš”ì•½ ì „ì†¡", desc: "ë§¤ì¼ ì˜¤í›„ 6ì‹œì— í•´ë‹¹ì¼ ë³€ê²½ëœ ëª¨ë“  í˜ì´ì§€ë¥¼ ìˆ˜ì§‘í•˜ì—¬ Slack ì±„ë„ì— ìš”ì•½ ë©”ì‹œì§€ë¥¼ ìë™ ì „ì†¡í•©ë‹ˆë‹¤. íŒ€ ì „ì²´ê°€ ë³€ê²½ì‚¬í•­ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", color: C.green }
  ];

  const apps = [
    { name: "draw.io", cat: "ë‹¤ì´ì–´ê·¸ë¨", icon: "ğŸ¨", installs: "10M+", desc: "ë‹¤ì´ì–´ê·¸ë¨ & í”Œë¡œì°¨íŠ¸" },
    { name: "Gliffy", cat: "ë‹¤ì´ì–´ê·¸ë¨", icon: "ğŸ“", installs: "5M+", desc: "UML & ë„¤íŠ¸ì›Œí¬ ë‹¤ì´ì–´ê·¸ë¨" },
    { name: "Scroll PDF", cat: "ë¬¸ì„œê´€ë¦¬", icon: "ğŸ“„", installs: "3M+", desc: "PDF ë‚´ë³´ë‚´ê¸°" },
    { name: "Comala", cat: "ë¬¸ì„œê´€ë¦¬", icon: "âœ…", installs: "2M+", desc: "ë¬¸ì„œ ì›Œí¬í”Œë¡œ ê´€ë¦¬" },
    { name: "ScriptRunner", cat: "í†µí•©", icon: "âš¡", installs: "4M+", desc: "ìŠ¤í¬ë¦½íŠ¸ ìë™í™”" },
    { name: "Better Excel", cat: "ë³´ê³ ì„œ", icon: "ğŸ“Š", installs: "1M+", desc: "ì—‘ì…€ í‘œ ì‚½ì…" }
  ];
  const appCats = ["ì „ì²´", "ë‹¤ì´ì–´ê·¸ë¨", "ë¬¸ì„œê´€ë¦¬", "ë³´ê³ ì„œ", "í†µí•©"];
  const filteredApps = appCat === "ì „ì²´" ? apps : apps.filter(a => a.cat === appCat);

  const handleSaveRule = () => {
    if (!trigger || !condition || !action) return;
    setRuleSaved(true);
    setTimeout(() => setRuleSaved(false), 2500);
  };

  const handleInstall = (appName) => {
    if (installed[appName] || installing[appName]) return;
    setInstalling(p => ({ ...p, [appName]: true }));
    setInstallProgress(p => ({ ...p, [appName]: 0 }));
    let prog = 0;
    const iv = setInterval(() => {
      prog += Math.random() * 18 + 8;
      if (prog >= 100) {
        prog = 100;
        clearInterval(iv);
        setInstallProgress(p => ({ ...p, [appName]: 100 }));
        setTimeout(() => {
          setInstalling(p => ({ ...p, [appName]: false }));
          setInstalled(p => ({ ...p, [appName]: true }));
        }, 300);
      }
      setInstallProgress(p => ({ ...p, [appName]: Math.min(prog, 100) }));
    }, 200);
  };

  const cardS = { background: C.card, border: `1px solid ${C.border}`, borderRadius: 8, padding: 16 };
  const selectS = { width: "100%", padding: "8px 12px", borderRadius: 6, border: `1px solid ${C.border}`, fontSize: 14, color: C.textPrimary, background: C.surface, cursor: "pointer", outline: "none" };
  const flowCardS = (filled) => ({ flex: 1, minWidth: 140, padding: "14px 12px", borderRadius: 8, border: `2px solid ${filled ? C.accent : C.border}`, background: filled ? "#e6f0ff" : C.surface, textAlign: "center", transition: "all .3s" });
  const arrowS = { display: "flex", alignItems: "center", justifyContent: "center", fontSize: 22, color: C.accentDim, fontWeight: "bold", padding: "0 4px" };

  return (
    React.createElement("div", { id: "s18", className: "section-reveal" },
      React.createElement(SectionHeader, { num: 18, emoji: "ğŸ¤–", title: "ìë™í™” & ì•± ë§ˆì¼“í”Œë ˆì´ìŠ¤", subtitle: "ë°˜ë³µ ì‘ì—…ì„ ìë™í™”í•˜ê³  ê¸°ëŠ¥ì„ í™•ì¥í•˜ì„¸ìš”" }),

      React.createElement("div", { style: { display: "flex", gap: 0, marginBottom: 24, borderBottom: `2px solid ${C.border}` } },
        tabs.map(t => React.createElement("button", {
          key: t, onClick: () => setTab(t),
          style: { padding: "10px 20px", border: "none", background: "none", cursor: "pointer", fontSize: 15, fontWeight: tab === t ? 700 : 500, color: tab === t ? C.accent : C.textSecondary, borderBottom: tab === t ? `3px solid ${C.accent}` : "3px solid transparent", transition: "all .2s", marginBottom: -2 }
        }, t))
      ),

      tab === "ê·œì¹™ ë¹Œë”" && React.createElement("div", null,
        React.createElement("div", { style: { display: "flex", gap: 12, flexWrap: "wrap", marginBottom: 20 } },
          React.createElement("div", { style: { flex: 1, minWidth: 200 } },
            React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 8, marginBottom: 8 } },
              React.createElement(StepBadge, { num: 1 }),
              React.createElement("span", { style: { fontWeight: 600, color: C.textPrimary } }, "íŠ¸ë¦¬ê±°")
            ),
            React.createElement("select", { value: trigger, onChange: e => setTrigger(e.target.value), style: selectS },
              React.createElement("option", { value: "" }, "-- íŠ¸ë¦¬ê±° ì„ íƒ --"),
              triggers.map(t => React.createElement("option", { key: t, value: t }, t))
            )
          ),
          React.createElement("div", { style: { flex: 1, minWidth: 200 } },
            React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 8, marginBottom: 8 } },
              React.createElement(StepBadge, { num: 2 }),
              React.createElement("span", { style: { fontWeight: 600, color: C.textPrimary } }, "ì¡°ê±´")
            ),
            React.createElement("select", { value: condition, onChange: e => setCondition(e.target.value), style: selectS },
              React.createElement("option", { value: "" }, "-- ì¡°ê±´ ì„ íƒ --"),
              conditions.map(c => React.createElement("option", { key: c, value: c }, c))
            )
          ),
          React.createElement("div", { style: { flex: 1, minWidth: 200 } },
            React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 8, marginBottom: 8 } },
              React.createElement(StepBadge, { num: 3 }),
              React.createElement("span", { style: { fontWeight: 600, color: C.textPrimary } }, "ì•¡ì…˜")
            ),
            React.createElement("select", { value: action, onChange: e => setAction(e.target.value), style: selectS },
              React.createElement("option", { value: "" }, "-- ì•¡ì…˜ ì„ íƒ --"),
              actions.map(a => React.createElement("option", { key: a, value: a }, a))
            )
          )
        ),

        React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 6, marginBottom: 20, flexWrap: "wrap" } },
          React.createElement("div", { style: flowCardS(!!trigger) },
            React.createElement("div", { style: { fontSize: 22, marginBottom: 4 } }, "ğŸ””"),
            React.createElement("div", { style: { fontSize: 11, color: C.textMuted, marginBottom: 2 } }, "íŠ¸ë¦¬ê±°"),
            React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: trigger ? C.accent : C.textMuted } }, trigger || "ë¯¸ì„ íƒ")
          ),
          React.createElement("div", { style: arrowS }, "â†’"),
          React.createElement("div", { style: flowCardS(!!condition) },
            React.createElement("div", { style: { fontSize: 22, marginBottom: 4 } }, "ğŸ”"),
            React.createElement("div", { style: { fontSize: 11, color: C.textMuted, marginBottom: 2 } }, "ì¡°ê±´"),
            React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: condition ? C.accent : C.textMuted } }, condition || "ë¯¸ì„ íƒ")
          ),
          React.createElement("div", { style: arrowS }, "â†’"),
          React.createElement("div", { style: flowCardS(!!action) },
            React.createElement("div", { style: { fontSize: 22, marginBottom: 4 } }, "âš¡"),
            React.createElement("div", { style: { fontSize: 11, color: C.textMuted, marginBottom: 2 } }, "ì•¡ì…˜"),
            React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: action ? C.accent : C.textMuted } }, action || "ë¯¸ì„ íƒ")
          )
        ),

        React.createElement("div", { style: { textAlign: "center" } },
          React.createElement("button", {
            onClick: handleSaveRule,
            disabled: !trigger || !condition || !action,
            style: { padding: "10px 32px", borderRadius: 8, border: "none", background: ruleSaved ? C.green : (!trigger || !condition || !action) ? C.border : C.accent, color: "#fff", fontSize: 15, fontWeight: 600, cursor: (!trigger || !condition || !action) ? "default" : "pointer", transition: "all .3s", transform: ruleSaved ? "scale(1.05)" : "scale(1)" }
          }, ruleSaved ? "âœ” ê·œì¹™ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!" : "ğŸ’¾ ê·œì¹™ ì €ì¥")
        ),

        React.createElement(TipBox, { icon: "ğŸ’¡", color: C.accent },
          "íŠ¸ë¦¬ê±°, ì¡°ê±´, ì•¡ì…˜ì„ ê°ê° ì„ íƒí•œ ë’¤ 'ê·œì¹™ ì €ì¥'ì„ ëˆŒëŸ¬ ìë™í™” ê·œì¹™ì„ ì™„ì„±í•˜ì„¸ìš”."
        )
      ),

      tab === "í”„ë¦¬ì…‹" && React.createElement("div", { style: { display: "flex", flexDirection: "column", gap: 12 } },
        presets.map(p => React.createElement("div", {
          key: p.id,
          onClick: () => setExpandedPreset(expandedPreset === p.id ? null : p.id),
          style: { ...cardS, cursor: "pointer", borderLeft: `4px solid ${p.color}`, transition: "all .3s", boxShadow: expandedPreset === p.id ? `0 2px 12px ${p.color}33` : "none" }
        },
          React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center" } },
            React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 10 } },
              React.createElement("span", { style: { fontSize: 26 } }, p.icon),
              React.createElement("div", null,
                React.createElement("div", { style: { fontWeight: 700, fontSize: 15, color: C.textPrimary } }, p.name),
                React.createElement("div", { style: { fontSize: 12, color: C.textSecondary, marginTop: 2 } }, p.trigger, " â†’ ", p.action)
              )
            ),
            React.createElement("span", { style: { fontSize: 18, color: C.textMuted, transition: "transform .3s", transform: expandedPreset === p.id ? "rotate(180deg)" : "rotate(0deg)" } }, "â–¼")
          ),
          expandedPreset === p.id && React.createElement("div", { style: { marginTop: 14, paddingTop: 14, borderTop: `1px solid ${C.border}` } },
            React.createElement("div", { style: { display: "flex", gap: 8, flexWrap: "wrap", marginBottom: 10 } },
              React.createElement("div", { style: { flex: 1, minWidth: 120, padding: 10, background: C.bg, borderRadius: 6, textAlign: "center" } },
                React.createElement("div", { style: { fontSize: 10, color: C.textMuted, marginBottom: 4 } }, "íŠ¸ë¦¬ê±°"),
                React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: C.textPrimary } }, p.trigger)
              ),
              React.createElement("div", { style: { flex: 1, minWidth: 120, padding: 10, background: C.bg, borderRadius: 6, textAlign: "center" } },
                React.createElement("div", { style: { fontSize: 10, color: C.textMuted, marginBottom: 4 } }, "ì¡°ê±´"),
                React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: C.textPrimary } }, p.condition)
              ),
              React.createElement("div", { style: { flex: 1, minWidth: 120, padding: 10, background: C.bg, borderRadius: 6, textAlign: "center" } },
                React.createElement("div", { style: { fontSize: 10, color: C.textMuted, marginBottom: 4 } }, "ì•¡ì…˜"),
                React.createElement("div", { style: { fontSize: 13, fontWeight: 600, color: C.textPrimary } }, p.action)
              )
            ),
            React.createElement("p", { style: { fontSize: 13, color: C.textSecondary, lineHeight: 1.6, margin: 0 } }, p.desc)
          )
        ))
      ),

      tab === "ì•± ë§ˆì¼“" && React.createElement("div", null,
        React.createElement("div", { style: { display: "flex", gap: 6, marginBottom: 20, flexWrap: "wrap" } },
          appCats.map(c => React.createElement("button", {
            key: c, onClick: () => setAppCat(c),
            style: { padding: "6px 16px", borderRadius: 20, border: `1px solid ${appCat === c ? C.accent : C.border}`, background: appCat === c ? C.accent : C.surface, color: appCat === c ? "#fff" : C.textSecondary, fontSize: 13, fontWeight: 600, cursor: "pointer", transition: "all .2s" }
          }, c))
        ),
        React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(auto-fill,minmax(240px,1fr))", gap: 14 } },
          filteredApps.map(app => React.createElement("div", {
            key: app.name,
            style: { ...cardS, display: "flex", flexDirection: "column", gap: 10, transition: "box-shadow .2s", position: "relative", overflow: "hidden" }
          },
            React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 10 } },
              React.createElement("div", { style: { width: 44, height: 44, borderRadius: 10, background: C.bg, display: "flex", alignItems: "center", justifyContent: "center", fontSize: 24 } }, app.icon),
              React.createElement("div", null,
                React.createElement("div", { style: { fontWeight: 700, fontSize: 15, color: C.textPrimary } }, app.name),
                React.createElement("div", { style: { fontSize: 12, color: C.textSecondary } }, app.desc)
              )
            ),
            React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center" } },
              React.createElement("div", { style: { display: "flex", alignItems: "center", gap: 8 } },
                React.createElement(Tag, { color: C.purple }, app.cat),
                React.createElement("span", { style: { fontSize: 12, color: C.textMuted } }, "â¬‡ ", app.installs)
              ),
              !installing[app.name] && !installed[app.name] && React.createElement("button", {
                onClick: (e) => { e.stopPropagation(); handleInstall(app.name); },
                style: { padding: "5px 14px", borderRadius: 6, border: `1px solid ${C.accent}`, background: "transparent", color: C.accent, fontSize: 13, fontWeight: 600, cursor: "pointer", transition: "all .2s" }
              }, "ì„¤ì¹˜"),
              installed[app.name] && React.createElement("span", { style: { fontSize: 13, fontWeight: 600, color: C.green } }, "âœ” ì„¤ì¹˜ ì™„ë£Œ")
            ),
            installing[app.name] && React.createElement("div", { style: { width: "100%", height: 6, background: C.bg, borderRadius: 3, overflow: "hidden" } },
              React.createElement("div", { style: { width: (installProgress[app.name] || 0) + "%", height: "100%", background: `linear-gradient(90deg, ${C.accent}, ${C.teal})`, borderRadius: 3, transition: "width .2s" } })
            )
          ))
        ),
        React.createElement(TipBox, { icon: "ğŸ”Œ", color: C.purple },
          "Atlassian Marketplaceì—ì„œ ìˆ˜ì²œ ê°œì˜ ì•±ì„ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•± ì„¤ì¹˜ ì „ ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
        )
      )
    )
  );
}

/* ======= SECTION 19: PDF Export ======= */
function PdfExportDemo(){
  const defaultCss="/* PDF ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• */\n@page {\n  margin: 2cm;\n}\nh1 {\n  color: #0052CC;\n  border-bottom: 2px solid #0052CC;\n}\nbody {\n  font-family: 'Malgun Gothic';\n  font-size: 11pt;\n  line-height: 1.6;\n}\n.footer {\n  color: #666;\n  font-size: 9pt;\n}";
  const[css,setCss]=useState(defaultCss);
  const[flipped,setFlipped]=useState(false);
  const[highlight,setHighlight]=useState(0);
  const[opts,setOpts]=useState({cover:true,header:true,toc:false});
  const parts=["í‘œì§€","ë¨¸ë¦¬ê¸€","ë³¸ë¬¸","ë°”ë‹¥ê¸€"];
  const partColors=[C.purple,C.accent,C.teal,C.orange];
  const partTag=["purple","blue","teal","orange"];
  useEffect(()=>{const t=setInterval(()=>setHighlight(h=>(h+1)%4),2000);return()=>clearInterval(t)},[]);
  const titleColor=css.match(/color:\s*(#[0-9a-fA-F]{3,8})/)?.[1]||C.accent;
  return(
    <div id="s19" className="section-reveal">
      <SectionHeader num={19} emoji={"ğŸ“‘"} title={"PDF ë‚´ë³´ë‚´ê¸° â€“ ë¬¸ì„œ ìš°ì£¼ì„  ë°œì‚¬"} subtitle={"ì›¹ í˜ì´ì§€ë¥¼ PDFë¡œ ë³€í™˜í•˜ëŠ” ê³ ê¸‰ ì„¤ì •ì„ ë°°ì›ë‹ˆë‹¤"}/>
      <div style={{display:"flex",gap:20,flexWrap:"wrap",marginBottom:20}}>
        <div style={{flex:"1 1 340px"}}>
          <div style={{fontSize:14,fontWeight:600,color:C.textPrimary,marginBottom:6}}>CSS {"ìŠ¤íƒ€ì¼ í¸ì§‘ê¸°"}</div>
          <textarea value={css} onChange={e=>setCss(e.target.value)} style={{width:"100%",height:220,fontFamily:"'Courier New',monospace",fontSize:12,background:"#1e1e1e",color:"#d4d4d4",border:"none",borderRadius:8,padding:14,resize:"vertical",lineHeight:1.5,boxSizing:"border-box"}}/>
          <div style={{marginTop:12,display:"flex",gap:12,flexWrap:"wrap"}}>
            {[["cover","í‘œì§€ í¬í•¨"],["header","ë¨¸ë¦¬ê¸€/ë°”ë‹¥ê¸€"],["toc","ëª©ì°¨ ìë™ ìƒì„±"]].map(([k,l])=>(
              <label key={k} style={{display:"flex",alignItems:"center",gap:6,fontSize:13,color:C.textPrimary,cursor:"pointer"}}>
                <input type="checkbox" checked={opts[k]} onChange={()=>setOpts(p=>({...p,[k]:!p[k]}))}/>{l}
              </label>
            ))}
          </div>
        </div>
        <div style={{flex:"1 1 340px",display:"flex",flexDirection:"column",alignItems:"center"}}>
          <div style={{perspective:800,marginBottom:16}}>
            <div style={{width:280,height:360,position:"relative",transition:"transform .8s",transformStyle:"preserve-3d",transform:flipped?"rotateY(180deg)":"rotateY(0)"}}>
              <div style={{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:"#fff",borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,.15)",padding:20,boxSizing:"border-box",display:"flex",flexDirection:"column"}}>
                <div style={{fontSize:10,color:C.textMuted,marginBottom:4}}>WEB VIEW</div>
                {opts.cover&&<div style={{textAlign:"center",padding:"14px 0",border:highlight===0?`3px solid ${partColors[0]}`:"3px solid transparent",borderRadius:4,marginBottom:8,transition:"border .3s"}}>
                  <div style={{fontSize:18,fontWeight:700,color:titleColor}}>{"í”„ë¡œì íŠ¸ ë³´ê³ ì„œ"}</div>
                  <div style={{fontSize:11,color:C.textMuted}}>2024{"ë…„"} 1{"ë¶„ê¸°"}</div>
                </div>}
                {opts.header&&<div style={{fontSize:9,color:"#666",borderBottom:`1px solid ${C.border}`,paddingBottom:4,marginBottom:8,border:highlight===1?`2px solid ${partColors[1]}`:"2px solid transparent",borderRadius:2,transition:"border .3s"}}>{"ë¨¸ë¦¬ê¸€"} | {"í”„ë¡œì íŠ¸ ë³´ê³ ì„œ"}</div>}
                <div style={{flex:1,fontSize:11,color:C.textPrimary,lineHeight:1.6,border:highlight===2?`3px solid ${partColors[2]}`:"3px solid transparent",borderRadius:4,padding:4,transition:"border .3s"}}>
                  <div style={{fontWeight:700,color:titleColor,marginBottom:4}}>1. {"ê°œìš”"}</div>
                  <div>{"ë³¸ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ì§„í–‰ ìƒí™©ì„ ìš”ì•½í•©ë‹ˆë‹¤..."}</div>
                  <div style={{fontWeight:700,color:titleColor,marginTop:8,marginBottom:4}}>2. {"ì£¼ìš” ì„±ê³¼"}</div>
                  <div>{"â€¢ ë§¤ì¶œ 30% ì¦ê°€ ë‹¬ì„±"}</div>
                </div>
                {opts.header&&<div style={{fontSize:9,color:"#666",borderTop:`1px solid ${C.border}`,paddingTop:4,marginTop:8,textAlign:"center",border:highlight===3?`2px solid ${partColors[3]}`:"2px solid transparent",borderRadius:2,transition:"border .3s"}}>{"í˜ì´ì§€"} 1 / 5</div>}
              </div>
              <div style={{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",transform:"rotateY(180deg)",background:"linear-gradient(135deg,#f5f5f5,#fff)",borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,.15)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}>
                <div style={{fontSize:40,marginBottom:12}}>{"ğŸ“„"}</div>
                <div style={{fontSize:16,fontWeight:700,color:C.accent}}>PDF {"ë³€í™˜ ì™„ë£Œ!"}</div>
                <div style={{fontSize:12,color:C.textSecondary,marginTop:4}}>report_2024_Q1.pdf</div>
              </div>
            </div>
          </div>
          <div style={{display:"flex",gap:8,alignItems:"center",marginBottom:8}}>
            {parts.map((p,i)=><Tag key={i} color={highlight===i?partTag[i]:"blue"}>{p}</Tag>)}
          </div>
          <button onClick={()=>setFlipped(f=>!f)} style={{background:C.accent,color:"#fff",border:"none",borderRadius:6,padding:"10px 28px",fontSize:14,fontWeight:600,cursor:"pointer"}}>{"ğŸš€"} {flipped?"ë‹¤ì‹œ ë³´ê¸°":"ë³€í™˜"}</button>
        </div>
      </div>
      <TipBox icon={"ğŸ“¦"} color={C.green}>{"ìŠ¤í˜ì´ìŠ¤ ì „ì²´ë¥¼ PDFë¡œ ë‚´ë³´ë‚´ë©´ ì˜¤í”„ë¼ì¸ ë§¤ë‰´ì–¼ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}</TipBox>
    </div>
  );
}


/* ======= SECTION 20: Shortcuts ======= */
function ShortcutsAppendix() {
  const cols=[
    {level:"ì´ˆê¸‰",color:C.teal,keys:[["E","í¸ì§‘ ëª¨ë“œ"],["Ctrl+S","ì €ì¥"],["/","ë¹ ë¥¸ ì‚½ì…"],["Ctrl+K","ë§í¬"],["Ctrl+Shift+S","ê²Œì‹œ"]]},
    {level:"ì¤‘ê¸‰",color:C.accent,keys:[["[ ]","ì²´í¬ë¦¬ìŠ¤íŠ¸"],["Shift+Enter","ì¤„ ë°”ê¿ˆ"],["Ctrl+Shift+7","ë²ˆí˜¸ ëª©ë¡"],["//","ë‚ ì§œ"],["Ctrl+Z","ì‹¤í–‰ ì·¨ì†Œ"]]},
    {level:"ê³ ê¸‰",color:C.purple,keys:[["Ctrl+Shift+E","ë§¤í¬ë¡œ ë¸Œë¼ìš°ì €"],["Ctrl+Shift+I","í‘œ ì‚½ì…"],["Ctrl+Alt+T","Action Item"],["Ctrl+F","ì°¾ê¸°"],["Ctrl+Shift+D","í˜ì´ì§€ ì •ë³´"]]}
  ];

  // â”€â”€ ì¸í„°ë™í‹°ë¸Œ í‚¤ë³´ë“œ í…ŒìŠ¤í„° â”€â”€
  const virtualKeys = ["Ctrl","Shift","Alt","E","S","K","/","F"];
  const [pressedKeys, setPressedKeys] = useState(new Set());
  const [matchFlash, setMatchFlash] = useState(false);

  const shortcutMap = {
    "Ctrl+S": "ì €ì¥ â€“ í¸ì§‘ ì¤‘ì¸ í˜ì´ì§€ë¥¼ ì €ì¥í•©ë‹ˆë‹¤",
    "Ctrl+K": "ë§í¬ ì‚½ì… â€“ í…ìŠ¤íŠ¸ì— í•˜ì´í¼ë§í¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤",
    "Ctrl+E": "í¸ì§‘ ëª¨ë“œ ì „í™˜ â€“ í˜ì´ì§€ í¸ì§‘ ëª¨ë“œë¡œ ì§„ì…í•©ë‹ˆë‹¤",
    "Ctrl+F": "ì°¾ê¸° â€“ í˜ì´ì§€ ë‚´ í…ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤",
    "Ctrl+Shift+S": "ê²Œì‹œ â€“ í¸ì§‘í•œ í˜ì´ì§€ë¥¼ ê²Œì‹œí•©ë‹ˆë‹¤",
    "Ctrl+Shift+E": "ë§¤í¬ë¡œ ë¸Œë¼ìš°ì € â€“ ë§¤í¬ë¡œ ì‚½ì… ëŒ€í™”ìƒìë¥¼ ì—½ë‹ˆë‹¤",
    "E": "í¸ì§‘ ëª¨ë“œ ì§„ì… â€“ ë³´ê¸° ëª¨ë“œì—ì„œ í¸ì§‘ ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤",
    "/": "ë¹ ë¥¸ ì‚½ì… â€“ ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œë¡œ ì½˜í…ì¸ ë¥¼ ë¹ ë¥´ê²Œ ì‚½ì…í•©ë‹ˆë‹¤",
    "S": "ìŠ¤í˜ì´ìŠ¤ ì‚¬ì´ë“œë°” ì—´ê¸° (ì¼ë¶€ í™˜ê²½)",
    "F": "ì¦ê²¨ì°¾ê¸° í† ê¸€ (ì¼ë¶€ í™˜ê²½)"
  };

  const toggleKey = useCallback((key) => {
    setPressedKeys(prev => {
      const next = new Set(prev);
      if (next.has(key)) next.delete(key);
      else next.add(key);
      return next;
    });
  }, []);

  const currentCombo = useMemo(() => {
    if (pressedKeys.size === 0) return "";
    const order = ["Ctrl","Shift","Alt","E","S","K","/","F"];
    const sorted = order.filter(k => pressedKeys.has(k));
    return sorted.join("+");
  }, [pressedKeys]);

  const matchedFunction = useMemo(() => {
    return shortcutMap[currentCombo] || null;
  }, [currentCombo]);

  useEffect(() => {
    if (matchedFunction) {
      setMatchFlash(true);
      const t = setTimeout(() => setMatchFlash(false), 600);
      return () => clearTimeout(t);
    }
  }, [matchedFunction]);

  const resetKeys = useCallback(() => setPressedKeys(new Set()), []);

  // â”€â”€ ë‹¨ì¶•í‚¤ í€´ì¦ˆ â”€â”€
  const quizData = [
    { question: "í¸ì§‘ ëª¨ë“œ ì§„ì…", choices: ["E","Ctrl+E","F2","Enter"], correct: "E" },
    { question: "ë§í¬ ì‚½ì…", choices: ["Ctrl+L","Ctrl+K","Ctrl+I","Ctrl+U"], correct: "Ctrl+K" },
    { question: "ë¹ ë¥¸ ì‚½ì… (ìŠ¬ë˜ì‹œ)", choices: ["/","\\","Ctrl+/","Ctrl+M"], correct: "/" }
  ];
  const [currentQ, setCurrentQ] = useState(0);
  const [answers, setAnswers] = useState([]);
  const [showResult, setShowResult] = useState(false);

  const handleAnswer = useCallback((choice) => {
    if (answers.length > currentQ) return;
    const isCorrect = choice === quizData[currentQ].correct;
    const newAnswers = [...answers, { choice, isCorrect }];
    setAnswers(newAnswers);

    if (newAnswers.length === quizData.length) {
      setTimeout(() => setShowResult(true), 800);
    } else {
      setTimeout(() => setCurrentQ(prev => prev + 1), 1000);
    }
  }, [currentQ, answers]);

  const resetQuiz = useCallback(() => {
    setCurrentQ(0);
    setAnswers([]);
    setShowResult(false);
  }, []);

  const score = useMemo(() => answers.filter(a => a.isCorrect).length, [answers]);

  return (
    <div id="s20" className="section-reveal">
      <SectionHeader num={20} emoji={"âŒ¨ï¸"} title={"ë¶€ë¡ A â€“ í•„ìˆ˜ ë‹¨ì¶•í‚¤ ëª¨ìŒ"} />

      {/* â”€â”€ ê¸°ì¡´ 3-Column Grid â”€â”€ */}
      <div style={{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(260px,1fr))",gap:20}}>
        {cols.map(c=>(
          <div key={c.level} style={{background:C.surface,borderRadius:10,border:`1px solid ${C.border}`,borderTop:`4px solid ${c.color}`,overflow:"hidden"}}>
            <div style={{padding:"14px 18px",fontWeight:700,fontSize:16,color:c.color,borderBottom:`1px solid ${C.border}`}}>{c.level}</div>
            <div style={{padding:"10px 18px"}}>
              {c.keys.map(([k,d],i)=>(
                <div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"7px 0",borderBottom:i<c.keys.length-1?`1px solid ${C.border}`:"none"}}>
                  <span>{k.split("+").map((p,j)=><React.Fragment key={j}>{j>0&&<span style={{color:C.textMuted,margin:"0 2px"}}>+</span>}<span className="kbd-key">{p}</span></React.Fragment>)}</span>
                  <span style={{fontSize:13,color:C.textSecondary}}>{d}</span>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>

      {/* â”€â”€ ì¸í„°ë™í‹°ë¸Œ í‚¤ë³´ë“œ í…ŒìŠ¤í„° â”€â”€ */}
      <div style={{marginTop:36,background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:24}}>
        <h3 style={{margin:"0 0 6px",fontSize:18,color:C.textPrimary,display:"flex",alignItems:"center",gap:8}}>
          <span style={{fontSize:22}}>ğŸ¹</span> ì¸í„°ë™í‹°ë¸Œ í‚¤ë³´ë“œ í…ŒìŠ¤í„°
        </h3>
        <p style={{margin:"0 0 20px",fontSize:13,color:C.textSecondary}}>
          ì•„ë˜ í‚¤ë¥¼ í´ë¦­í•˜ì—¬ ë‹¨ì¶•í‚¤ ì¡°í•©ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”. ìœ íš¨í•œ ì¡°í•©ì´ë©´ ê¸°ëŠ¥ ì„¤ëª…ì´ í‘œì‹œë©ë‹ˆë‹¤.
        </p>

        {/* Virtual Keyboard */}
        <div style={{display:"flex",flexWrap:"wrap",gap:8,justifyContent:"center",marginBottom:16}}>
          {/* Row 1: Modifier keys */}
          {["Ctrl","Shift","Alt"].map(key => (
            <button
              key={key}
              onClick={() => toggleKey(key)}
              style={{
                display:"inline-flex",alignItems:"center",justifyContent:"center",
                minWidth:64,height:44,
                background: pressedKeys.has(key) ? C.accent : "#fff",
                color: pressedKeys.has(key) ? "#fff" : C.accent,
                border: pressedKeys.has(key) ? `2px solid ${C.accent}` : "1px solid #c1c7d0",
                borderBottom: pressedKeys.has(key) ? `2px solid #003d99` : "3px solid #c1c7d0",
                borderRadius:8,
                fontFamily:'Consolas,"Courier New",monospace',
                fontSize:13,fontWeight:700,
                cursor:"pointer",
                transition:"all 0.15s ease",
                transform: pressedKeys.has(key) ? "translateY(1px)" : "none",
                boxShadow: pressedKeys.has(key) ? "0 1px 2px rgba(0,0,0,0.2)" : "0 2px 4px rgba(0,0,0,0.08)"
              }}
            >
              {key}
            </button>
          ))}
        </div>
        <div style={{display:"flex",flexWrap:"wrap",gap:8,justifyContent:"center",marginBottom:20}}>
          {/* Row 2: Character keys */}
          {["E","S","K","/","F"].map(key => (
            <button
              key={key}
              onClick={() => toggleKey(key)}
              style={{
                display:"inline-flex",alignItems:"center",justifyContent:"center",
                width:44,height:44,
                background: pressedKeys.has(key) ? C.accent : "#fff",
                color: pressedKeys.has(key) ? "#fff" : C.accent,
                border: pressedKeys.has(key) ? `2px solid ${C.accent}` : "1px solid #c1c7d0",
                borderBottom: pressedKeys.has(key) ? `2px solid #003d99` : "3px solid #c1c7d0",
                borderRadius:8,
                fontFamily:'Consolas,"Courier New",monospace',
                fontSize:15,fontWeight:700,
                cursor:"pointer",
                transition:"all 0.15s ease",
                transform: pressedKeys.has(key) ? "translateY(1px)" : "none",
                boxShadow: pressedKeys.has(key) ? "0 1px 2px rgba(0,0,0,0.2)" : "0 2px 4px rgba(0,0,0,0.08)"
              }}
            >
              {key}
            </button>
          ))}
        </div>

        {/* í˜„ì¬ ì¡°í•© Display */}
        <div style={{
          display:"flex",alignItems:"center",justifyContent:"center",gap:12,
          padding:"12px 20px",
          background:"#f4f5f7",borderRadius:8,
          minHeight:44,marginBottom:12
        }}>
          <span style={{fontSize:13,color:C.textSecondary,fontWeight:600}}>í˜„ì¬ ì¡°í•©:</span>
          <span style={{fontFamily:'Consolas,"Courier New",monospace',fontSize:16,fontWeight:700,color:C.accent,minWidth:100,textAlign:"center"}}>
            {currentCombo || "â€”"}
          </span>
          <button
            onClick={resetKeys}
            style={{
              marginLeft:8,padding:"5px 14px",
              background:C.red,color:"#fff",
              border:"none",borderRadius:6,
              fontSize:12,fontWeight:600,cursor:"pointer"
            }}
          >
            ë¦¬ì…‹
          </button>
        </div>

        {/* Match Result */}
        <div style={{
          minHeight:48,
          padding: matchedFunction ? "12px 18px" : "12px 18px",
          borderRadius:8,
          background: matchedFunction ? (matchFlash ? "#e3fcef" : "#f0fff4") : "transparent",
          border: matchedFunction ? `1px solid ${C.green}` : "1px solid transparent",
          transition:"all 0.3s ease",
          textAlign:"center"
        }}>
          {matchedFunction ? (
            <div style={{display:"flex",alignItems:"center",justifyContent:"center",gap:8}}>
              <span style={{fontSize:18}}>âœ…</span>
              <span style={{fontSize:14,fontWeight:600,color:C.green}}>{matchedFunction}</span>
            </div>
          ) : currentCombo ? (
            <span style={{fontSize:13,color:C.textMuted}}>ì´ ì¡°í•©ì— í•´ë‹¹í•˜ëŠ” ë‹¨ì¶•í‚¤ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì¡°í•©ì„ ì‹œë„í•´ ë³´ì„¸ìš”.</span>
          ) : (
            <span style={{fontSize:13,color:C.textMuted}}>í‚¤ë¥¼ í´ë¦­í•˜ì—¬ ë‹¨ì¶•í‚¤ ì¡°í•©ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”</span>
          )}
        </div>
      </div>

      {/* â”€â”€ ë„ì „! ë‹¨ì¶•í‚¤ í€´ì¦ˆ â”€â”€ */}
      <div style={{marginTop:32,background:C.surface,borderRadius:12,border:`1px solid ${C.border}`,padding:24}}>
        <h3 style={{margin:"0 0 6px",fontSize:18,color:C.textPrimary,display:"flex",alignItems:"center",gap:8}}>
          <span style={{fontSize:22}}>ğŸ†</span> ë„ì „! ë‹¨ì¶•í‚¤ í€´ì¦ˆ
        </h3>
        <p style={{margin:"0 0 20px",fontSize:13,color:C.textSecondary}}>
          ê¸°ëŠ¥ ì„¤ëª…ì„ ë³´ê³  ì˜¬ë°”ë¥¸ ë‹¨ì¶•í‚¤ë¥¼ ì„ íƒí•˜ì„¸ìš”!
        </p>

        {!showResult ? (
          <div>
            {/* Progress */}
            <div style={{display:"flex",gap:6,marginBottom:20}}>
              {quizData.map((_, i) => (
                <div key={i} style={{
                  flex:1,height:6,borderRadius:3,
                  background: i < answers.length ? (answers[i].isCorrect ? C.green : C.red) : (i === currentQ ? C.accentDim : C.border),
                  transition:"background 0.3s"
                }} />
              ))}
            </div>

            {/* Question */}
            <div style={{textAlign:"center",marginBottom:20}}>
              <div style={{fontSize:12,color:C.textMuted,marginBottom:6}}>
                ë¬¸ì œ {currentQ + 1} / {quizData.length}
              </div>
              <div style={{
                display:"inline-block",
                padding:"14px 28px",
                background:"linear-gradient(135deg,#f0f4f8,#e8ecf0)",
                borderRadius:10,
                fontSize:17,fontWeight:700,color:C.textPrimary
              }}>
                "{quizData[currentQ].question}" ì˜ ë‹¨ì¶•í‚¤ëŠ”?
              </div>
            </div>

            {/* Choices */}
            <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,maxWidth:440,margin:"0 auto"}}>
              {quizData[currentQ].choices.map((choice, i) => {
                const answered = answers.length > currentQ;
                const isThis = answered && answers[currentQ].choice === choice;
                const isCorrectAnswer = choice === quizData[currentQ].correct;
                let bg = C.surface;
                let borderColor = C.border;
                let textColor = C.textPrimary;
                if (answered) {
                  if (isCorrectAnswer) { bg = "#e3fcef"; borderColor = C.green; textColor = C.green; }
                  else if (isThis && !answers[currentQ].isCorrect) { bg = "#ffebe6"; borderColor = C.red; textColor = C.red; }
                }
                return (
                  <button
                    key={i}
                    onClick={() => handleAnswer(choice)}
                    disabled={answered}
                    style={{
                      padding:"12px 16px",
                      background:bg,
                      border:`2px solid ${borderColor}`,
                      borderRadius:8,
                      fontSize:15,fontWeight:600,
                      fontFamily:'Consolas,"Courier New",monospace',
                      color:textColor,
                      cursor: answered ? "default" : "pointer",
                      transition:"all 0.2s ease",
                      opacity: answered && !isThis && !isCorrectAnswer ? 0.5 : 1
                    }}
                  >
                    {choice.split("+").map((p, j) => (
                      <React.Fragment key={j}>
                        {j > 0 && <span style={{color:C.textMuted,margin:"0 2px"}}>+</span>}
                        <span className="kbd-key" style={isThis || (answered && isCorrectAnswer) ? {color:textColor,borderColor:textColor} : {}}>{p}</span>
                      </React.Fragment>
                    ))}
                    {answered && isCorrectAnswer && <span style={{marginLeft:6}}>âœ“</span>}
                    {answered && isThis && !answers[currentQ].isCorrect && <span style={{marginLeft:6}}>âœ—</span>}
                  </button>
                );
              })}
            </div>

            {/* Feedback */}
            {answers.length > currentQ && (
              <div style={{
                textAlign:"center",marginTop:14,
                fontSize:14,fontWeight:600,
                color: answers[currentQ].isCorrect ? C.green : C.red
              }}>
                {answers[currentQ].isCorrect ? "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰" : `ì˜¤ë‹µ! ì •ë‹µì€ ${quizData[currentQ].correct} ì…ë‹ˆë‹¤.`}
              </div>
            )}
          </div>
        ) : (
          /* Results */
          <div style={{textAlign:"center"}}>
            <div style={{
              fontSize:48,marginBottom:12,
              filter: score === quizData.length ? "none" : "grayscale(0.3)"
            }}>
              {score === quizData.length ? "ğŸ†" : score >= 2 ? "ğŸ‘" : "ğŸ’ª"}
            </div>
            <div style={{fontSize:22,fontWeight:700,color:C.textPrimary,marginBottom:6}}>
              {quizData.length}ë¬¸ì œ ì¤‘ {score}ê°œ ì •ë‹µ!
            </div>
            <div style={{fontSize:14,color:C.textSecondary,marginBottom:20}}>
              {score === quizData.length ? "ì™„ë²½í•©ë‹ˆë‹¤! ë‹¨ì¶•í‚¤ ë§ˆìŠ¤í„°!" : score >= 2 ? "ì˜ í•˜ì…¨ì–´ìš”! ì¡°ê¸ˆë§Œ ë” ì—°ìŠµí•˜ë©´ ì™„ë²½í•´ìš”." : "ë‹¨ì¶•í‚¤ë¥¼ ì¢€ ë” ì—°ìŠµí•´ ë³´ì„¸ìš”!"}
            </div>
            <div style={{display:"flex",flexDirection:"column",gap:8,maxWidth:360,margin:"0 auto 20px"}}>
              {quizData.map((qd, i) => (
                <div key={i} style={{
                  display:"flex",alignItems:"center",gap:10,
                  padding:"8px 14px",borderRadius:8,
                  background: answers[i].isCorrect ? "#e3fcef" : "#ffebe6",
                  border:`1px solid ${answers[i].isCorrect ? C.green : C.red}`
                }}>
                  <span style={{fontSize:16}}>{answers[i].isCorrect ? "âœ…" : "âŒ"}</span>
                  <span style={{flex:1,fontSize:13,color:C.textPrimary}}>{qd.question}</span>
                  <span className="kbd-key" style={{fontSize:12}}>{qd.correct}</span>
                </div>
              ))}
            </div>
            <button
              onClick={resetQuiz}
              style={{
                padding:"10px 24px",
                background:C.accent,color:"#fff",
                border:"none",borderRadius:8,
                fontSize:14,fontWeight:600,cursor:"pointer"
              }}
            >
              ë‹¤ì‹œ ë„ì „í•˜ê¸°
            </button>
          </div>
        )}
      </div>
    </div>
  );
}

/* ======= SECTION 21: Glossary ======= */
function GlossaryAppendix() {
  const [q, setQ] = useState("");
  const [activeConsonant, setActiveConsonant] = useState("ALL");
  const [expandedTerm, setExpandedTerm] = useState(null);

  const terms = [
    ["ìŠ¤í˜ì´ìŠ¤","Space","í”„ë¡œì íŠ¸Â·íŒ€ ë‹¨ìœ„ì˜ ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ"],
    ["í˜ì´ì§€","Page","ì½˜í…ì¸ ì˜ ê¸°ë³¸ ë‹¨ìœ„, íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì •ë¦¬"],
    ["ë¸”ë¡œê·¸","Blog Post","ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬ë˜ëŠ” ê²Œì‹œë¬¼"],
    ["ë¼ë²¨","Label","í˜ì´ì§€ë¥¼ ë¶„ë¥˜í•˜ëŠ” íƒœê·¸"],
    ["ë§¤í¬ë¡œ","Macro","ë™ì  ì½˜í…ì¸ ë¥¼ ì‚½ì…í•˜ëŠ” ê¸°ëŠ¥ ë¸”ë¡"],
    ["í…œí”Œë¦¿","Template","í˜ì´ì§€ ìƒì„± ì‹œ ì‚¬ìš©í•˜ëŠ” í‹€"],
    ["ë¸”ë£¨í”„ë¦°íŠ¸","Blueprint","êµ¬ì¡°í™”ëœ í˜ì´ì§€ í…œí”Œë¦¿ ì„¸íŠ¸"],
    ["ìŠ¤ë§ˆíŠ¸ ë§í¬","Smart Link","ì™¸ë¶€ URLì˜ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì œê³µí•˜ëŠ” ë§í¬"],
    ["ì¸ë¼ì¸ ëŒ“ê¸€","Inline Comment","ë³¸ë¬¸ íŠ¹ì • ë¶€ë¶„ì— ë‹¤ëŠ” ëŒ“ê¸€"],
    ["í˜ì´ì§€ íŠ¸ë¦¬","Page Tree","í•˜ìœ„ í˜ì´ì§€ë¥¼ ê³„ì¸µìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ë§¤í¬ë¡œ"],
    ["í˜ì´ì§€ ì†ì„±","Page Properties","í‚¤-ê°’ ë©”íƒ€ë°ì´í„°ë¥¼ í‘œë¡œ ê´€ë¦¬"],
    ["ì œí•œ","Restriction","í˜ì´ì§€/ìŠ¤í˜ì´ìŠ¤ì˜ ì ‘ê·¼ ê¶Œí•œ ì„¤ì •"],
    ["ì›Œì¹˜","Watch","ë³€ê²½ ì•Œë¦¼ì„ ë°›ê¸° ìœ„í•œ êµ¬ë…"],
    ["ì¢‹ì•„ìš”","Like","í˜ì´ì§€ì— ëŒ€í•œ ê¸ì • ë°˜ì‘ í‘œì‹œ"],
    ["ì²¨ë¶€íŒŒì¼","Attachment","í˜ì´ì§€ì— ì—…ë¡œë“œëœ íŒŒì¼"],
    ["ìŠ¤í˜ì´ìŠ¤ í‚¤","Space Key","ìŠ¤í˜ì´ìŠ¤ì˜ ê³ ìœ  ì‹ë³„ ì½”ë“œ (URLì— í‘œì‹œ)"],
    ["ë‹¨ì¶• URL","Tiny Link","í˜ì´ì§€ ê³µìœ ìš© ì§§ì€ URL"],
    ["ì´ˆì•ˆ","Draft","ê²Œì‹œ ì „ ìë™ ì €ì¥ë˜ëŠ” ì‘ì—… ì¤‘ ë¬¸ì„œ"],
    ["ì•„ì¹´ì´ë¸Œ","Archive","ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í˜ì´ì§€ë¥¼ ë³´ê´€í•˜ëŠ” ê¸°ëŠ¥"],
    ["ì•±","App/Add-on","Marketplaceì—ì„œ ì„¤ì¹˜í•˜ëŠ” í™•ì¥ ê¸°ëŠ¥"]
  ];

  // â”€â”€ ìƒì„¸ ì„¤ëª… ë°ì´í„° â”€â”€
  const detailData = {
    "ìŠ¤í˜ì´ìŠ¤": {
      detail: "ìŠ¤í˜ì´ìŠ¤ëŠ” Confluenceì—ì„œ ì½˜í…ì¸ ë¥¼ ì¡°ì§í•˜ëŠ” ê°€ì¥ í° ë‹¨ìœ„ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ë³„, íŒ€ë³„, ë¶€ì„œë³„ë¡œ ìŠ¤í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ê´€ë ¨ í˜ì´ì§€ë“¤ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ìŠ¤í˜ì´ìŠ¤ëŠ” ê³ ìœ í•œ Space Keyë¥¼ ê°€ì§€ë©°, ë³„ë„ì˜ ê¶Œí•œ ì„¤ì •ê³¼ ì‚¬ì´ë“œë°” êµ¬ì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
      relatedSection: { num: 2, title: "ìŠ¤í˜ì´ìŠ¤ ìƒì„± & êµ¬ì¡° ì„¤ê³„" },
      example: "ì˜ˆ: DEV íŒ€ ìŠ¤í˜ì´ìŠ¤ â†’ Space Key: \"DEV\"\n    URL: https://yoursite.atlassian.net/wiki/spaces/DEV"
    },
    "í˜ì´ì§€": {
      detail: "í˜ì´ì§€ëŠ” Confluenceì˜ í•µì‹¬ ì½˜í…ì¸  ë‹¨ìœ„ì…ë‹ˆë‹¤. ê° í˜ì´ì§€ëŠ” ë¶€ëª¨-ìì‹ ê´€ê³„ì˜ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ë©°, ì œëª©/ë³¸ë¬¸/ì²¨ë¶€íŒŒì¼/ëŒ“ê¸€ì„ í¬í•¨í•©ë‹ˆë‹¤. ë²„ì „ ê´€ë¦¬ê°€ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ë³€ê²½ ì´ë ¥ì„ ì¶”ì í•˜ê³  ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      relatedSection: { num: 3, title: "í˜ì´ì§€ ë§Œë“¤ê¸° & í¸ì§‘ ê¸°ì´ˆ" },
      example: "ì˜ˆ: í”„ë¡œì íŠ¸ ê°œìš” í˜ì´ì§€\n    â”œâ”€â”€ ìš”êµ¬ì‚¬í•­ ì •ì˜\n    â”œâ”€â”€ ì„¤ê³„ ë¬¸ì„œ\n    â””â”€â”€ íšŒì˜ë¡"
    },
    "ë¸”ë¡œê·¸": {
      detail: "ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ëŠ” ë‚ ì§œ ê¸°ë°˜ìœ¼ë¡œ ì •ë ¬ë˜ëŠ” ì½˜í…ì¸  í˜•ì‹ì…ë‹ˆë‹¤. í˜ì´ì§€ì™€ ë‹¬ë¦¬ íŠ¸ë¦¬ êµ¬ì¡°ê°€ ì•„ë‹Œ ì‹œê°„ìˆœìœ¼ë¡œ ë‚˜ì—´ë˜ì–´ ê³µì§€ì‚¬í•­, ì£¼ê°„ ë³´ê³ , ê¸°ìˆ  ë¸”ë¡œê·¸ ë“±ì— ì í•©í•©ë‹ˆë‹¤. ìŠ¤í˜ì´ìŠ¤ ë‚´ì—ì„œ 'ë¸”ë¡œê·¸' ì„¹ì…˜ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      relatedSection: { num: 3, title: "í˜ì´ì§€ ë§Œë“¤ê¸° & í¸ì§‘ ê¸°ì´ˆ" },
      example: "ì˜ˆ: [2024-01-15] 1ì›” ìŠ¤í”„ë¦°íŠ¸ íšŒê³ \n    [2024-01-08] ì‹ ê·œ ì½”ë”© ì»¨ë²¤ì…˜ ì•ˆë‚´\n    [2024-01-02] ìƒˆí•´ íŒ€ ëª©í‘œ ê³µìœ "
    },
    "ë¼ë²¨": {
      detail: "ë¼ë²¨ì€ í˜ì´ì§€ì— ë¶™ì´ëŠ” íƒœê·¸ë¡œ, ì½˜í…ì¸ ë¥¼ ì£¼ì œë³„Â·ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë¶„ë¥˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. í•˜ë‚˜ì˜ í˜ì´ì§€ì— ì—¬ëŸ¬ ë¼ë²¨ì„ ë¶™ì¼ ìˆ˜ ìˆìœ¼ë©°, ë¼ë²¨ ê¸°ë°˜ìœ¼ë¡œ ì½˜í…ì¸ ë¥¼ ê²€ìƒ‰í•˜ê±°ë‚˜ ì½˜í…ì¸  ë¦¬í¬íŠ¸ ë§¤í¬ë¡œì—ì„œ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      relatedSection: { num: 8, title: "ë¼ë²¨(íƒœê·¸) í™œìš© & ì½˜í…ì¸  ë¶„ë¥˜" },
      example: "ì˜ˆ: í˜ì´ì§€ì— ë¼ë²¨ ì¶”ê°€\n    ë¼ë²¨: meeting-notes, q1-2024, backend-team\n    â†’ CQL ê²€ìƒ‰: label = \"meeting-notes\""
    },
    "ë§¤í¬ë¡œ": {
      detail: "ë§¤í¬ë¡œëŠ” í˜ì´ì§€ì— ë™ì  ì½˜í…ì¸ ë‚˜ íŠ¹ìˆ˜ ê¸°ëŠ¥ì„ ì‚½ì…í•˜ëŠ” ë¸”ë¡ì…ë‹ˆë‹¤. ìŠ¬ë˜ì‹œ(/) ëª…ë ¹ì–´ë¡œ ë¹ ë¥´ê²Œ ì‚½ì…í•  ìˆ˜ ìˆìœ¼ë©°, ëª©ì°¨(TOC), ì½”ë“œ ë¸”ë¡, Jira ì´ìŠˆ, ìƒíƒœ í‘œì‹œ ë“± ë‹¤ì–‘í•œ ë§¤í¬ë¡œê°€ ì œê³µë©ë‹ˆë‹¤. Marketplace ì•±ì„ í†µí•´ ì¶”ê°€ ë§¤í¬ë¡œë¥¼ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.",
      relatedSection: { num: 7, title: "ë§¤í¬ë¡œ í™œìš© ë§ˆìŠ¤í„°" },
      example: "ì˜ˆ: /ëª©ì°¨ â†’ Table of Contents ë§¤í¬ë¡œ ì‚½ì…\n    /ì½”ë“œ â†’ Code Block ë§¤í¬ë¡œ ì‚½ì…\n    /jira â†’ Jira Issues ë§¤í¬ë¡œ ì‚½ì…"
    },
    "í…œí”Œë¦¿": {
      detail: "í…œí”Œë¦¿ì€ í˜ì´ì§€ë¥¼ ìƒì„±í•  ë•Œ ë¯¸ë¦¬ ì •ì˜ëœ êµ¬ì¡°ì™€ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” í‹€ì…ë‹ˆë‹¤. ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ì»¤ìŠ¤í…€ í…œí”Œë¦¿ì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, íšŒì˜ë¡Â·ì˜ì‚¬ê²°ì • ê¸°ë¡Â·ê¸°ìˆ  ë¬¸ì„œ ë“± ë°˜ë³µì ì¸ ë¬¸ì„œ ìœ í˜•ì— ëŒ€í•´ ì¼ê´€ëœ í˜•ì‹ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      relatedSection: { num: 6, title: "í…œí”Œë¦¿ & ë¸”ë£¨í”„ë¦°íŠ¸" },
      example: "ì˜ˆ: íšŒì˜ë¡ í…œí”Œë¦¿\n    ## ì°¸ì„ì: @mention\n    ## ì•ˆê±´: \n    ## ê²°ì • ì‚¬í•­: \n    ## Action Items: /action"
    },
    "ìŠ¤ë§ˆíŠ¸ ë§í¬": {
      detail: "ìŠ¤ë§ˆíŠ¸ ë§í¬ëŠ” ì™¸ë¶€ URLì„ ë¶™ì—¬ë„£ì„ ë•Œ ìë™ìœ¼ë¡œ ë¦¬ì¹˜ í”„ë¦¬ë·°ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. Jira ì´ìŠˆ, Google Docs, Figma, YouTube ë“± ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ì˜ ë§í¬ë¥¼ ì¸ë¼ì¸Â·ì¹´ë“œÂ·ì„ë² ë“œ í˜•íƒœë¡œ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§í¬ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë¯¸ë¦¬ë³´ê¸°ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.",
      relatedSection: { num: 9, title: "ì™¸ë¶€ ë§í¬ & ìŠ¤ë§ˆíŠ¸ ë§í¬" },
      example: "ì˜ˆ: Jira ì´ìŠˆ ë§í¬ ë¶™ì—¬ë„£ê¸°\n    â†’ [PROJ-123] ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •  In Progress\n    í‘œì‹œ í˜•íƒœ: ì¸ë¼ì¸ | ì¹´ë“œ | ì„ë² ë“œ"
    },
    "í˜ì´ì§€ ì†ì„±": {
      detail: "í˜ì´ì§€ ì†ì„±(Page Properties) ë§¤í¬ë¡œëŠ” í˜ì´ì§€ì— êµ¬ì¡°í™”ëœ í‚¤-ê°’ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. í˜ì´ì§€ ì†ì„± ë¦¬í¬íŠ¸ ë§¤í¬ë¡œì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ í˜ì´ì§€ì˜ ì†ì„±ì„ í•˜ë‚˜ì˜ ëŒ€ì‹œë³´ë“œ í‘œë¡œ ì§‘ê³„í•  ìˆ˜ ìˆì–´, í”„ë¡œì íŠ¸ ìƒíƒœ ì¶”ì ì´ë‚˜ ë¬¸ì„œ ê´€ë¦¬ì— ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.",
      relatedSection: { num: 14, title: "í˜ì´ì§€ ì†ì„± & ë³´ê³ ì„œ" },
      example: "ì˜ˆ: | ë‹´ë‹¹ì   | @í™ê¸¸ë™           |\n    | ìƒíƒœ     | /status ì§„í–‰ ì¤‘   |\n    | ë§ˆê°ì¼   | 2024-02-28        |\n    â†’ í˜ì´ì§€ ì†ì„± ë¦¬í¬íŠ¸ë¡œ ì „ì²´ í˜„í™© ì§‘ê³„"
    }
  };

  // â”€â”€ ì´ˆì„± ì¶”ì¶œ í—¬í¼ â”€â”€
  const consonants = ["ã„±","ã„²","ã„´","ã„·","ã„¸","ã„¹","ã…","ã…‚","ã…ƒ","ã……","ã…†","ã…‡","ã…ˆ","ã…‰","ã…Š","ã…‹","ã…Œ","ã…","ã…"];
  const navConsonants = ["ã„±","ã„´","ã„·","ã„¹","ã…","ã…‚","ã……","ã…‡","ã…ˆ","ã…Š","ã…‹","ã…Œ","ã…","ã…","ALL"];

  const getInitialConsonant = useCallback((char) => {
    const code = char.charCodeAt(0);
    if (code < 0xAC00 || code > 0xD7A3) return null;
    const index = Math.floor((code - 0xAC00) / 588);
    return consonants[index] || null;
  }, []);

  // Map doubled consonants to their base for nav filtering
  const consonantGroup = useCallback((c) => {
    const map = {"ã„²":"ã„±","ã„¸":"ã„·","ã…ƒ":"ã…‚","ã…†":"ã……","ã…‰":"ã…ˆ"};
    return map[c] || c;
  }, []);

  const filtered = useMemo(() => {
    let result = terms;

    // Filter by search query
    if (q.trim()) {
      const lq = q.toLowerCase();
      result = result.filter(([a, b, c]) => (a + b + c).toLowerCase().includes(lq));
    }

    // Filter by initial consonant
    if (activeConsonant !== "ALL") {
      result = result.filter(([ko]) => {
        const initial = getInitialConsonant(ko[0]);
        return initial && consonantGroup(initial) === activeConsonant;
      });
    }

    return result;
  }, [q, activeConsonant]);

  const toggleExpand = useCallback((termName) => {
    setExpandedTerm(prev => prev === termName ? null : termName);
  }, []);

  return (
    <div id="s21" className="section-reveal">
      <SectionHeader num={21} emoji={"ğŸ“–"} title={"ë¶€ë¡ B â€“ Confluence ìš©ì–´ ì‚¬ì „"} />

      {/* â”€â”€ ê²€ìƒ‰ ì…ë ¥ â”€â”€ */}
      <div style={{marginBottom:16}}>
        <input
          value={q}
          onChange={e => { setQ(e.target.value); setActiveConsonant("ALL"); }}
          placeholder={"ğŸ” ìš©ì–´ ê²€ìƒ‰..."}
          style={{width:"100%",maxWidth:400,padding:"10px 14px",borderRadius:8,border:`2px solid ${C.border}`,fontSize:14,outline:"none",boxSizing:"border-box"}}
        />
      </div>

      {/* â”€â”€ ê°€ë‚˜ë‹¤ ë„¤ë¹„ê²Œì´ì…˜ â”€â”€ */}
      <div style={{
        display:"flex",flexWrap:"wrap",gap:4,marginBottom:18,
        padding:"10px 12px",
        background:C.surface,borderRadius:10,
        border:`1px solid ${C.border}`
      }}>
        {navConsonants.map(c => (
          <button
            key={c}
            onClick={() => { setActiveConsonant(c); if (c !== "ALL") setQ(""); }}
            style={{
              padding: c === "ALL" ? "6px 12px" : "6px 10px",
              minWidth: c === "ALL" ? 44 : 32,
              background: activeConsonant === c ? C.accent : "transparent",
              color: activeConsonant === c ? "#fff" : C.textPrimary,
              border: activeConsonant === c ? `1px solid ${C.accent}` : "1px solid transparent",
              borderRadius:6,
              fontSize:13,
              fontWeight: activeConsonant === c ? 700 : 500,
              cursor:"pointer",
              transition:"all 0.15s ease"
            }}
          >
            {c}
          </button>
        ))}
      </div>

      {/* â”€â”€ ìš©ì–´ í…Œì´ë¸” with Accordion â”€â”€ */}
      <div style={{overflowX:"auto"}}>
        <table style={{width:"100%",borderCollapse:"collapse",fontSize:14}}>
          <thead>
            <tr style={{background:C.accent,color:"#fff"}}>
              {["ìš©ì–´","ì˜ë¬¸","ì„¤ëª…",""].map((h, i) => (
                <th key={i} style={{
                  padding:"10px 14px",textAlign:"left",fontWeight:600,
                  width: i === 3 ? 40 : "auto"
                }}>{h}</th>
              ))}
            </tr>
          </thead>
          <tbody>
            {filtered.map(([ko, en, desc], i) => {
              const hasDetail = !!detailData[ko];
              const isExpanded = expandedTerm === ko;
              return (
                <React.Fragment key={ko}>
                  <tr
                    onClick={() => hasDetail && toggleExpand(ko)}
                    style={{
                      background: isExpanded ? "#e8f0fe" : (i % 2 === 0 ? "#f8f9fa" : C.surface),
                      borderBottom: isExpanded ? "none" : `1px solid ${C.border}`,
                      cursor: hasDetail ? "pointer" : "default",
                      transition:"background 0.2s"
                    }}
                  >
                    <td style={{padding:"9px 14px",fontWeight:600,color:C.accent}}>{ko}</td>
                    <td style={{padding:"9px 14px",color:C.textSecondary}}>{en}</td>
                    <td style={{padding:"9px 14px",color:C.textPrimary}}>{desc}</td>
                    <td style={{padding:"9px 14px",textAlign:"center",fontSize:16,color: hasDetail ? C.accent : C.border}}>
                      {hasDetail ? (isExpanded ? "â–²" : "â–¼") : ""}
                    </td>
                  </tr>
                  {isExpanded && hasDetail && (
                    <tr style={{background:"#e8f0fe"}}>
                      <td colSpan={4} style={{padding:0,borderBottom:`1px solid ${C.border}`}}>
                        <div style={{
                          padding:"16px 20px 18px",
                          margin:"0 14px 14px",
                          background:C.surface,
                          borderRadius:8,
                          border:`1px solid ${C.border}`,
                          animation:"fadeIn 0.3s ease"
                        }}>
                          {/* ìƒì„¸ ì„¤ëª… */}
                          <p style={{margin:"0 0 14px",fontSize:13,lineHeight:1.7,color:C.textPrimary}}>
                            {detailData[ko].detail}
                          </p>

                          {/* ê´€ë ¨ ì„¹ì…˜ ë§í¬ */}
                          <div style={{
                            display:"flex",alignItems:"center",gap:8,
                            marginBottom:14,
                            padding:"8px 12px",
                            background:"#f0f4f8",borderRadius:6,
                            fontSize:13
                          }}>
                            <span style={{fontWeight:600,color:C.textSecondary}}>ê´€ë ¨ ì„¹ì…˜:</span>
                            <span style={{
                              color:C.accent,fontWeight:600,cursor:"pointer",
                              textDecoration:"underline",textUnderlineOffset:2
                            }}>
                              Section {detailData[ko].relatedSection.num} - {detailData[ko].relatedSection.title}
                            </span>
                          </div>

                          {/* ì‚¬ìš© ì˜ˆì‹œ */}
                          <div style={{
                            padding:"12px 16px",
                            background:"#1e2a3a",
                            borderRadius:6,
                            fontFamily:'Consolas,"Courier New",monospace',
                            fontSize:12,lineHeight:1.7,
                            color:"#a8d8ea",
                            whiteSpace:"pre-wrap",
                            overflowX:"auto"
                          }}>
                            {detailData[ko].example}
                          </div>
                        </div>
                      </td>
                    </tr>
                  )}
                </React.Fragment>
              );
            })}
            {filtered.length === 0 && (
              <tr>
                <td colSpan={4} style={{padding:20,textAlign:"center",color:C.textMuted}}>
                  ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤
                </td>
              </tr>
            )}
          </tbody>
        </table>
      </div>

      {/* â”€â”€ ìš©ì–´ í†µê³„ â”€â”€ */}
      <div style={{
        marginTop:14,
        display:"flex",justifyContent:"space-between",alignItems:"center",
        fontSize:12,color:C.textMuted,padding:"0 4px"
      }}>
        <span>ì „ì²´ {terms.length}ê°œ ìš©ì–´ ì¤‘ {filtered.length}ê°œ í‘œì‹œ</span>
        <span>â–¼ í‘œì‹œê°€ ìˆëŠ” ìš©ì–´ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì„¤ëª…ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤</span>
      </div>
    </div>
  );
}

const Section13 = PermissionsShieldDemo;
const Section14 = PagePropertiesDashboard;
const Section15 = JiraIntegrationDemo;
const Section16 = NotificationSettingsDemo;
const Section19 = PdfExportDemo;
const Section20 = ShortcutsAppendix;
const Section21 = GlossaryAppendix;

/* ======= APP ======= */
function App() {
  const [active, setActive] = useState("s1");
  const [visited, setVisited] = useState(new Set());
  useEffect(()=>{
    const obs = new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){setActive(e.target.id);setVisited(prev=>{const n=new Set(prev);n.add(e.target.id);return n;});}});},{rootMargin:"-20% 0px -60% 0px"});
    TOC_ITEMS.forEach(item=>{const el=document.getElementById(item.id);if(el)obs.observe(el);});
    return ()=>obs.disconnect();
  },[]);
  useEffect(()=>{
    document.querySelectorAll('.section-reveal').forEach(el=>{
      const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('visible');});},{threshold:0.1});
      obs.observe(el);
    });
  },[]);
  return <div style={{background:C.bg,minHeight:"100vh"}}>
    <HeroSection />
    <div style={{maxWidth:1100,margin:"0 auto",padding:"32px 24px 80px",display:"flex",gap:28}}>
      <TOCSidebar active={active} visited={visited} />
      <div style={{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:0}}>
        <StageHeader level="beginner" icon="ğŸŒŸ" title="ìš°ì£¼ ê¸°ì§€ ë„ì°©!" subtitle="Confluenceì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ê³µê°„ê³¼ ë¬¸ì„œë¥¼ ë§Œë“¤ê³  ì°¾ëŠ” ë°©ë²•ì„ ë°°ìš´ë‹¤" />
        <Section1 /><SectionDivider /><Section2 /><SectionDivider /><Section3 /><SectionDivider /><EditorDeepDive /><SectionDivider /><Section4 /><SectionDivider /><Section5 />
        <StageHeader level="intermediate" icon="ğŸš€" title="ë©‹ì§„ ìš°ì£¼ì„  ê¾¸ë¯¸ê¸°" subtitle="ë¬¸ì„œë¥¼ ì˜ˆì˜ê²Œ ê¾¸ë¯¸ê³ , íŒ€ì›ë“¤ê³¼ ì†Œí†µí•˜ëŠ” ë²•ì„ ë°°ìš´ë‹¤" />
        <Section6 /><SectionDivider /><Section7 /><SectionDivider /><Section8 /><SectionDivider /><Section9 /><SectionDivider /><Section10 /><SectionDivider /><SpaceManagement />
        <StageHeader level="advanced" icon="ğŸŒŒ" title="ìš°ì£¼ í•¨ëŒ€ ì‚¬ë ¹ê´€ ë˜ê¸°" subtitle="ë¬¸ì„œë¥¼ ë³´í˜¸í•˜ê³ , ì™¸ë¶€ ë„êµ¬ì™€ ì—°ë™í•˜ë©°, ê°•ë ¥í•œ ë³´ê³ ì„œë¥¼ ë§Œë“ ë‹¤" />
        <Section13 /><SectionDivider /><Section14 /><SectionDivider /><Section15 /><SectionDivider /><Section16 /><SectionDivider /><AnalyticsDashboard /><SectionDivider /><AutomationAndApps /><SectionDivider /><Section19 />
        <SectionDivider />
        <Section20 /><SectionDivider /><Section21 />
      </div>
    </div>
    <div style={{borderTop:`1px solid ${C.border}`,padding:"24px",textAlign:"center"}}><p style={{color:C.textMuted,fontSize:12}}>Confluence ì •ë³µ ê°€ì´ë“œ Â· ìš°ì£¼ ê¸°ì§€ ê±´ì„¤ë¶€í„° ì‚¬ë ¹ê´€ê¹Œì§€</p></div>
  </div>;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
